(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],Array(20).concat([function(e){e.exports=JSON.parse('[{"id":"the-old-world","name":"Warhammer: The Old World","armies":[{"id":"empire-of-man","name_de":"Empire of Man","name_en":"Empire of Man","items":["general","empire-of-man"]},{"id":"orc-and-goblin-tribes","name_de":"Orc & Goblin Tribes","name_en":"Orc & Goblin Tribes","items":["general","orc-and-goblin-tribes"]},{"id":"dwarfen-mountain-holds","name_de":"Dwarfen Mountain Holds","name_en":"Dwarfen Mountain Holds","items":["dwarfen-mountain-holds"]},{"id":"warriors-of-chaos","name_de":"Warriors of Chaos","name_en":"Warriors of Chaos","items":["general","warriors-of-chaos","gifts-of-chaos","chaos-mutations"]},{"id":"kingdom-of-bretonnia","name_de":"Kingdom of Bretonnia","name_en":"Kingdom of Bretonnia","allies":["dwarfen-mountain-holds","empire-of-man","high-elf-realms","wood-elf-realms"],"items":["general","kingdom-of-bretonnia","knightly-virtues"]},{"id":"beastmen-brayherds","name_de":"Beastmen Brayherds","name_en":"Beastmen Brayherds","items":["general","beastmen-brayherds","chaos-mutations"]},{"id":"wood-elf-realms","name_de":"Wood Elf Realms","name_en":"Wood Elf Realms","items":["general","wood-elf-realms","forest-spites"]},{"id":"tomb-kings-of-khemri","name_de":"Tomb Kings of Khemri","name_en":"Tomb Kings of Khemri","items":["general","tomb-kings-of-khemri"]},{"id":"high-elf-realms","name_de":"High Elf Realms","name_en":"High Elf Realms","items":["general","high-elf-realms","elven-honours"]},{"id":"dark-elves","name_de":"Dark Elves","name_en":"Dark Elves","items":["general"]},{"id":"skaven","name_de":"Skaven","name_en":"Skaven","items":["general"]},{"id":"vampire-counts","name_de":"Vampire Counts","name_en":"Vampire Counts","items":["general"]},{"id":"daemons-of-chaos","name_de":"Daemons of Chaos","name_en":"Daemons of Chaos","items":["general"]},{"id":"ogre-kingdoms","name_de":"Ogre Kingdoms","name_en":"Ogre Kingdoms","items":["general"]},{"id":"lizardmen","name_de":"Lizardmen","name_en":"Lizardmen","items":["general"]},{"id":"chaos-dwarfs","name_de":"Chaos Dwarfs","name_en":"Chaos Dwarfs","items":["general"]}]},{"id":"warhammer-fantasy","name":"Warhammer Fantasy","armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Orcs & Goblins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["heirlooms","dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]}]')},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"header.back":"Back","header.close":"Close","header.more":"More options","footer.about":"About OWB","footer.help":"Help","footer.datasets":"Datasets","footer.privacy":"Privacy Policy","footer.changelog":"News","app.point":"pt","app.points":"pts","home.empty":"Create your first list.","home.newList":"New list","new.title":"New list","new.army":"Army:","new.create":"Create list","misc.name":"Name:","misc.description":"Description (optional):","misc.points":"Points:","misc.increase":"Increase","misc.decrease":"Decrease","misc.duplicate":"Duplicate","misc.rename":"Rename","misc.edit":"Edit","misc.delete":"Delete","misc.export":"Export","misc.print":"Print","misc.remove":"Remove","misc.startpage":"To home page","editor.add":"Add","editor.lords":"Lords","editor.heroes":"Heroes","editor.characters":"Characters","editor.core":"Core Units","editor.special":"Special Units","editor.rare":"Rare Units","editor.mercenaries":"Mercenaries","editor.allies":"Allies","editor.tooManyPoints":"pts too many","editor.availablePoints":"pts available","editor.missingPoints":"pts missing","add.title":"Select unit","duplicate.copyOf":"Copy of","duplicate.title":"Duplicate list","edit.title":"Edit list","export.title":"Export list","export.copy":"Copy as text","export.copied":"Text copied!","export.error":"That unfortunately did not work :(.","export.visibleList":"Visible list","export.visibleListDescription":"no points and hidden items","export.createdWith":"Created with","print.printing":"Printing...","unit.perModel":"per model","unit.noOptions":"No options available.","unit.unitSize":"Unit size:","unit.command":"Command:","unit.equipment":"Weapons:","unit.armor":"Armor:","unit.options":"Options:","unit.mount":"Mount:","unit.magicItems":"Magic Items","unit.detachments":"Detachments","help.title":"Help","help.text":"If you have any questions or problems, you can create an issue on {github} or join our {discord}.","about.title":"What\'s the \\"Old World Builder\\"?","about.text":"The {owb} is an army builder for the Games Workshop tabletop games Warhammer Fantasy and Warhammer: The Old World.","about.text2":"The project is open source ({github}) and is being developed by Nico Thiebes.","about.text3":"The {owb} is open source. You can help to complete or translate missing or incomplete army datasets. You can find more details under {datasets} or on our {discord}.","about.support":"Your support","about.disclaimer":"This web site is completely unofficial and in no way endorsed by Games Workshop Limited.","about.credits":"Fantasy icons from {gameIcons} ({license}).","rename.title":"Rename unit","404.title":"404 - Page not found","changelog.title":"What\'s new?","changelog.change0":"New {datasets} editor for easier contribution. You can expand existing army data, add missing translations or create a new army dataset.","changelog.change1":"Printing a list without points or magic items is now possible.","changelog.change2":"{privacy} added. Although we don\'t collect any personal data, we need it for the upcoming release of our Android app.","changelog.change3":"Various minor design changes and fixes."}')},function(e){e.exports=JSON.parse('{"header.back":"Zur\xfcck","header.close":"Schlie\xdfen","header.more":"Mehr Optionen","footer.about":"\xdcber OWB","footer.help":"Hilfe","footer.datasets":"Datens\xe4tze","footer.privacy":"Datenschutzerkl\xe4rung","footer.changelog":"Neuigkeiten","app.point":"Pkt.","app.points":"Pkte.","home.empty":"Erstelle jetzt deine erste Liste.","home.newList":"Neue Liste","new.title":"Neue Liste","new.army":"Armee:","new.create":"Liste anlegen","misc.name":"Name:","misc.description":"Beschreibung (optional):","misc.points":"Punkte:","misc.increase":"Erh\xf6hen","misc.decrease":"Verringern","misc.duplicate":"Duplizieren","misc.rename":"Umbenennen","misc.edit":"Bearbeiten","misc.delete":"L\xf6schen","misc.export":"Exportieren","misc.print":"Drucken","misc.remove":"Entfernen","misc.startpage":"Zur Startseite","editor.add":"Hinzuf\xfcgen","editor.lords":"Kommandanten","editor.heroes":"Helden","editor.characters":"Charaktere","editor.core":"Kerneinheiten","editor.special":"Eliteeinheiten","editor.rare":"Seltene Einheiten","editor.mercenaries":"S\xf6ldner","editor.allies":"Verb\xfcndete","editor.tooManyPoints":" Pkte. zu viel","editor.availablePoints":" Pkte. verf\xfcgbar","editor.missingPoints":" Pkte. fehlen","add.title":"Einheit ausw\xe4hlen","duplicate.copyOf":"Kopie von","duplicate.title":"Liste duplizieren","edit.title":"Liste bearbeiten","export.title":"Liste exportieren","export.copy":"Als Text kopieren","export.copied":"Text kopiert!","export.error":"Das hat leider nicht geklappt :(.","export.visibleList":"Sichtbare Liste","export.visibleListDescription":"keine Punkte und versteckte Gegenst\xe4nde","export.createdWith":"Erstellt mit","print.printing":"Druckt...","unit.perModel":"pro Modell","unit.noOptions":"Keine Optionen verf\xfcgbar.","unit.unitSize":"Einheitengr\xf6\xdfe:","unit.command":"Kommandoabteilung:","unit.equipment":"Waffen:","unit.armor":"R\xfcstung:","unit.options":"Optionen:","unit.mount":"Reittier:","unit.magicItems":"Magische Gegenst\xe4nde","unit.detachments":"Abteilungen","help.title":"Hilfe","help.text":"Bei Fragen oder Problemen kannst du ein Issue auf {github} erstellen oder unserem {discord} beitreten.","about.title":"Was ist der \\"Old World Builder\\"?","about.text":"Der {owb} ist ein Armeeplaner f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World.","about.text2":"Das Projekt ist Open-Source ({github}) und wird entwickelt von Nico Thiebes.","about.text3":"Der {owb} wird Open-Source entwickelt. Ihr k\xf6nnt dabei helfen, fehlende bzw. unvollst\xe4ndige Datensets der Armeen zu erg\xe4nzen und \xfcbersetzen. Details dazu Ihr findet ihr unter {datasets} oder auf unserem {discord}.","about.support":"Eure Unterst\xfctzung","about.disclaimer":"Diese Website ist v\xf6llig inoffiziell und wird in keiner Weise von Games Workshop Limited unterst\xfctzt.","about.credits":"Fantasy icons von {gameIcons} ({license}).","rename.title":"Einheit umbenennen","404.title":"404 - Seite nicht gefunden","changelog.title":"Was gibt\'s Neues?","changelog.change0":"Neuer {datasets} Editor f\xfcr einfachere Mitarbeit. Du kannst vorhandene Armeedaten erweitern, fehlende \xdcbersetzungen hinzuf\xfcgen oder einen neuen Armeedatensatz erstellen.","changelog.change1":"Das Drucken einer Liste ohne Punkte oder magische Gegenst\xe4nde ist jetzt m\xf6glich.","changelog.change2":"{privacy} hinzugef\xfcgt. Obwohl wir keine personenbezogenen Daten sammeln, ben\xf6tigen wir diese f\xfcr die bevorstehende Ver\xf6ffentlichung unserer Android-App.","changelog.change3":"Verschiedene kleinere Design\xe4nderungen und Anpassungen."}')},,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(32),s=n.n(i),o=n(6),r=n(36),l=n(10),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(5),b=n(9),h=n(14),p=n(8),O=n(25),x=n(43),g=n(2),f=n(11),_=n.n(f),v=n.p+"static/media/symbol-defs.edd30f1f.svg",y=(n(63),n(0)),N=function(e){var t=e.className,n=e.symbol,a=e.color;return Object(y.jsx)("svg",{focusable:"false",className:_()("icon",a&&"icon--".concat(a),t),children:Object(y.jsx)("use",{xlinkHref:"".concat(v,"#icon-").concat(n)})})},k=(n(65),function(e){var t=e.className,n=e.type,a=e.to,c=e.onClick,i=e.children,s=e.spaceBottom,o=e.spaceTop,r=e.fullWidth,l=e.label,d=e.icon,m=e.centered,j=e.color,u=e.submitButton,h=e.disabled,p=e.size,O=a?b.b:"button",x={};return a||(x.type=u?"submit":"button"),Object(y.jsxs)(O,Object(g.a)(Object(g.a)({className:_()("button","button--".concat(n),j&&"button--".concat(j),s&&"button--spaceBottom",o&&"button--spaceTop",r&&"button--fullWidth",m&&"button--centered",h&&"button--disabled","button--".concat(p),t),onClick:c,to:a,"aria-label":l,title:l,disabled:h},x),{},{children:[d&&Object(y.jsx)(N,{className:_()(i&&"button__icon"),symbol:d}),i&&i]}))});k.defaultProps={type:"primary",size:"large"};var w,M,C,F=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,armor:e.armor?e.armor.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null})}))},I=(n(67),function(e){var t=e.className,n=e.headline,c=e.subheadline,i=e.moreButton,s=e.to,o=e.isSection,r=e.hasPointsError,l=e.hasMainNavigation,d=Object(O.a)(),m=Object(h.g)(),j=Object(a.useState)(!1),b=Object(u.a)(j,2),p=b[0],x=b[1],g=o?"section":"header",f=[{name:d.formatMessage({id:"footer.about"}),to:"/about"},{name:d.formatMessage({id:"footer.help"}),to:"/help"},{name:d.formatMessage({id:"footer.datasets"}),to:"/datasets"},{name:d.formatMessage({id:"footer.changelog"}),to:"/changelog"}],v=l?f:i;return Object(a.useEffect)((function(){x(!1)}),[m.pathname]),Object(y.jsxs)(g,{className:_()(o?"column-header":"header",t),children:[s?Object(y.jsx)(k,{type:"text",to:s,label:o?d.formatMessage({id:"header.close"}):d.formatMessage({id:"header.back"}),color:o?"dark":"light",icon:o?"close":"back"}):Object(y.jsx)(y.Fragment,{children:v&&Object(y.jsx)("div",{className:"header__empty-icon"})}),Object(y.jsxs)("div",{className:"header__text",children:[n&&Object(y.jsx)("h1",{className:"header__name",children:n}),c&&Object(y.jsxs)("p",{className:"header__points",children:[c," ",r&&Object(y.jsx)(N,{symbol:"error",color:"red"})]})]}),v?Object(y.jsx)(k,{type:"text",className:_()(p&&"header__more-button"),color:o?"dark":"light",label:d.formatMessage({id:"header.more"}),icon:"more",onClick:function(){x(!p)}}):Object(y.jsx)(y.Fragment,{children:s&&Object(y.jsx)("div",{className:"header__empty-icon"})}),p&&Object(y.jsx)("ul",{className:_()("header__more",!l&&"header__more--secondary-navigation"),children:v.map((function(e){var t=e.callback,n=e.name,a=e.icon,c=e.to;return Object(y.jsx)("li",{children:Object(y.jsx)(k,{type:"text",onClick:t,to:c,icon:a,children:n})},n)}))})]})}),P=(n(68),function(){return Object(y.jsx)(N,{symbol:"spinner",className:"spinner"})}),E=function(){return{language:localStorage.getItem("lang")}},B=n.p+"static/media/germany.d9625f93.svg",W=n.p+"static/media/usa.699fdb72.svg",T=(n(69),function(e){var t=e.className,n=e.children,a=e.isDesktop,c=e.compact,i=e.loading,s=E().language,o=function(e){localStorage.setItem("lang",e.target.value),window.location.reload()};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("main",{className:_()("main",a?"main--desktop":"main--mobile",c&&"main--compact",t),children:[n,i&&Object(y.jsx)(P,{})]}),!i&&Object(y.jsxs)("footer",{className:"footer",children:[Object(y.jsxs)("nav",{className:"footer__navigation",children:[Object(y.jsx)(b.b,{to:"/about",children:Object(y.jsx)(x.a,{id:"footer.about"})}),Object(y.jsx)(b.b,{to:"/help",children:Object(y.jsx)(x.a,{id:"footer.help"})}),Object(y.jsx)(b.b,{to:"/datasets",children:Object(y.jsx)(x.a,{id:"footer.datasets"})}),Object(y.jsx)(b.b,{to:"/changelog",children:Object(y.jsx)(x.a,{id:"footer.changelog"})}),Object(y.jsx)(b.b,{to:"/privacy",children:Object(y.jsx)(x.a,{id:"footer.privacy"})})]}),Object(y.jsxs)("div",{className:"footer__languages",children:[Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"english",name:"languages",value:"en",onChange:o,defaultChecked:"en"===s,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"english",className:"radio__label",children:[Object(y.jsx)("img",{width:"24",alt:"",src:W,className:"footer__language-icon"}),"English"]})]}),Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"deutsch",name:"languages",value:"de",onChange:o,defaultChecked:"de"===s,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"deutsch",className:"radio__label",children:[Object(y.jsx)("img",{width:"24",alt:"",src:B,className:"footer__language-icon"}),"Deutsch"]})]})]})]})]})}),q=(n(70),function(e){var t=e.options,n=e.className,a=e.id,c=e.name,i=e.required,s=e.selected,o=e.disabled,r=e.value,l=e.onChange,d=e.spaceTop,m=e.spaceBottom,j=E().language;return Object(y.jsx)("select",{id:a,name:c,required:i,onChange:function(e){l(e.target.value)},value:r,defaultValue:s,disabled:o,className:_()("select",d&&"select--spaceTop",m&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.name_en,a=e.id;return Object(y.jsx)("option",{value:a,children:"de"===j?t:n},a)}))})}),L=(n(71),function(e){var t=Object(O.a)();return Object(y.jsxs)("div",{className:"number-input",children:[Object(y.jsx)("input",Object(g.a)(Object(g.a)({},e),{},{type:"number",pattern:"[0-9]*"})),Object(y.jsx)(k,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)+1,id:e.id}})},type:"secondary",icon:"up",label:t.formatMessage({id:"misc.increase"}),disabled:e.value>=e.max&&0!==e.max,className:"number-input__button number-input__button--up"}),Object(y.jsx)(k,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)-1,id:e.id}})},type:"secondary",icon:"down",label:t.formatMessage({id:"misc.decrease"}),disabled:e.value<=e.min,className:"number-input__button number-input__button--down"})]})}),D=n(20),A=n(17),U=n(24),z=Object(U.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,a=n.listId,c={name:n.name,points:n.points,description:n.description};return Object.keys(c).forEach((function(e){return void 0===c[e]?delete c[e]:{}})),e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),c):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unit,s=Object(g.a)(Object(g.a)({},i),{},{strength:i.minimum});return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(A.a)({},c,[].concat(Object(p.a)(e[c]),[s]))):e}))},duplicateUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId,s=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===i}));return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(A.a)({},c,[].concat(Object(p.a)(e[c]),[Object(g.a)(Object(g.a)({},s),{},{id:"".concat(s.id.split(".")[0],".").concat(F())})]))):e}))},editUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.strength,s=n.unitId,o=n.options,r=n.equipment,l=n.armor,d=n.command,m=n.mounts,j=n.magic,u=n.items,b=n.name,h={strength:i,options:o,equipment:r,armor:l,command:d,mounts:m,magic:j,items:u,detachments:n.detachments,name_de:b,name_en:b},p=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===s}));Object.keys(h).forEach((function(e){return void 0===h[e]?delete h[e]:{}}));var O=Object(g.a)(Object(g.a)({},p),h);return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(A.a)({},c,e[c].map((function(e){return e.id===p.id?O:e})))):e}))},removeUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId;return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(A.a)({},c,e[c].filter((function(e){return e.id!==i})))):e}))}}}),G=z.actions,R=G.setLists,H=G.addUnit,J=G.editUnit,K=G.removeUnit,V=G.duplicateUnit,Y=G.updateList,Z=G.deleteList,$=(G.duplicateList,z.reducer),Q=n.p+"static/media/warhammer-fantasy.4a99fa99.png",X=n.p+"static/media/the-old-world.6310c52f.png",ee=(n(72),function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(h.g)(),i=Object(o.b)(),s=Object(O.a)(),r=Object(o.c)((function(e){return e.lists})),l=Object(a.useState)("the-old-world"),d=Object(u.a)(l,2),m=d[0],j=d[1],b=Object(a.useState)(D.find((function(e){return e.id===m})).armies[0].id),g=Object(u.a)(b,2),f=g[0],_=g[1],v=Object(a.useState)(""),N=Object(u.a)(v,2),w=N[0],M=N[1],C=Object(a.useState)(""),S=Object(u.a)(C,2),P=S[0],E=S[1],B=Object(a.useState)(2e3),W=Object(u.a)(B,2),A=W[0],U=W[1],z=Object(a.useState)(null),G=Object(u.a)(z,2),H=G[0],J=G[1],K=function(e){j(e.target.value),_(D.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(y.jsxs)(y.Fragment,{children:[H&&Object(y.jsx)(h.a,{to:"/editor/".concat(H)}),t&&Object(y.jsx)(I,{to:"/",headline:s.formatMessage({id:"new.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/",headline:s.formatMessage({id:"new.title"})}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=F(),t={"warhammer-fantasy":{name:w,description:P,game:m,points:A,army:f,lords:[],heroes:[],core:[],special:[],rare:[],id:e},"the-old-world":{name:w,description:P,game:m,points:A,army:f,characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[],id:e}},n=[].concat(Object(p.a)(r),[t[m]]);localStorage.setItem("owb.lists",JSON.stringify(n)),i(R(n)),J(e)}()},className:"new-list",children:[D.map((function(e){var t=e.name,n=e.id;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:K,checked:n===m,className:"radio__input","aria-label":t}),Object(y.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(y.jsx)("img",{height:"20",src:Q,alt:t}),"the-old-world"===n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{height:"35",src:X,alt:t}),Object(y.jsx)("p",{className:"new-list__beta",children:"Beta"})]})]})]},n)})),Object(y.jsx)("label",{htmlFor:"name",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:w,onChange:function(e){M(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(y.jsx)("label",{htmlFor:"description",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:P,onChange:function(e){E(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(L,{id:"points",className:"input",min:0,value:A,onChange:function(e){U(e.target.value)},required:!0}),Object(y.jsx)("label",{htmlFor:"army",children:Object(y.jsx)(x.a,{id:"new.army"})}),Object(y.jsx)(q,{id:"army",options:D.filter((function(e){return e.id===m}))[0].armies,onChange:function(e){_(e)},selected:"empire-of-man",spaceBottom:!0,required:!0}),Object(y.jsx)(k,{centered:!0,icon:"add-list",submitButton:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"new.create"})})]})]})]})}),te={lords:{maxPercent:25},heroes:{maxPercent:25},characters:{maxPercent:50},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4},mercenaries:{maxPercent:20},allies:{maxPercent:25}},ne=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*te[t].maxPercent;return{points:Math.floor(c),overLimit:a>c,diff:a>c?Math.ceil(a-c):0}},ae=(n(73),function(e){var t=e.to,n=e.onClick,a=e.children,c=e.className,i=e.active,s=t?b.b:"button";return Object(y.jsx)("li",{className:_()("list",i&&"list--active",c),children:Object(y.jsx)(s,{to:t,className:"list__inner",onClick:n,children:a})})}),ce=function(e){var t=e.mounts,n=e.equipment,a=e.armor,c=e.options,i=e.command,s=e.items,o=e.detachments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r.asString,d=r.noMagic,m=localStorage.getItem("lang"),j=[];i&&i.forEach((function(e){var t,n=e.name_de,a=e.name_en,c=e.active,i=e.magic;c&&j.push("de"===m?n:a),i&&(null===i||void 0===i||null===(t=i.selected)||void 0===t?void 0:t.length)&&i.selected.forEach((function(e){j.push("de"===m?e.name_de:e.name_en)}))}));var u=n?n.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],b=a?a.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],h=c?c.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],O=c?c.filter((function(e){return e.stackableCount>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.stackableCount;return"".concat(a," ").concat("de"===m?t:n)})):[],x=t?t.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],g=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(e){(e.selected||[]).forEach((function(e){var t=e.name_de,n=e.name_en;g.push("de"===m?t:n)}))}));var f=o?o.filter((function(e){return e.strength>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength;return"".concat(a," ").concat("de"===m?t:n)})):[],_=[].concat(Object(p.a)(u),Object(p.a)(b),Object(p.a)(h),Object(p.a)(O),j,Object(p.a)(x),Object(p.a)(d?[]:g),Object(p.a)(f)),v=_.join(", ");return v?l?v:Object(y.jsx)("p",{children:v}):null},ie=function(e){var t=0;return t=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(n){n.stackable?t+=(n.stackableCount||n.minimum||0)*n.points:n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.equipment&&e.equipment.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.armor&&e.armor.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.command&&e.command.forEach((function(e){var n,a;e.active&&(t+=e.points),e.magic&&(null===(n=e.magic)||void 0===n||null===(a=n.selected)||void 0===a?void 0:a.length)&&e.magic.selected.forEach((function(e){t+=e.points}))})),e.mounts&&e.mounts.forEach((function(e){e.active&&(t+=e.points)})),(null===e||void 0===e?void 0:e.items)&&(null===e||void 0===e?void 0:e.items.length)&&e.items.forEach((function(e){(e.selected||[]).forEach((function(e){t+=e.points}))})),e.detachments&&e.detachments.forEach((function(e){t+=e.strength*e.points})),t},se=function(e){var t=e.selected,n=0;return t&&t.forEach((function(e){n+=e.points})),n},oe=function(e){var t=0;return e&&e.forEach((function(e){t+=e.points})),t},re=function(e){var t=e.type,n=e.list,a=0;return n[t]&&n[t].forEach((function(e){a+=ie(e)})),a},le=function(e){return re({list:e,type:"lords"})+re({list:e,type:"heroes"})+re({list:e,type:"core"})+re({list:e,type:"special"})+re({list:e,type:"rare"})+re({list:e,type:"characters"})+re({list:e,type:"mercenaries"})+re({list:e,type:"allies"})},de=function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("owb.lists",JSON.stringify(t))},me=(n(74),function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(h.h)().listId,i=Object(O.a)(),s=Object(o.b)(),r=Object(a.useState)(!1),d=Object(u.a)(r,2),m=d[0],j=d[1],b=Object(h.g)(),p=E().language,g=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return c===t}))}));if(Object(a.useEffect)((function(){var e=function(){document.location.hash==="#".concat(b.pathname)&&sessionStorage.setItem("scrollPosition",window.pageYOffset)};return window.addEventListener("scroll",function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}(e,100)),window.scrollTo(0,Number(sessionStorage.getItem("scrollPosition"))||0),function(){return window.removeEventListener("scroll",e)}}),[b.pathname]),Object(a.useEffect)((function(){g&&de(g)}),[g]),m)return Object(y.jsx)(h.a,{to:"/"});if(!g)return t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/"}),Object(y.jsx)(T,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/",isSection:!0}),Object(y.jsx)(T,{loading:!0})]});var f=le(g),v=re({list:g,type:"lords"}),w=re({list:g,type:"heroes"}),M=re({list:g,type:"characters"}),C=re({list:g,type:"core"}),F=re({list:g,type:"special"}),S=re({list:g,type:"rare"}),P=re({list:g,type:"mercenaries"}),B=re({list:g,type:"allies"}),W=ne({type:"lords",armyPoints:g.points,points:v}),q=ne({type:"heroes",armyPoints:g.points,points:w}),L=ne({type:"characters",armyPoints:g.points,points:M}),D=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*te[t].minPercent;return{points:Math.floor(c),overLimit:a<=c,diff:a<=c?Math.ceil(c-a):0}}({type:"core",armyPoints:g.points,points:C}),A=ne({type:"special",armyPoints:g.points,points:F}),U=ne({type:"rare",armyPoints:g.points,points:S}),z=ne({type:"mercenaries",armyPoints:g.points,points:P}),G=ne({type:"allies",armyPoints:g.points,points:B}),R=[{name:i.formatMessage({id:"misc.edit"}),icon:"edit",to:"/editor/".concat(c,"/edit")},{name:i.formatMessage({id:"misc.duplicate"}),icon:"duplicate",to:"/editor/".concat(c,"/duplicate")},{name:i.formatMessage({id:"misc.delete"}),icon:"delete",callback:function(){s(Z(c)),function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("owb.lists",JSON.stringify(t))}(c),j(!0)}},{name:i.formatMessage({id:"misc.export"}),icon:"export",to:"/editor/".concat(c,"/export")},{name:i.formatMessage({id:"misc.print"}),icon:"print",to:"/print/".concat(c)}];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===g||void 0===g?void 0:g.name)})}),t&&Object(y.jsx)(I,{to:"/",headline:g.name,subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",f>g.points&&"magic__header-points--error"),children:[f,"\xa0"]}),"/ ".concat(g.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:f>g.points,moreButton:R}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/",headline:g.name,subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",f>g.points&&"magic__header-points--error"),children:[f,"\xa0"]}),"/ ".concat(g.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:f>g.points,moreButton:R}),g.lords&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.lords"})}),Object(y.jsx)("p",{className:"editor__points",children:W.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:W.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:W.points-v}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.lords.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/lords/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/lords"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),g.heroes&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.heroes"})}),Object(y.jsx)("p",{className:"editor__points",children:q.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:q.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:q.points-w}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.heroes.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/heroes/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/heroes"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),g.characters&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.characters"})}),Object(y.jsx)("p",{className:"editor__points",children:L.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:L.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:L.points-M}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.characters.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/characters/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/characters"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.core"})}),Object(y.jsx)("p",{className:"editor__points",children:D.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:D.diff}),Object(y.jsx)(x.a,{id:"editor.missingPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:C})," / ".concat(D.points," "),Object(y.jsx)(x.a,{id:"app.points"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.core.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/core/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(y.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/core"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.special"})}),Object(y.jsx)("p",{className:"editor__points",children:A.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:A.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:A.points-F}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.special.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/special/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(y.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/special"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.rare"})}),Object(y.jsx)("p",{className:"editor__points",children:U.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:U.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:U.points-S}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.rare.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/rare/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(y.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/editor/".concat(c,"/add/rare"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),g.mercenaries&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.mercenaries"})}),Object(y.jsx)("p",{className:"editor__points",children:z.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:z.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:z.points-P}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.mercenaries.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/mercenaries/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)("p",{className:"editor__soon",children:"Coming soon"})]}),g.allies&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.allies"})}),Object(y.jsx)("p",{className:"editor__points",children:G.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:G.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:G.points-B}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:g.allies.map((function(e,t){return Object(y.jsxs)(ae,{to:"/editor/".concat(c,"/allies/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(ie(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ce(e)]},t)}))}),Object(y.jsx)("p",{className:"editor__soon",children:"Coming soon"})]})]})]})}),je=n(50),ue=n.p+"static/media/the-empire.d3620178.svg",be=n.p+"static/media/dwarfs.d1515ee2.svg",he=n.p+"static/media/greenskins.ea460b46.svg",pe=n.p+"static/media/beastmen.6a9fce0f.svg",Oe=n.p+"static/media/chaos-deamons.1f26ab65.svg",xe=n.p+"static/media/chaos-warriors.95dbc8c2.svg",ge=n.p+"static/media/dark-elves.9d17a9e4.svg",fe=n.p+"static/media/high-elves.446a07c8.svg",_e=n.p+"static/media/lizardmen.1864459d.svg",ve=n.p+"static/media/ogres.8b76905b.svg",ye=n.p+"static/media/skaven.76cb48b7.svg",Ne=n.p+"static/media/tomb-kings.9b30c541.svg",ke=n.p+"static/media/vampire-counts.fd13d874.svg",we=n.p+"static/media/wood-elves.2b1066f8.svg",Me=n.p+"static/media/chaos-dwarfs.ee5f1bd3.svg",Ce=n.p+"static/media/bretonnia.e5c3a1d0.svg",Fe=(n(75),{"the-empire":ue,dwarfs:be,greenskins:he,"empire-of-man":ue,"orc-and-goblin-tribes":he,"dwarfen-mountain-holds":be,"warriors-of-chaos":xe,"kingdom-of-bretonnia":Ce,"beastmen-brayherds":pe,"wood-elf-realms":we,"tomb-kings-of-khemri":Ne,"high-elf-realms":fe,"dark-elves":ge,skaven:ye,"vampire-counts":ke,"daemons-of-chaos":Oe,"ogre-kingdoms":ve,lizardmen:_e,"chaos-dwarfs":Me}),Se=function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(o.c)((function(e){return e.lists})),i=Object(h.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder - Army builder for Warhammer Fantasy and Warhammer: The Old World"})}),t&&Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(n,{children:[!c.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{src:ue,alt:"",width:"100",height:"100",className:"home__logo"}),Object(y.jsx)("i",{className:"home__empty",children:Object(y.jsx)(x.a,{id:"home.empty"})})]}),Object(y.jsx)("ul",{children:c.map((function(e,t){var n=e.id,a=e.name,c=e.description,s=e.points,o=e.game,r=e.army,l=Object(je.a)(e,["id","name","description","points","game","army"]);return Object(y.jsxs)(ae,{to:"/editor/".concat(n),active:i.pathname.includes(n),children:[Object(y.jsxs)("span",{className:"home__list-item",children:[Object(y.jsx)("h2",{className:"home__headline",children:a}),c&&Object(y.jsx)("p",{className:"home__description",children:c}),Object(y.jsxs)("p",{className:"home__points",children:[le(Object(g.a)(Object(g.a)({},l),{},{points:s}))," ","/ ",s," ",Object(y.jsx)(x.a,{id:"app.points"})]})]}),Object(y.jsxs)("div",{className:"home__info",children:[Object(y.jsx)("img",{width:"70",src:"warhammer-fantasy"===o?Q:X,alt:"warhammer-fantasy"===o?"Warhammer Fantasy":"Warhammer: The Old World",className:"home__game"}),Object(y.jsx)("img",{height:"40",width:"40",src:Fe[r],alt:""})]})]},t)}))}),Object(y.jsx)(k,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"home.newList"})})]})]})},Ie=(n(76),function(e){var t=e.url,n=e.onSuccess,a=e.onError;w=new AbortController,fetch("".concat("/").concat(t,".json?v=").concat("0.4.71"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:w.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){a&&a(e)}))}),Pe=Object(U.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),Ee=Pe.actions.setItems,Be=Pe.reducer,We={greenskins:{name_de:"Glitzakram",name_en:"Shiny Stuff"},"the-empire":{name_de:"Magische Erbst\xfccke",name_en:"Heirlooms of Magic"},heirlooms:{name_de:"Erbst\xfccke",name_en:"Ancestral Heirlooms"},dwarfs:{name_de:"Zwergenrunen",name_en:"Runic Items"},general:{name_de:"Gew\xf6hnliche Magische Gegenst\xe4nde",name_en:"Common Magic Items"},weapon:{name_de:"Magische Waffen",name_en:"Magic Weapons"},armor:{name_de:"Magische R\xfcstungen",name_en:"Magic Armour"},talisman:{name_de:"Talismane",name_en:"Talismans"},banner:{name_de:"Magische Standarten",name_en:"Magic Standards"},artifact:{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"arcane-item":{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"enchanted-item":{name_de:"Verzauberte Gegenst\xe4nde",name_en:"Enchanted Items"},"weapon-runes":{name_de:"Waffenrunen",name_en:"Weapon Runes"},"armor-runes":{name_de:"R\xfcstungsrunen",name_en:"Armour Runes"},"banner-runes":{name_de:"Standartenrunen",name_en:"Banner Runes"},"talismanic-runes":{name_de:"Talismanrunen",name_en:"Talismanic Runes"},"engineering-runes":{name_de:"Maschinenrunen",name_en:"Engineering Runes"},triptych:{name_de:"Triptych",name_en:"Triptych"},"kingdom-of-bretonnia":{name_de:"Kingdom of Bretonnia",name_en:"Kingdom of Bretonnia"},"chaos-mutations":{name_de:"Chaos Mutations",name_en:"Chaos Mutations"},"chaos-mutation":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-character":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-chieftain":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"gifts-of-chaos":{name_de:"Gifts of Chaos",name_en:"Gifts of Chaos"},"gift-of-chaos":{name_de:"Gift of Chaos",name_en:"Gift of Chaos"},"forest-spites":{name_de:"Forest Spites",name_en:"Forest Spites"},"forest-spite":{name_de:"Forest Spite",name_en:"Forest Spite"},"beastmen-brayherds":{name_de:"Beastmen Brayherds",name_en:"Beastmen Brayherds"},"orc-and-goblin-tribes":{name_de:"Orc & Goblin Tribes",name_en:"Orc & Goblin Tribes"},"dwarfen-mountain-holds":{name_de:"Zwergenrunen",name_en:"Runic Items"},"empire-of-man":{name_de:"Empire of Man",name_en:"Empire of Man"},"wood-elf-realms":{name_de:"Wood Elf Realms",name_en:"Wood Elf Realms"},"high-elf-realms":{name_de:"High Elf Realms",name_en:"High Elf Realms"},"tomb-kings-of-khemri":{name_de:"Tomb Kings of Khemri",name_en:"Tomb Kings of Khemri"},"warriors-of-chaos":{name_de:"Warriors of Chaos",name_en:"Warriors of Chaos"},"knightly-virtues":{name_de:"Knightly Virtues",name_en:"Knightly Virtues"},"knightly-virtue":{name_de:"Knightly Virtue",name_en:"Knightly Virtue"},"knightly-virtue-character":{name_de:"Knightly Virtue (Characters only)",name_en:"Knightly Virtue (Characters only)"},"elven-honours":{name_de:"Elven Honours",name_en:"Elven Honours"},"elven-honour":{name_de:"Elven Honour",name_en:"Elven Honour"}},Te=(n(77),function(e){var t,n,c,i,s,r,d,m,j,b,f,v=e.isMobile,N=v?T:a.Fragment,k=Object(h.g)(),w=E().language,F=Object(O.a)(),S=Object(a.useState)(!0),P=Object(u.a)(S,2),B=P[0],W=P[1],q=Object(h.h)(),L=q.listId,A=q.type,U=q.unitId,z=q.command,G=q.group,R=Object(o.b)(),H=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return L===t}))})),K=H&&D.find((function(e){return e.id===H.game})).armies.find((function(e){var t=e.id;return H.army===t})),V=Object(o.c)((function(e){return e.items})),Y=H?H[A]:null,Z=Y&&Y.find((function(e){return e.id===U})),$=0,Q=function(e,t,n){var a,c=e.target.type;if(a=e.target.checked?n?"radio"===c?[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]:[].concat(Object(p.a)(Z.command[z].magic.selected||[]),[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]):"radio"===c?[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]:[].concat(Object(p.a)(Z.items[G].selected||[]),[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]):n?Z.command[z].magic.selected.filter((function(t){return t.id!==e.target.value})):Z.items[G].selected.filter((function(t){return t.id!==e.target.value})),n){var i=Z.command.map((function(e,t){return t===Number(z)?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{selected:a})}):e}));R(J({listId:L,type:A,unitId:U,command:i}))}else{var s=Z.items.map((function(e,t){return t===Number(G)?Object(g.a)(Object(g.a)({},e),{},{selected:a}):e}));R(J({listId:L,type:A,unitId:U,items:s}))}};if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[k.pathname]),Object(a.useEffect)((function(){H&&de(H)}),[H]),Object(a.useEffect)((function(){K&&Ie({url:"games/".concat(H.game,"/magic-items"),onSuccess:function(e){var t=K.items.map((function(t){return{items:e[t],name_de:We[t].name_de,name_en:We[t].name_en,id:t}}));R(Ee(function(e){return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{items:e.items.map((function(e,t){return e.conditional?Object(g.a)(Object(g.a)({},e),{},{id:t,conditional:e.conditional.map((function(e,n){return Object(g.a)(Object(g.a)({},e),{},{id:"".concat(t,"-").concat(n)})}))}):Object(g.a)(Object(g.a)({},e),{},{id:t})}))})}))}(t))),W(!1)}})}),[K,R,H,W,Z,w]),B)return v?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(L,"/").concat(A,"/").concat(U)}),Object(y.jsx)(T,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(L,"/").concat(A,"/").concat(U),isSection:!0}),Object(y.jsx)(T,{loading:!0})]});var X=function(e){var t,n,a,c=e.unit,i=e.magicItem,s=e.itemGroup,o=e.isConditional,r=!1,l=!1;return(null===c||void 0===c?void 0:c.command)&&c.command[z]&&(null===(t=c.command[z])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?(r=(c.command[z].magic.selected||[]).find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1,l=!0):(null===c||void 0===c||null===(a=c.items)||void 0===a?void 0:a.length)&&(r=c.items[G].selected.find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1),Object(y.jsxs)("div",{className:_()("checkbox",o&&"checkbox--conditional"),children:[Object(y.jsx)("input",{type:"checkbox",id:"".concat(s.id,"-").concat(i.id),value:"".concat(s.id,"-").concat(i.id),onChange:function(e){return Q(e,i,l)},checked:r,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"".concat(s.id,"-").concat(i.id),className:"checkbox__label",children:["de"===w?i.name_de:i.name_en,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(F.formatMessage({id:"app.points"}))})]})]},i.id)},ee=function(e){var t,n,a,c=e.unit,i=e.magicItem,s=e.itemGroup,o=!1,r=!1;return(null===c||void 0===c?void 0:c.command)&&c.command[z]&&(null===(t=c.command[z])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?(o=(c.command[z].magic.selected||[]).find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1,r=!0):(null===c||void 0===c||null===(a=c.items)||void 0===a?void 0:a.length)&&(o=c.items[G].selected.find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1),Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"".concat(s.id,"-").concat(i.id),value:"".concat(s.id,"-").concat(i.id),onChange:function(e){return Q(e,i,r)},checked:o,name:s.id,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"".concat(s.id,"-").concat(i.id),className:"radio__label",children:["de"===w?i.name_de:i.name_en,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(F.formatMessage({id:"app.points"}))})]})]},i.id)},te=!1,ne=0;return(null===Z||void 0===Z?void 0:Z.command)&&Z.command[z]&&(null===(t=Z.command[z])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?($=Z.command[z].magic.maxPoints,te=(ne=se({selected:Z.command[z].magic.selected}))>$):(null===Z||void 0===Z||null===(c=Z.items)||void 0===c?void 0:c.length)&&($=Z.items[G].maxPoints,te=(ne=se({selected:Z.items[G].selected}))>$&&$>0),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===H||void 0===H?void 0:H.name)})}),v&&Object(y.jsx)(I,{to:"/editor/".concat(L,"/").concat(A,"/").concat(U),headline:"de"===w?(null===Z||void 0===Z||null===(i=Z.items)||void 0===i?void 0:i.length)&&!(null===Z||void 0===Z||null===(s=Z.command)||void 0===s?void 0:s.length)?Z.items[G].name_de:F.formatMessage({id:"unit.magicItems"}):(null===Z||void 0===Z||null===(r=Z.items)||void 0===r?void 0:r.length)&&!(null===Z||void 0===Z||null===(d=Z.command)||void 0===d?void 0:d.length)?Z.items[G].name_en:F.formatMessage({id:"unit.magicItems"}),subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",te&&"magic__header-points--error"),children:["".concat(ne),"\xa0"]}),$>0&&"/ ".concat($," "),Object(y.jsx)(x.a,{id:"app.points"})]}),hasPointsError:te}),Object(y.jsxs)(N,{children:[!v&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(L,"/").concat(A,"/").concat(U),headline:"de"===w?(null===Z||void 0===Z||null===(m=Z.items)||void 0===m?void 0:m.length)&&!(null===Z||void 0===Z||null===(j=Z.command)||void 0===j?void 0:j.length)?Z.items[G].name_de:F.formatMessage({id:"unit.magicItems"}):(null===Z||void 0===Z||null===(b=Z.items)||void 0===b?void 0:b.length)&&!(null===Z||void 0===Z||null===(f=Z.command)||void 0===f?void 0:f.length)?Z.items[G].name_en:F.formatMessage({id:"unit.magicItems"}),subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",te&&"magic__header-points--error"),children:["".concat(ne),"\xa0"]}),$>0&&"/ ".concat($," "),Object(y.jsx)(x.a,{id:"app.points"})]}),hasPointsError:te}),V.map((function(e){return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:"de"===w?e.name_de:e.name_en}),e.items.map((function(t){var n,c,i,s;if(M!==t.type?(M=t.type,C=!0):C=!1,(null===Z||void 0===Z?void 0:Z.command)&&(null===Z||void 0===Z?void 0:Z.command[z])&&!Z.command[z].magic.types.includes(t.type))return null;if(!z&&(null===Z||void 0===Z||null===(n=Z.items)||void 0===n?void 0:n.length)&&!Z.items[G].types.includes(t.type))return null;var o=!1,r=!1;return(null===Z||void 0===Z?void 0:Z.command)&&Z.command[z]&&(null===(c=Z.command[z])||void 0===c||null===(i=c.magic)||void 0===i?void 0:i.maxPoints)?(o=(Z.command[z].magic.selected||[]).find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,r=Z.command[z].magic.mutuallyExclusive):(null===Z||void 0===Z||null===(s=Z.items)||void 0===s?void 0:s.length)&&(o=Z.items[G].selected.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,r=Z.items[G].mutuallyExclusive),Object(y.jsxs)(a.Fragment,{children:[C&&Object(y.jsx)("h3",{className:"magic__type",children:We[t.type]["name_".concat(w)]}),r?ee({unit:Z,magicItem:t,itemGroup:e}):X({unit:Z,magicItem:t,itemGroup:e}),t.conditional&&o?t.conditional.map((function(t){return X({unit:Z,magicItem:t,itemGroup:e,isConditional:!0})})):null]},t.name_de)}))]},e.name_de)}))]})]})}),qe=Object(U.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),Le=qe.actions.setArmy,De=qe.reducer,Ae=(n(78),function(e){var t,n=e.isMobile,c=n?T:a.Fragment,i=Object(h.h)(),s=i.listId,r=i.type,d=i.unitId,m=Object(o.b)(),j=E().language,b=Object(a.useState)(null),f=Object(u.a)(b,2),v=f[0],w=f[1],M=Object(h.g)(),C=Object(O.a)(),P=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))})),B=P?P[r]:null,W=B&&B.find((function(e){return e.id===d})),q=Object(o.c)((function(e){return e.army})),D=q&&q.core.filter((function(e){return e.detachment}));if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[M.pathname]),Object(a.useEffect)((function(){P&&de(P)}),[P]),Object(a.useEffect)((function(){P&&Ie({url:"games/".concat(P.game,"/").concat(P.army),onSuccess:function(e){m(Le({lords:S(e.lords),heroes:S(e.heroes),characters:S(e.characters),core:S(e.core),special:S(e.special),rare:S(e.rare),mercenaries:S(e.mercenaries),allies:S(e.allies)}))}})}),[P,m]),!0===v)return Object(y.jsx)(h.a,{to:"/editor/".concat(s)});if(!W||!q)return n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(s)}),Object(y.jsx)(T,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(s),isSection:!0}),Object(y.jsx)(T,{loading:!0})]});var A=[{name:C.formatMessage({id:"misc.rename"}),icon:"edit",to:"/editor/".concat(s,"/").concat(r,"/").concat(W.id,"/rename")},{name:C.formatMessage({id:"misc.duplicate"}),icon:"duplicate",callback:function(){return function(e){m(V({listId:s,type:r,unitId:e})),w(!0)}(W.id)}},{name:C.formatMessage({id:"misc.remove"}),icon:"delete",callback:function(){return function(e){m(K({listId:s,type:r,unitId:e})),w(!0)}(W.id)}}];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===P||void 0===P?void 0:P.name)})}),n&&Object(y.jsx)(I,{to:"/editor/".concat(s),moreButton:A,headline:W["name_".concat(j)],subheadline:"".concat(ie(W)," ").concat(C.formatMessage({id:"app.points"}))}),Object(y.jsxs)(c,{children:[!n&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(s),moreButton:A,headline:W["name_".concat(j)],subheadline:"".concat(ie(W)," ").concat(C.formatMessage({id:"app.points"}))}),!W.minimum&&(!W.command||W.command&&!W.command.length)&&(!W.equipment||W.equipment&&!W.equipment.length)&&(!W.armor||W.armor&&!W.armor.length)&&(!W.mounts||W.mounts&&!W.mounts.length)&&(!W.magic||W.magic&&!W.magic.maxPoints&&!(null===(t=W.items)||void 0===t?void 0:t.length))&&(!W.options||W.options&&!W.options.length)&&Object(y.jsx)("i",{className:"unit__empty",children:Object(y.jsx)(x.a,{id:"unit.noOptions"})}),W.minimum?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(y.jsx)(x.a,{id:"unit.unitSize"})}),Object(y.jsx)(L,{id:"strength",className:"input",min:W.minimum,max:W.maximum,value:W.strength,onChange:function(e){m(J({listId:s,type:r,unitId:d,strength:e.target.value}))}})]}):null,W.command&&W.command.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.command"})}),W.command.map((function(e,t){var n=e.name_de,c=e.name_en,i=e.points,o=e.perModel,l=e.id,u=e.active,b=void 0!==u&&u,h=e.magic,p=se({selected:null===h||void 0===h?void 0:h.selected});return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"command-".concat(l),value:l,onChange:function(){return function(e){var t,n=(null===(t=W.magic)||void 0===t?void 0:t.items)||[],a=W.command.map((function(t,a){return t.id===e?(t.active&&(n=n.filter((function(e){return e.command!==a}))),Object(g.a)(Object(g.a)({},t),{},{active:!t.active})):t}));m(J({listId:s,type:r,unitId:d,command:a,magic:Object(g.a)(Object(g.a)({},W.magic),{},{items:n})}))}(l)},checked:b,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"command-".concat(l),className:"checkbox__label",children:["de"===j?n:c,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(i," ").concat(1===i?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),o&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]}),(null===h||void 0===h?void 0:h.maxPoints)&&b?Object(y.jsxs)(ae,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/magic/").concat(t),className:"editor__list unit__link",active:M.pathname.includes("magic/".concat(t)),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:h.types.map((function(e){return We[e]["name_".concat(j)]})).join(", ")}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{className:_()(p>W.command[t].magic.maxPoints&&"editor__error"),children:p})," ","/ ",W.command[t].magic.maxPoints," ",Object(y.jsx)(x.a,{id:"app.points"})]}),p>W.command[t].magic.maxPoints&&Object(y.jsx)(N,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===h||void 0===h?void 0:h.selected)&&Object(y.jsx)("p",{children:h.selected.map((function(e){var t=e.name_de,n=e.name_en;return"de"===j?t:n})).join(", ")})]}):null]},l)}))]}),W.equipment&&W.equipment.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.equipment"})}),W.equipment.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"equipment-".concat(i),name:"equipment",value:i,onChange:function(){return function(e){var t=W.equipment.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(J({listId:s,type:r,unitId:d,equipment:t}))}(i)},checked:l,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"equipment-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),c&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),W.armor&&W.armor.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.armor"})}),W.armor.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"armor-".concat(i),name:"armor",value:i,onChange:function(){return function(e){var t=W.armor.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(J({listId:s,type:r,unitId:d,armor:t}))}(i)},checked:l,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"armor-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),c&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),W.options&&W.options.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.options"})}),W.options.map((function(e){var t=e.name_de,n=e.name_en,c=e.points,i=e.perModel,o=e.id,l=e.stackable,u=e.maximum,b=e.minimum,h=void 0===b?0:b,p=e.stackableCount,O=void 0===p?h||0:p,x=e.active,f=void 0!==x&&x;return l?Object(y.jsxs)(a.Fragment,{children:[Object(y.jsxs)("label",{htmlFor:"options-".concat(o),className:"unit__special-option",children:["de"===j?t:n,":",Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(C.formatMessage({id:"app.points"})," ").concat(C.formatMessage({id:"unit.perModel"}))})]}),Object(y.jsx)(L,{id:"options-".concat(o),className:"input",min:h,max:u,value:O,onChange:function(e){return function(e){var t=e.id,n=e.stackableCount,a=W.options.map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{stackableCount:n}):e}));m(J({listId:s,type:r,unitId:d,options:a}))}({id:o,stackableCount:e.target.value})}})]},o):Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"options-".concat(o),value:o,onChange:function(){return function(e){var t=W.options.map((function(t){return t.id===e?Object(g.a)(Object(g.a)({},t),{},{active:!t.active}):t}));m(J({listId:s,type:r,unitId:d,options:t}))}(o)},checked:f,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"options-".concat(o),className:"checkbox__label",children:["de"===j?t:n,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),i&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]},o)}))]}),W.regimentalUnit&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(y.jsx)(x.a,{id:"unit.detachments"})}),D.map((function(e){var t=e.name_de,n=e.name_en,c=e.id;return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:"de"===j?t:n}),Object(y.jsx)(k,{onClick:function(){return function(e){var t=e.id,n=D.find((function(e){return e.id===t})),a=W.detachments?Object(p.a)(W.detachments):[];a.push({id:"".concat(t,".").concat(F()),name_de:n.name_de,name_en:n.name_en,points:n.points,strength:5}),m(J({listId:s,type:r,unitId:d,detachments:a}))}({id:c})},type:"secondary",icon:"add",label:C.formatMessage({id:"editor.add"}),size:"small"})]})}),W.detachments&&W.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,i=e.points;return Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(y.jsx)(L,{id:"strength-".concat(c),className:"input",min:5,value:a,onChange:function(e){return function(e){var t=e.id,n=e.strength,a=Object(p.a)(W.detachments).map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{strength:n}):e}));m(J({listId:s,type:r,unitId:d,detachments:a}))}({id:c,strength:e.target.value})}}),Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"de"===j?t:n}),Object(y.jsx)("i",{children:"".concat(ie({strength:a,points:i})," ").concat(C.formatMessage({id:"app.points"}))})]}),Object(y.jsx)(k,{onClick:function(){return function(e){var t=e.id,n=Object(p.a)(W.detachments).filter((function(e){return e.id!==t}));m(J({listId:s,type:r,unitId:d,detachments:n}))}({id:c})},type:"secondary",icon:"close",label:C.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]},c)}))]}),W.mounts&&W.mounts.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.mount"})}),W.mounts.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.id,i=e.active,o=void 0!==i&&i;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"mounts-".concat(c),name:"mounts",value:c,onChange:function(){return function(e){var t=W.mounts.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(J({listId:s,type:r,unitId:d,mounts:t}))}(c)},checked:o,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"radio__label",children:["de"===j?t:n,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(a," ").concat(C.formatMessage({id:"app.points"}))})]})]},c)}))]}),W.items&&W.items.length?Object(y.jsx)("hr",{className:"unit__hr"}):null,W.items&&W.items.length?W.items.map((function(e,t){var n=se({selected:e.selected});return Object(y.jsxs)(ae,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/items/").concat(t),className:"editor__list unit__link",active:M.pathname.includes("items/".concat(t)),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:"de"===j?e.name_de:e.name_en}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{className:_()(n>e.maxPoints&&e.maxPoints>0&&"editor__error"),children:n}),e.maxPoints>0&&Object(y.jsx)(y.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(y.jsx)(x.a,{id:"app.points"})]}),n>e.maxPoints&&e.maxPoints>0&&Object(y.jsx)(N,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),e.selected&&Object(y.jsx)("p",{children:e.selected.map((function(e){var t=e.name_de,n=e.name_en;return"de"===j?t:n})).join(", ")})]},t)})):null]})]})}),Ue=(n(79),function(e){var t=e.isMobile,n=Object(h.g)(),c=Object(O.a)(),i=t?T:a.Fragment,s=Object(h.h)().listId,r=Object(o.b)(),d=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){d&&de(d)}),[d]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),d?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===d||void 0===d?void 0:d.name)})}),t&&Object(y.jsx)(I,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsxs)(i,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsx)("label",{htmlFor:"name",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:d.name,onChange:function(e){r(Y({listId:s,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"}),Object(y.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:d.description,onChange:function(e){r(Y({listId:s,description:e.target.value}))},autoComplete:"off",maxLength:"255"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(L,{id:"points",className:"input",min:0,value:d.points,onChange:function(e){r(Y({listId:s,points:Number(e.target.value)}))},required:!0})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsx)(T,{})]})}),ze=function(){var e=Object(h.g)(),t=Object(O.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.about"}))})}),Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{compact:!0,children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{className:"page-headline",children:Object(y.jsx)(x.a,{id:"about.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text",values:{owb:Object(y.jsx)("i",{children:"Old World Builder"})}})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text2",values:{github:Object(y.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"})}})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"about.support"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text3",values:{owb:Object(y.jsx)("i",{children:"Old World Builder"}),datasets:Object(y.jsx)(b.b,{to:"/datasets",children:"/datasets"}),discord:Object(y.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})}),Object(y.jsx)("h2",{children:"Credits"}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.credits",values:{gameIcons:Object(y.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"}),license:Object(y.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"})}})}),Object(y.jsx)("p",{children:Object(y.jsx)("b",{children:Object(y.jsx)(x.a,{id:"about.disclaimer"})})})]})]})},Ge=function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(h.h)(),i=c.listId,s=c.type,r=Object(o.b)(),d=Object(a.useState)(null),m=Object(u.a)(d,2),j=m[0],b=m[1],p=Object(O.a)(),x=Object(h.g)(),f=E().language,_=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return i===t}))})),v=Object(o.c)((function(e){return e.army}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[x.pathname]),Object(a.useEffect)((function(){_&&Ie({url:"games/".concat(_.game,"/").concat(_.army),onSuccess:function(e){r(Le({lords:S(e.lords),heroes:S(e.heroes),characters:S(e.characters),core:S(e.core),special:S(e.special),rare:S(e.rare),mercenaries:S(e.mercenaries),allies:S(e.allies)}))}})}),[_,r]),j?Object(y.jsx)(h.a,{to:"/editor/".concat(i,"/").concat(s,"/").concat(j.id)}):v?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===_||void 0===_?void 0:_.name)})}),t&&Object(y.jsx)(I,{to:"/editor/".concat(i),headline:p.formatMessage({id:"add.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(i),headline:p.formatMessage({id:"add.title"})}),Object(y.jsx)("ul",{children:v[s].map((function(e){var t=e.name_de,n=e.name_en,a=e.id,c=e.minimum,o=e.points;return Object(y.jsxs)(ae,{onClick:function(){return function(e){var t=Object(g.a)(Object(g.a)({},v[s].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(F())});r(H({listId:i,type:s,unit:t})),b(t)}(a)},children:[Object(y.jsxs)("span",{className:"unit__name",children:[c?"".concat(c," "):null,Object(y.jsx)("b",{children:"de"===f?t:n})]}),Object(y.jsx)("i",{className:"unit__points",children:"".concat(c?o*c:o," ").concat(p.formatMessage({id:"app.points"}))})]},a)}))})]})]}):t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(i)}),Object(y.jsx)(T,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(i),isSection:!0}),Object(y.jsx)(T,{loading:!0})]})},Re=function(){var e=Object(h.g)(),t=Object(O.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.help"}))})}),Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{compact:!0,children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{className:"page-headline",children:Object(y.jsx)(x.a,{id:"help.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"help.text",values:{github:Object(y.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"}),discord:Object(y.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})})]})]})},He=(n(80),function(e){var t=e.units,n=e.isShowList,a=e.intl,c=e.language;return t.map((function(e){var t=ce(e,{asString:!0,noMagic:n});return n?"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(c)],"\n").concat(t?"- ".concat(t.split(", ").join("\n- "),"\n"):"","\n"):"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(c)]," [").concat(ie(e)," ").concat(a.formatMessage({id:"app.points"}),"]\n").concat(t?"- ".concat(t.split(", ").join("\n- "),"\n"):"","\n")})).join("")}),Je=function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(O.a)(),i=Object(h.g)(),s=E().language,r=Object(a.useState)(!1),d=Object(u.a)(r,2),m=d[0],j=d[1],b=Object(a.useState)(!1),p=Object(u.a)(b,2),g=p[0],f=p[1],_=Object(a.useState)(!1),v=Object(u.a)(_,2),N=v[0],w=v[1],M=Object(h.h)().listId,C=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return M===t}))})),F=C?function(e){var t=e.list,n=e.isShowList,a=e.intl,c=e.language,i=le(t),s=re({list:t,type:"lords"}),o=re({list:t,type:"heroes"}),r=re({list:t,type:"characters"}),l=re({list:t,type:"core"}),d=re({list:t,type:"special"}),m=re({list:t,type:"rare"}),j=re({list:t,type:"mercenaries"}),u=re({list:t,type:"allies"}),b=D.find((function(e){return e.id===t.game})),h=b.armies.find((function(e){return e.id===t.army}))["name_".concat(c)];return n?"the-old-world"===t.game?"===\n".concat(t.name,"\n").concat(b.name,", ").concat(h,"\n===\n\n++ ").concat(a.formatMessage({id:"editor.characters"})," ++\n\n").concat(He({units:t.characters,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.core"})," ++\n\n").concat(He({units:t.core,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.special"})," ++\n\n").concat(He({units:t.special,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.rare"})," ++\n\n").concat(He({units:t.rare,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.mercenaries"})," ++\n\n").concat(He({units:t.mercenaries,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.allies"})," ++\n\n").concat(He({units:t.allies,isShowList:n,intl:a,language:c}),"\n\n---\n").concat(a.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]'):"===\n".concat(t.name,"\n").concat(b.name,", ").concat(h,"\n===\n\n++ ").concat(a.formatMessage({id:"editor.lords"})," ++\n\n").concat(He({units:t.lords,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.heroes"})," ++\n\n").concat(He({units:t.heroes,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.core"})," ++\n\n").concat(He({units:t.core,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.special"})," ++\n\n").concat(He({units:t.special,isShowList:n,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.rare"})," ++\n\n").concat(He({units:t.rare,isShowList:n,intl:a,language:c}),"\n\n---\n").concat(a.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]'):"the-old-world"===t.game?"===\n".concat(t.name," [").concat(i," ").concat(a.formatMessage({id:"app.points"}),"]\n").concat(b.name,", ").concat(h,"\n===\n\n++ ").concat(a.formatMessage({id:"editor.characters"})," [").concat(r," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.characters,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.core"})," [").concat(l," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.core,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.special"})," [").concat(d," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.special,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.rare"})," [").concat(m," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.rare,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.mercenaries"})," [").concat(j," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.mercenaries,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.allies"})," [").concat(u," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.allies,intl:a,language:c}),"\n\n---\n").concat(a.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]'):"===\n".concat(t.name," [").concat(i," ").concat(a.formatMessage({id:"app.points"}),"]\n").concat(b.name,", ").concat(h,"\n===\n\n++ ").concat(a.formatMessage({id:"editor.lords"})," [").concat(s," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.lords,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.heroes"})," [").concat(o," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.heroes,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.core"})," [").concat(l," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.core,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.special"})," [").concat(d," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.special,intl:a,language:c}),"\n++ ").concat(a.formatMessage({id:"editor.rare"})," [").concat(m," ").concat(a.formatMessage({id:"app.points"}),"] ++\n\n").concat(He({units:t.rare,intl:a,language:c}),"\n\n---\n").concat(a.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]')}({list:C,isShowList:N,intl:c,language:s}):"";return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),C?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===C||void 0===C?void 0:C.name)})}),t&&Object(y.jsx)(I,{to:"/editor/".concat(M),headline:c.formatMessage({id:"export.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(M),headline:c.formatMessage({id:"export.title"})}),Object(y.jsx)(k,{icon:m?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(F).then((function(){j(!0)}),(function(){f(!0)}))},children:m?c.formatMessage({id:"export.copied"}):c.formatMessage({id:"export.copy"})}),g&&Object(y.jsx)("p",{className:"export__error",children:Object(y.jsx)(x.a,{id:"export.error"})}),Object(y.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return w(!N)},checked:N,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(y.jsx)(x.a,{id:"export.visibleList"})})]}),Object(y.jsx)("p",{className:"export__visible-description",children:Object(y.jsxs)("i",{children:["(",Object(y.jsx)(x.a,{id:"export.visibleListDescription"}),")"]})}),Object(y.jsx)("textarea",{className:"export__text",value:F,readOnly:!0})]})]}):null},Ke=(n(81),function(){var e=Object(h.h)().listId,t=E().language,n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(!1),l=Object(u.a)(r,2),d=l[0],m=l[1],j=Object(o.c)((function(t){return t.lists.find((function(t){var n=t.id;return e===n}))}));if(!j)return null;var b=le(j),p=re({list:j,type:"lords"}),O=re({list:j,type:"heroes"}),g=re({list:j,type:"characters"}),f=re({list:j,type:"core"}),_=re({list:j,type:"special"}),v=re({list:j,type:"rare"}),N=re({list:j,type:"mercenaries"}),w=re({list:j,type:"allies"}),M=D.find((function(e){return e.id===j.game})),C=M.armies.find((function(e){return e.id===j.army}))["name_".concat(t)];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"hide-for-printing",children:[Object(y.jsx)(k,{to:"/editor/".concat(e),centered:!0,icon:"back",spaceTop:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"header.back"})}),i?Object(y.jsx)("p",{className:"print-info",children:Object(y.jsx)(x.a,{id:"print.printing"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"checkbox print-checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return m(!d)},checked:d,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(y.jsx)(x.a,{id:"export.visibleList"})})]}),Object(y.jsx)("p",{className:"print-checkbox-description",children:Object(y.jsxs)("i",{children:["(",Object(y.jsx)(x.a,{id:"export.visibleListDescription"}),")"]})}),Object(y.jsx)(k,{onClick:function(){s(!0),document.title="".concat(j.name," - Old World Builder"),window.onafterprint=function(){document.title="Old World Builder",s(!1)},window.print()},centered:!0,icon:"print",spaceTop:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"misc.print"})})]})]}),Object(y.jsxs)("main",{className:"print",children:[Object(y.jsxs)("h1",{children:[j.name," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",b," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsxs)("p",{className:"print__subheader",children:[M.name,", ",C]}),"the-old-world"===j.game?Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.characters"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",g," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.characters.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.lords"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",p," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.lords.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.heroes"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",O," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.heroes.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.core"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",f," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.core.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.special"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",_," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.special.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.rare"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",v," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.rare.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}),"the-old-world"===j.game&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.mercenaries"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",N," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.mercenaries.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.allies"})," ",!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",w," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:j.allies.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(y.jsxs)("span",{className:"print__points",children:["[",ie(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ce(e)]},e.id)}))})]})]})]}),Object(y.jsxs)("footer",{className:"print-footer",children:[Object(y.jsxs)("p",{children:[Object(y.jsx)(x.a,{id:"export.createdWith"})," ",Object(y.jsx)("b",{children:'"Old World Builder"'})]}),Object(y.jsxs)("p",{children:["[",Object(y.jsx)("a",{href:"https://old-world-builder.com",children:Object(y.jsx)("i",{children:"old-world-builder.com"})}),"]"]})]})]})}),Ve=(n(82),function(e){var t=e.isMobile,n=Object(h.g)(),c=Object(O.a)(),i=t?T:a.Fragment,s=Object(h.h)().listId,r=Object(o.b)(),d=Object(a.useState)(""),m=Object(u.a)(d,2),j=m[0],b=m[1],f=Object(a.useState)(2e3),_=Object(u.a)(f,2),v=_[0],N=_[1],w=Object(a.useState)(""),M=Object(u.a)(w,2),C=M[0],S=M[1],P=Object(a.useState)(null),E=Object(u.a)(P,2),B=E[0],W=E[1],q=Object(o.c)((function(e){return e.lists})),D=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),Object(a.useEffect)((function(){D&&(b("".concat(c.formatMessage({id:"duplicate.copyOf"})," ").concat(null===D||void 0===D?void 0:D.name)),N(D.points),S(D.description))}),[D,c]),D?Object(y.jsxs)(y.Fragment,{children:[B&&Object(y.jsx)(h.a,{to:"/editor/".concat(B)}),Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===D||void 0===D?void 0:D.name)})}),t&&Object(y.jsx)(I,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsxs)(i,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsxs)("form",{onSubmit:function(e){var t=F(),n=[].concat(Object(p.a)(q),[Object(g.a)(Object(g.a)({},D),{},{name:j,points:v,description:C,id:t})]);e.preventDefault(),localStorage.setItem("owb.lists",JSON.stringify(n)),r(R(n)),W(t)},className:"duplicate",children:[Object(y.jsx)("label",{htmlFor:"name",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:j,onChange:function(e){b(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(y.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:C,onChange:function(e){S(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(L,{id:"points",className:"input",min:0,value:v,onChange:function(e){N(e.target.value)},required:!0}),Object(y.jsx)(k,{centered:!0,icon:"duplicate",submitButton:!0,children:Object(y.jsx)(x.a,{id:"misc.duplicate"})})]})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsx)(T,{})]})}),Ye=(n(83),function(e){var t=e.isMobile,n=t?T:a.Fragment,c=Object(h.g)(),i=Object(O.a)(),s=E().language,r=Object(h.h)(),d=r.listId,m=r.type,j=r.unitId,u=Object(o.b)(),b=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return d===t}))})),p=b?b[m]:null,g=p&&p.find((function(e){return e.id===j})),f=g?g["de"===s?"name_de":"name_en"]:"";return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(a.useEffect)((function(){b&&de(b)}),[b]),b?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(null===b||void 0===b?void 0:b.name)})}),t&&Object(y.jsx)(I,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(I,{isSection:!0,to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(y.jsx)("label",{htmlFor:"name",className:"rename__label",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:f,onChange:function(e){u(J({listId:d,type:m,unitId:j,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(y.jsx)(T,{})]})}),Ze=(n(84),function(e){var t=e.className,n=e.headline,a=e.children,c=e.notBold,i=e.open,s=e.onClick,o=e.noMargin;return Object(y.jsxs)("details",{className:_()("expandable",o&&"expandable--no-margin",t),open:i,children:[Object(y.jsx)("summary",{className:_()("expandable__summary",c&&"expandable__summary--normal"),onClick:s,children:n}),a]})});Ze.defaultProps={open:!1,notBold:!1};n(85);var $e,Qe={name_en:"",name_de:"",id:"",points:1,minimum:0,maximum:0,regimentalUnit:!1,detachment:!1,command:[],equipment:[],armor:[],options:[],mounts:[],items:[]},Xe=["weapon","armor","talisman","banner","arcane-item","enchanted-item","weapon-runes","armor-runes","banner-runes","talismanic-runes","engineering-runes","triptych","knightly-virtue","knightly-virtue-character","chaos-mutation","chaos-mutation-character","chaos-mutation-chieftain","gift-of-chaos","forest-spite"],et=function(e){var t=e.onSubmit,n=e.type,c=e.unit,i=(Math.random().toString(36)+Math.random().toString(36)).replace(/[^a-z]+/g,""),s=Object(a.useState)(c?Object(g.a)(Object(g.a)({},Qe),c):Qe),o=Object(u.a)(s,2),r=o[0],l=o[1],d=function(e){var t=e.target.id.split("-")[0];l(Object(g.a)(Object(g.a)({},r),{},Object(A.a)({},t,"number"===e.target.type?Number(e.target.value):e.target.value)))},m=function(e){var t=e.field,n=e.value;l(Object(g.a)(Object(g.a)({},r),{},Object(A.a)({},t,n)))},j=function(e){var t=e.key,n=e.field,a=e.value,c=e.index,i=r[t].map((function(e,t){return c===t?Object(g.a)(Object(g.a)({},e),{},Object(A.a)({},n,a)):e}));l(Object(g.a)(Object(g.a)({},r),{},Object(A.a)({},t,i)))},b=function(e){var t=e.index,n=e.key;l(Object(g.a)(Object(g.a)({},r),{},Object(A.a)({},n,r[n].filter((function(e,n){return n!==t})))))},h=function(e){var t=e.index,n=e.value,a=e.key,c=r[a].map((function(e,a){return a===t?Object(g.a)(Object(g.a)({},e),{},{name_de:e.name_de?e.name_de:n}):e}));l(Object(g.a)(Object(g.a)({},r),{},Object(A.a)({},a,c)))};return Object(a.useEffect)((function(){l(c?Object(g.a)(Object(g.a)({},Qe),c):Qe)}),[c]),Object(y.jsxs)("form",{onSubmit:function(e){var a=!Boolean(c);e.preventDefault(),t({unit:Object(g.a)(Object(g.a)({},r),{},{id:a?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id}),type:n,isNew:a}),a&&l(Qe)},children:[Object(y.jsx)("label",{htmlFor:"name_en-".concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"name_en-".concat(i),className:"input",value:r.name_en,onChange:d,autoComplete:"off",required:!0,onBlur:function(){var e=!Boolean(c);l(Object(g.a)(Object(g.a)({},r),{},{id:e?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id,name_de:r.name_de?r.name_de:r.name_en}))}}),Object(y.jsx)("label",{htmlFor:"name_de-".concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"name_de-".concat(i),className:"input",value:r.name_de,onChange:d,autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"id-".concat(i),className:"edit__label",children:"ID"}),Object(y.jsx)("input",{type:"text",id:"id-".concat(i),className:"input",value:r.id,autoComplete:"off",pattern:"(([a-z]*-[a-z]*)|[a-z]*)*",disabled:!0,readOnly:!0,placeholder:"Automatically filled",required:!0}),Object(y.jsx)("label",{htmlFor:"points-".concat(i),children:"characters"===n?"Points":"Points per model"}),Object(y.jsx)(L,{id:"points-".concat(i),className:"input",min:1,value:r.points,onChange:d,required:!0}),"characters"!==n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{htmlFor:"minimum-".concat(i),children:"Minimum number of models"}),Object(y.jsx)(L,{id:"minimum-".concat(i),className:"input",min:0,value:r.minimum,onChange:d,required:!0}),Object(y.jsx)("label",{htmlFor:"maximum-".concat(i),children:"Maximum number of models"}),Object(y.jsx)(L,{id:"maximum-".concat(i),className:"input",min:0,value:r.maximum,onChange:d,required:!0}),Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"regimentalUnit-".concat(i),onChange:function(){return m({field:"regimentalUnit",value:!r.regimentalUnit})},checked:r.regimentalUnit,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"regimentalUnit-".concat(i),className:"checkbox__label",children:"Unit can have detachments"})]}),Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"detachment-".concat(i),onChange:function(){return m({field:"detachment",value:!r.detachment})},checked:r.detachment,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"detachment-".concat(i),className:"checkbox__label",children:"Unit is a detachment"})]})]}),"characters"!==n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Command"}),Object(y.jsx)("p",{className:"datasets__paragraph",children:"All command options are NOT mutually exclusive."}),r.command.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"command-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"command-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"command",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"command",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"command-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"command-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"command",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"command-points".concat(t,"-").concat(i),children:"Points"}),Object(y.jsx)(L,{id:"command-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"command",field:"points",value:Number(e.target.value)})},required:!0}),Object(y.jsxs)(Ze,{headline:"Allowed magic item categories",children:[Xe.map((function(n,a){return Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"".concat(n).concat(a,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.item,a=e.index,c=r.command.map((function(e,c){return c===a?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{types:"on"===t?[].concat(Object(p.a)(e.magic.types),[n]):e.magic.types.filter((function(e){return e!==n}))})}):e}));l(Object(g.a)(Object(g.a)({},r),{},{command:c}))}({index:t,value:e.magic.types.includes(n)?"off":"on",item:n})},checked:e.magic.types.includes(n),className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"".concat(n).concat(a,"-").concat(i),className:"checkbox__label",children:n})]},n)})),Object(y.jsx)("label",{htmlFor:"command-magic-points-".concat(t,"-").concat(i),children:"Max. magic item points"}),Object(y.jsx)(L,{id:"command-magic-points-".concat(t,"-").concat(i),className:"input",min:0,value:e.magic.maxPoints,onChange:function(e){return function(e){var t=e.value,n=e.index,a=r.command.map((function(e,a){return a===n?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{maxPoints:t})}):e}));l(Object(g.a)(Object(g.a)({},r),{},{command:a}))}({index:t,value:Number(e.target.value)})}})]}),c?Object(y.jsx)(k,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",onClick:function(){return b({index:t,key:"command"})},children:"Remove entry"}):null]},t)})),Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{command:[].concat(Object(p.a)(r.command),[{name_en:"",name_de:"",points:1,magic:{types:[],maxPoints:0}}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New entry"})]}),Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Weapon"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["All weapon options are mutually exclusive and please add a default weapon.",Object(y.jsx)("br",{}),Object(y.jsx)("i",{children:'(e.g. "Hand weapon" or "Great weapon")'})]}),r.equipment.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"equipment-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"equipment-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"equipment",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"equipment",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"equipment-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"equipment-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"equipment",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"equipment-points".concat(t,"-").concat(i),children:"Points"}),Object(y.jsx)(L,{id:"equipment-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"equipment",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"equipment-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"equipment-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"equipment-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"equipment-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(y.jsx)("p",{children:Object(y.jsx)("i",{children:'(e.g. when "Hand weapon" is the default equipment)'})}),c?Object(y.jsx)(k,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",spaceTop:!0,onClick:function(){return b({index:t,key:"equipment"})},children:"Remove entry"}):null]},t)})),Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{equipment:[].concat(Object(p.a)(r.equipment),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New weapon"}),Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Armor"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["All armor options are mutually exclusive and please add a default armor.",Object(y.jsx)("br",{}),Object(y.jsx)("i",{children:'(e.g. "Light armour" or "Heavy armour")'})]}),r.armor.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"armor-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"armor-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"armor",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"armor",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"armor-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"armor-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"armor",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"armor-points".concat(t,"-").concat(i),children:"Points"}),Object(y.jsx)(L,{id:"armor-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"armor",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"armor-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"armor-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"armor-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"armor-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(y.jsx)("p",{children:Object(y.jsx)("i",{children:'(e.g. when "Light armour" is the default equipment)'})}),c?Object(y.jsx)(k,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return b({index:t,key:"armor"})},children:"Remove entry"}):null]},t)})),Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{armor:[].concat(Object(p.a)(r.armor),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New armor"}),Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Options"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["All options are NOT mutually exclusive.",Object(y.jsx)("br",{}),Object(y.jsx)("i",{children:'(e.g. "Shield")'})]}),r.options.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"options-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"options-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"options",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"options",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"options-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"options-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"options",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"options-points".concat(t,"-").concat(i),children:"Points"}),Object(y.jsx)(L,{id:"options-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"options",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"options-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"options-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"options-stackable".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"stackable",value:!e.stackable})},checked:e.stackable,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"options-stackable".concat(t,"-").concat(i),className:"checkbox__label",children:"Allow multiple selections"})]}),Object(y.jsx)("p",{children:Object(y.jsx)("i",{children:"(e.g. for Nightgoblin Fanatics)"})}),e.stackable&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("br",{}),Object(y.jsx)("label",{htmlFor:"options-minimum".concat(t,"-").concat(i),children:"Minimum"}),Object(y.jsx)(L,{id:"options-minimum".concat(t,"-").concat(i),className:"input",min:0,value:e.minimum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0}),Object(y.jsx)("label",{htmlFor:"options-maximum".concat(t,"-").concat(i),children:"Maximum"}),Object(y.jsx)(L,{id:"options-maximum".concat(t,"-").concat(i),className:"input",min:0,value:e.maximum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0})]}),c?Object(y.jsx)(k,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return b({index:t,key:"options"})},children:"Remove entry"}):null]},t)})),Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{options:[].concat(Object(p.a)(r.options),[{name_en:"",name_de:"",points:1,perModel:!0,stackable:!1,minimum:0,maximum:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New option"}),"characters"===n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Mounts"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["All mount options are mutually exclusive and please add a default mount.",Object(y.jsx)("br",{}),Object(y.jsx)("i",{children:'(e.g. "On foot" or "Hippogryph")'})]}),r.mounts.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"mounts-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"mounts-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"mounts",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"mounts",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"mounts-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"mounts-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"mounts",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"mounts-points".concat(t,"-").concat(i),children:"Points"}),Object(y.jsx)(L,{id:"mounts-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"mounts",field:"points",value:Number(e.target.value)})},required:!0}),Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"mounts-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"mounts",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"mounts-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(y.jsx)("p",{children:Object(y.jsx)("i",{children:'(e.g. when "On foot" is the default mount)'})}),c?Object(y.jsx)(k,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return b({index:t,key:"mounts"})},children:"Remove entry"}):null]},t)})),Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{mounts:[].concat(Object(p.a)(r.mounts),[{name_en:"",name_de:"",points:1,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New mount"})]}):null,Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"(Magic) items"}),Object(y.jsx)("p",{className:"datasets__paragraph",children:"Specify what types of items are allowed. Can also be used for chaos mutations, knightly vitues or similar."}),r.items&&r.items.length?r.items.map((function(e,t){return Object(y.jsxs)("div",{className:"entity__second-level",children:[Object(y.jsx)("label",{htmlFor:"magic-name_en-".concat(t,"-").concat(i),children:"Name English"}),Object(y.jsx)("input",{type:"text",id:"magic-name_en-".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"items",field:"name_en",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"magic-name_de-".concat(t,"-").concat(i),children:"Name German"}),Object(y.jsx)("input",{type:"text",id:"magic-name_de-".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"items",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(y.jsx)(Ze,{headline:"Allowed (magic) item types",children:Xe.map((function(n,a){return Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.type,a=e.itemIndex,c=r.items.map((function(e,c){return a===c?Object(g.a)(Object(g.a)({},e),{},{types:"on"===t?[].concat(Object(p.a)(r.items[a].types),[n]):r.items[a].types.filter((function(e){return e!==n}))}):e}));l(Object(g.a)(Object(g.a)({},r),{},{items:c}))}({value:e.types.includes(n)?"off":"on",type:n,itemIndex:t})},checked:e.types.includes(n),className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),className:"checkbox__label",children:n})]},n)}))}),Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"mutually-exclusive-".concat(t,"-").concat(i),onChange:function(n){return j({index:t,key:"items",field:"mutuallyExclusive",value:!e.mutuallyExclusive})},checked:e.mutuallyExclusive,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"mutually-exclusive-".concat(t,"-").concat(i),className:"checkbox__label",children:"Mutually exclusive"})]}),Object(y.jsx)("label",{htmlFor:"magic-points-".concat(i),children:"Max. points"}),Object(y.jsx)(L,{id:"magic-points-".concat(t,"-").concat(i),className:"input",min:0,value:e.maxPoints,onChange:function(e){return j({index:t,key:"items",field:"maxPoints",value:Number(e.target.value)})}})]},t)})):null,Object(y.jsx)(k,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{items:[].concat(Object(p.a)(r.items),[{name_en:"Magic Items",name_de:"Magische Gegenst\xe4nde",types:[],selected:[],mutuallyExclusive:!1,maxPoints:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New category"}),Object(y.jsx)(k,{submitButton:!0,spaceBottom:!0,icon:c?"add-list":"new-list",children:c?"Update unit":"Add unit"})]})},tt=(n(86),function(e){var t=e.unit,n=e.coreUnits,c=e.onClose,i=E().language,s=Object(O.a)(),o=n.filter((function(e){return e.detachment}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{onClick:c,className:"unit-preview-background"}),Object(y.jsx)("div",{className:"unit-preview",children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{isSection:!0,headline:t["name_".concat(i)],subheadline:"".concat(ie(t)," ").concat(s.formatMessage({id:"app.points"}))}),Object(y.jsx)(k,{className:"unit-preview__close",icon:"close",type:"text",label:"Close preview",color:"dark",onClick:c}),!t.minimum&&(!t.command||t.command&&!t.command.length)&&(!t.equipment||t.equipment&&!t.equipment.length)&&(!t.armor||t.armor&&!t.armor.length)&&(!t.mounts||t.mounts&&!t.mounts.length)&&(!t.magic||t.magic&&!t.magic.maxPoints)&&(!t.items||t.items&&!t.items.length)&&(!t.options||t.options&&!t.options.length)&&Object(y.jsx)("i",{className:"unit__empty",children:Object(y.jsx)(x.a,{id:"unit.noOptions"})}),t.minimum?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(y.jsx)(x.a,{id:"unit.unitSize"})}),Object(y.jsx)(L,{id:"strength",className:"input",min:t.minimum,max:t.maximum,value:t.strength,onChange:function(){}})]}):null,t.command&&t.command.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.command"})}),t.command.map((function(e,n){var c,o,r=e.name_de,l=e.name_en,d=e.points,m=e.perModel,j=e.active,u=void 0!==j&&j,b=e.magic,h=0;return t.magic&&t.magic.items&&t.magic.items.filter((function(e){return e.command===n})).forEach((function(e){var t=e.points;h+=t})),Object(y.jsxs)(a.Fragment,{children:[Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"command-".concat(n),defaultChecked:u,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"command-".concat(n),className:"checkbox__label",children:["de"===i?r:l,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(d," ").concat(1===d?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),m&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]}),(null===b||void 0===b?void 0:b.maxPoints)&&u?Object(y.jsxs)(ae,{className:"editor__list unit__link",active:!1,children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:b.types.map((function(e){return We[e]["name_".concat(i)]})).join(", ")}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{className:_()(h>t.command[n].magic.maxPoints&&"editor__error"),children:oe(null===t||void 0===t||null===(c=t.magic)||void 0===c?void 0:c.selected.filter((function(e){return e.command===n})))})," ","/ ",t.command[n].magic.maxPoints," ",Object(y.jsx)(x.a,{id:"app.points"})]}),h>t.command[n].magic.maxPoints&&Object(y.jsx)(N,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===t||void 0===t||null===(o=t.magic)||void 0===o?void 0:o.items)&&Object(y.jsx)("p",{children:t.magic.items.filter((function(e){return e.command===n})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]}):null]},n)}))]}),t.equipment&&t.equipment.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.equipment"})}),t.equipment.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"equipment-".concat(t),name:"equipment",defaultChecked:l,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"equipment-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.armor&&t.armor.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.armor"})}),t.armor.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"armor-".concat(t),name:"armor",defaultChecked:l,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"armor-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.options&&t.options.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.options"})}),t.options.map((function(e,t){var n=e.name_de,c=e.name_en,o=e.points,r=e.perModel,l=e.stackable,d=e.maximum,m=e.minimum,j=void 0===m?0:m,u=e.stackableCount,b=void 0===u?j||0:u,h=e.active,p=void 0!==h&&h;return l?Object(y.jsxs)(a.Fragment,{children:[Object(y.jsxs)("label",{htmlFor:"options-".concat(t),className:"unit__special-option",children:["de"===i?n:c,":",Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(o," ").concat(s.formatMessage({id:"app.points"})," ").concat(s.formatMessage({id:"unit.perModel"}))})]}),Object(y.jsx)(L,{id:"options-".concat(t),className:"input",min:j,max:d,value:b,onChange:function(){}})]},t):Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"options-".concat(t),defaultChecked:p,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"options-".concat(t),className:"checkbox__label",children:["de"===i?n:c,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(o," ").concat(1===o?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),r&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.regimentalUnit&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(y.jsx)(x.a,{id:"unit.detachments"})}),o.map((function(e){var n=e.name_de,a=e.name_en,c=e.id;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:"de"===i?n:a}),Object(y.jsx)(k,{type:"secondary",icon:"add",label:s.formatMessage({id:"editor.add"}),size:"small"})]})},c),t.detachments&&t.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,o=e.points;return Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(y.jsx)(L,{id:"strength-".concat(c),className:"input",min:5,value:a,onChange:function(){}}),Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"de"===i?t:n}),Object(y.jsx)("i",{children:"".concat(ie({strength:a,points:o})," ").concat(s.formatMessage({id:"app.points"}))})]}),Object(y.jsx)(k,{type:"secondary",icon:"close",label:s.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]})}))]}),t.mounts&&t.mounts.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.mount"})}),t.mounts.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.active,r=void 0!==o&&o;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"mounts-".concat(t),name:"mounts",defaultChecked:r,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"mounts-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(s.formatMessage({id:"app.points"}))})]})]},t)}))]}),t.items&&t.items.length?Object(y.jsx)("hr",{className:"unit__hr"}):null,t.items&&t.items.length?t.items.map((function(e,t){return Object(y.jsxs)(ae,{className:"editor__list unit__link",active:!1,children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:e.name_en}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{children:0}),e.maxPoints>0&&Object(y.jsx)(y.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(y.jsx)(x.a,{id:"app.points"})]})]}),e.items&&Object(y.jsx)("p",{children:e.items.map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]},t)})):null]})})]})}),nt=(n(87),function(e){e.isMobile;var t=Object(h.g)(),n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(null),r=Object(u.a)(o,2),d=r[0],m=r[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),f=b[0],_=b[1],v=Object(a.useState)(!1),N=Object(u.a)(v,2),w=N[0],M=N[1],C=Object(a.useState)(!1),F=Object(u.a)(C,2),S=F[0],E=F[1],B=Object(a.useState)("empire-of-man"),W=Object(u.a)(B,2),L=W[0],U=W[1],z="the-old-world",G=localStorage.getItem("owb.dataset"),R=Object(a.useState)({characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[]}),H=Object(u.a)(R,2),J=H[0],K=H[1],V=Object(O.a)(),Y=function(e){var t=e.unit,n=e.isNew,a=e.type;if(n){var c=Object(g.a)(Object(g.a)({},J),{},Object(A.a)({},a,[].concat(Object(p.a)(J[a]),[t])));K(c),localStorage.setItem("owb.dataset",JSON.stringify(c,null,2))}else{var i=Object(g.a)(Object(g.a)({},J),{},Object(A.a)({},a,J[a].map((function(e){return e.id===t.id?t:e}))));K(i),localStorage.setItem("owb.dataset",JSON.stringify(i,null,2))}window.scrollTo(0,0)},Z=function(e){var t=e.id,n=e.type,a=Object(g.a)(Object(g.a)({},J),{},Object(A.a)({},n,J[n].filter((function(e){return e.id!==t}))));K(a),localStorage.setItem("owb.dataset",JSON.stringify(a,null,2)),window.scrollTo(0,0)},$=function(e){var t=e.unit;m(t)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(V.formatMessage({id:"footer.datasets"}))})}),Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{className:"datasets",children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsxs)("div",{className:"datasets__info",children:[Object(y.jsx)("h2",{className:"page-headline",children:"Datasets Editor"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["Thank you for taking the time to improve the"," ",Object(y.jsx)("i",{children:"Old World Builder"}),"! You can expand existing army data, add missing translations or create a new army dataset."]}),Object(y.jsx)("h3",{children:"What is a dataset?"}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["A datasets contains the data of all units required to create an army list in the ",Object(y.jsx)("i",{children:"Old World Builder"}),". The datasets for each army are defined in a"," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON",children:"JSON format"})," ","(although you don't have to edit these manually)."]}),Object(y.jsx)("h3",{children:"Notes before you get started"}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:'Currently only datasets for "Warhammer: The Old World" can be created on this page'}),Object(y.jsx)("li",{children:"Translate texts from the army books very carefully and exactly as they appear in the book"}),Object(y.jsx)("li",{children:"Proofread after you're done"}),Object(y.jsxs)("li",{children:["If a special rule cannot be mapped, write to us in"," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/87nUyjUxTU",children:"Discord"})]})]})]}),Object(y.jsxs)("div",{className:"datasets__columns",children:[Object(y.jsxs)("section",{className:"column datasets__column",children:[Object(y.jsx)("header",{className:"editor__header",children:Object(y.jsx)("h2",{children:"Load a dataset"})}),Object(y.jsx)(q,{options:D.filter((function(e){return e.id===z}))[0].armies,onChange:function(e){U(e)},selected:"empire-of-man",spaceTop:!0,spaceBottom:!0,required:!0}),Object(y.jsx)(k,{onClick:function(){s(!0),Ie({url:"games/".concat(z,"/").concat(L),onSuccess:function(e){K(e),localStorage.setItem("owb.dataset",JSON.stringify(e,null,2)),s(!1)}})},children:"Load existing dataset"}),Object(y.jsx)("hr",{}),Object(y.jsx)("input",{type:"text",name:"army",className:"input",autoComplete:"off",value:f,onChange:function(e){_(e.target.value)},placeholder:"Paste your .json file"}),Object(y.jsx)(k,{onClick:function(){try{K(JSON.parse(f)),localStorage.setItem("owb.dataset",f),_("")}catch(e){console.log(e)}},children:"Load from .json"}),Object(y.jsx)("hr",{}),Object(y.jsx)(k,{disabled:!Boolean(G),onClick:function(){try{K(JSON.parse(localStorage.getItem("owb.dataset")))}catch(e){console.log(e)}},spaceBottom:!0,children:"Load local dataset"}),Object(y.jsx)("p",{children:"The most current dataset is always saved locally, so you can continue working on it even after a reload."})]}),Object(y.jsxs)("section",{className:"column datasets__column",children:[Object(y.jsx)("header",{className:"editor__header",children:Object(y.jsx)("h2",{children:"Edit units"})}),i?Object(y.jsx)(P,{}):Object(y.jsxs)(y.Fragment,{children:[J.characters.length>0&&Object(y.jsx)("h3",{className:"datasets__edit-headline",children:"Characters"}),Object(y.jsx)("ul",{children:J.characters.map((function(e,t){return Object(y.jsx)(Ze,{headline:Object(y.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(y.jsxs)("span",{children:[Object(y.jsx)(k,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"characters",id:e.id})}}),Object(y.jsx)(k,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(y.jsx)(et,{unit:e,type:"characters",onSubmit:Y})},t)}))}),J.core.length>0&&Object(y.jsx)("h3",{className:"datasets__edit-headline",children:"Core Units"}),Object(y.jsx)("ul",{children:J.core.map((function(e,t){return Object(y.jsx)(Ze,{headline:Object(y.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(y.jsxs)("span",{children:[Object(y.jsx)(k,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"core",id:e.id})}}),Object(y.jsx)(k,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(y.jsx)(et,{unit:e,type:"core",onSubmit:Y,onDelete:Z})},t)}))}),J.special.length>0&&Object(y.jsx)("h3",{className:"datasets__edit-headline",children:"Special Units"}),Object(y.jsx)("ul",{children:J.special.map((function(e,t){return Object(y.jsx)(Ze,{headline:Object(y.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(y.jsxs)("span",{children:[Object(y.jsx)(k,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"special",id:e.id})}}),Object(y.jsx)(k,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(y.jsx)(et,{unit:e,type:"special",onSubmit:Y,onDelete:Z})},t)}))}),J.rare.length>0&&Object(y.jsx)("h3",{className:"datasets__edit-headline",children:"Rare Units"}),Object(y.jsx)("ul",{children:J.rare.map((function(e,t){return Object(y.jsx)(Ze,{headline:Object(y.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(y.jsxs)("span",{children:[Object(y.jsx)(k,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"rare",id:e.id})}}),Object(y.jsx)(k,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(y.jsx)(et,{unit:e,type:"rare",onSubmit:Y,onDelete:Z})},t)}))})]})]}),Object(y.jsxs)("section",{className:"column datasets__column",children:[Object(y.jsx)("header",{className:"editor__header",children:Object(y.jsx)("h2",{children:"Add new unit"})}),Object(y.jsx)(Ze,{headline:"Character",noMargin:!0,className:"datasets__unit-type",children:Object(y.jsx)(et,{type:"characters",onSubmit:Y})}),Object(y.jsx)(Ze,{headline:"Core Unit",noMargin:!0,className:"datasets__unit-type",children:Object(y.jsx)(et,{type:"core",onSubmit:Y})}),Object(y.jsx)(Ze,{headline:"Special Unit",noMargin:!0,className:"datasets__unit-type",children:Object(y.jsx)(et,{type:"special",onSubmit:Y})}),Object(y.jsx)(Ze,{headline:"Rare Unit",noMargin:!0,className:"datasets__unit-type",children:Object(y.jsx)(et,{type:"rare",onSubmit:Y})})]}),Object(y.jsxs)("section",{className:"column datasets__column",children:[Object(y.jsx)("header",{className:"editor__header",children:Object(y.jsx)("h2",{children:"JSON output"})}),Object(y.jsx)(k,{icon:w?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(J,null,2)).then((function(){M(!0)}),(function(){E(!0)}))},children:w?"Copied":"Copy JSON"}),S&&Object(y.jsx)("p",{className:"export__error",children:Object(y.jsx)(x.a,{id:"export.error"})}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["When you're done editing, copy the text and post it in the"," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.com/channels/1120710419108085780/1120720528068583434",children:'"Datasets Contribution" Discord Channel'}),"."]}),Object(y.jsxs)("p",{className:"datasets__paragraph",children:["If you're a bit tech-savvy, you can also create a pull request directly in"," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/nthiebes/old-world-builder/pulls",children:"GitHub"}),"."]}),Object(y.jsx)("textarea",{className:"datasets__output",rows:"10",spellCheck:"false","data-gramm":"false",value:JSON.stringify(J,null,2),onChange:function(){}})]})]}),d?Object(y.jsx)(tt,{unit:Object(g.a)(Object(g.a)({},d),{},{strength:0}),onClose:function(){return m(null)},coreUnits:J.core}):null]})]})}),at=function(){var e=Object(h.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | 404"})}),Object(y.jsx)(I,{headline:"Old World Builder"}),Object(y.jsxs)(T,{compact:!0,children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"404.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"404.title"})})]})]})},ct=function(){var e=Object(h.g)(),t=Object(O.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.privacy"}))})}),Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{compact:!0,children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{className:"page-headline",children:Object(y.jsx)(x.a,{id:"footer.privacy"})}),Object(y.jsx)("p",{children:'The "Old World Builder" is built as an Open Source app. This SERVICE is provided by at no cost and is intended for use as is.'}),Object(y.jsx)("p",{children:"This page is used to inform visitors regarding my policies with the collection, use, and disclosure of Personal Information if anyone decided to use my Service."}),Object(y.jsx)("p",{children:"If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy."}),Object(y.jsx)("h3",{children:"Information Collection and Use"}),Object(y.jsx)("p",{children:"This app does not collect or store personal data."}),Object(y.jsx)("p",{children:"The app does use third-party services that may collect information used to identify you."}),Object(y.jsx)("p",{children:"Links to the privacy policy of third-party service providers used by the app:"}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"https://www.google.com/policies/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Google Play Services"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"https://sentry.io/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Sentry"})})]}),Object(y.jsx)("br",{}),Object(y.jsx)("h3",{children:"Log Data"}),Object(y.jsx)("p",{children:"I want to inform you that whenever you use my Service, in a case of an error in the app I collect data and information (through third-party products) on your phone called Log Data. This Log Data may include information such as your device Internet Protocol (\u201cIP\u201d) address, device name, operating system version, the configuration of the app when utilizing my Service, the time and date of your use of the Service, and other statistics."}),Object(y.jsx)("h3",{children:"Cookies"}),Object(y.jsx)("p",{children:"Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory."}),Object(y.jsx)("p",{children:"This Service does not use these \u201ccookies\u201d."}),Object(y.jsx)("h3",{children:"Links to Other Sites"}),Object(y.jsx)("p",{children:"This Service contains links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),Object(y.jsx)("h3",{children:"Changes to This Privacy Policy"}),Object(y.jsx)("p",{children:"I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page."}),Object(y.jsx)("p",{children:"This policy is effective as of 2024-01-04."}),Object(y.jsx)("h3",{children:"Contact Us"}),Object(y.jsxs)("p",{children:["If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at"," ",Object(y.jsx)(b.b,{to:"/help",children:"old-world-builder.com/help"}),"."]})]})]})},it=n(12),st=(n(88),function(){var e=Object(h.g)(),t=Object(O.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.changelog"}))})}),Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{compact:!0,className:"changelog",children:[Object(y.jsx)(k,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{className:"page-headline",children:Object(y.jsx)(x.a,{id:"changelog.title"})}),Object(y.jsx)("h3",{children:"v0.4.2"}),Object(y.jsx)("p",{children:Object(y.jsx)("time",{children:Object(y.jsx)("i",{children:Object(y.jsx)(it.a,{value:new Date("2024-01-07 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)(x.a,{id:"changelog.change0",values:{datasets:Object(y.jsx)(b.b,{to:"/datasets",children:Object(y.jsx)(x.a,{id:"footer.datasets"})})}})}),Object(y.jsx)("li",{children:Object(y.jsx)(x.a,{id:"changelog.change1"})}),Object(y.jsx)("li",{children:Object(y.jsx)(x.a,{id:"changelog.change2",values:{privacy:Object(y.jsx)(b.b,{to:"/privacy",children:Object(y.jsx)(x.a,{id:"footer.privacy"})})}})}),Object(y.jsx)("li",{children:Object(y.jsx)(x.a,{id:"changelog.change3"})})]})]})]})}),ot=(n(89),function(){var e=Object(o.b)(),t=Object(a.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(u.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("owb.lists");localStorage.setItem("owb.lists",t),e(R(JSON.parse(t)))}),[e]),Object(a.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return i(e.matches)}))}),[]),Object(y.jsx)(b.a,{children:c?Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/edit",children:Object(y.jsx)(Ue,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/export",children:Object(y.jsx)(Je,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/duplicate",children:Object(y.jsx)(Ve,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/add/:type",children:Object(y.jsx)(Ge,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(y.jsx)(Te,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(y.jsx)(Ye,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(y.jsx)(Te,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId",children:Object(y.jsx)(Ae,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId",children:Object(y.jsx)(me,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/new",children:Object(y.jsx)(ee,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/about",children:Object(y.jsx)(ze,{})}),Object(y.jsx)(h.b,{path:"/help",children:Object(y.jsx)(Re,{})}),Object(y.jsx)(h.b,{path:"/privacy",children:Object(y.jsx)(ct,{})}),Object(y.jsx)(h.b,{path:"/datasets",children:Object(y.jsx)(nt,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/changelog",children:Object(y.jsx)(st,{})}),Object(y.jsx)(h.b,{path:"/print/:listId",children:Object(y.jsx)(Ke,{})}),Object(y.jsx)(h.b,{path:"/",exact:!0,children:Object(y.jsx)(Se,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"*",children:Object(y.jsx)(at,{})})]}):Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/about",children:Object(y.jsx)(ze,{})}),Object(y.jsx)(h.b,{path:"/help",children:Object(y.jsx)(Re,{})}),Object(y.jsx)(h.b,{path:"/privacy",children:Object(y.jsx)(ct,{})}),Object(y.jsx)(h.b,{path:"/datasets",children:Object(y.jsx)(nt,{})}),Object(y.jsx)(h.b,{path:"/changelog",children:Object(y.jsx)(st,{})}),Object(y.jsx)(h.b,{path:"/print/:listId",children:Object(y.jsx)(Ke,{})}),Object(y.jsxs)(h.b,{path:"/",children:[Object(y.jsx)(I,{headline:"Old World Builder",hasMainNavigation:!0}),Object(y.jsxs)(T,{isDesktop:!0,children:[Object(y.jsx)("section",{className:"column",children:Object(y.jsx)(Se,{})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/new",children:Object(y.jsx)(ee,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId",children:Object(y.jsx)(me,{})})]})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/edit",children:Object(y.jsx)(Ue,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/export",children:Object(y.jsx)(Je,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/duplicate",children:Object(y.jsx)(Ve,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/add/:type",children:Object(y.jsx)(Ge,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId",children:Object(y.jsx)(Ae,{})})]})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(y.jsx)(Te,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(y.jsx)(Ye,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(y.jsx)(Te,{})})]})})]})]})]})})}),rt=Object(U.b)({name:"errors",initialState:[],reducers:{setErrors:function(e,t){return t.payload||[]},addError:function(e,t){var n=t.payload;return[].concat(Object(p.a)(e),[n])}}}),lt=rt.actions,dt=(lt.setErrors,lt.addError,rt.reducer),mt=Object(U.a)({reducer:{lists:$,army:De,items:Be,errors:dt}}),jt=n(48),ut=n(49),bt=(localStorage.getItem("lang")||navigator.language||navigator.userLanguage).slice(0,2),ht=-1===["en","de"].indexOf(bt)?"en":bt;localStorage.setItem("lang",ht),document.documentElement.setAttribute("lang",ht),document.querySelector("meta[name=description]").setAttribute("content",{de:"Armeebauer f\xfcr Warhammer: The Old World und Warhammer Fantasy.",en:"Army builder for Warhammer: The Old World and Warhammer Fantasy Battles."}[ht]),$e="de"===ht?ut:jt,s.a.render(Object(y.jsx)(r.a,{locale:bt,messages:$e,children:Object(y.jsx)(o.a,{store:mt,children:Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(l.b,{children:Object(y.jsx)(ot,{})})})})}),document.getElementById("root")),d(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");m?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):j(t,e)}))}}()}]),[[90,1,2]]]);
//# sourceMappingURL=main.b747a69b.chunk.js.map