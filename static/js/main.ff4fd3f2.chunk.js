(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],[,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":"warhammer-fantasy","name":"Warhammer Fantasy","enabled":true,"armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Greenskins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["heirlooms","dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]},{"id":"the-old-world","name_de":"Warhammer: The Old World","enabled":false,"armies":[]}]')},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(20),s=n.n(a),r=n(3),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))},l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var j=n(4),u=n(5),m=n(6),b=n(8),h=n(2),O=n(9),p=n.n(O),x=n.p+"static/media/symbol-defs.220641f9.svg",f=(n(38),n(0)),g=function(e){var t=e.className,n=e.symbol,c=e.color;return Object(f.jsx)("svg",{focusable:"false",className:p()("icon",c&&"icon--".concat(c),t),children:Object(f.jsx)("use",{xlinkHref:"".concat(x,"#icon-").concat(n)})})},_=(n(40),function(e){var t=e.className,n=e.type,c=e.to,i=e.onClick,a=e.children,s=e.spaceBottom,r=e.spaceTop,o=e.fullWidth,l=e.label,d=e.icon,j=e.centered,m=e.color,b=e.submitButton,O=e.disabled,x=c?u.b:"button",_={};return c||(_.type=b?"submit":"button"),Object(f.jsxs)(x,Object(h.a)(Object(h.a)({className:p()("button","button--".concat(n),m&&"button--".concat(m),s&&"button--spaceBottom",r&&"button--spaceTop",o&&"button--fullWidth",j&&"button--centered",O&&"button--disabled",t),onClick:i,to:c,"aria-label":l,title:l,disabled:O},_),{},{children:[d&&Object(f.jsx)(g,{className:p()(a&&"button__icon"),symbol:d}),a&&a]}))});_.defaultProps={type:"primary"};var v,k,y,N=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},w=(n(42),function(){return Object(f.jsx)(g,{symbol:"spinner",className:"spinner"})}),P=(n(43),function(e){var t=e.className,n=e.headline,i=e.subheadline,a=e.moreButton,s=e.to,r=e.isSection,o=e.hasPointsError,l=Object(m.g)(),d=Object(c.useState)(!1),u=Object(j.a)(d,2),b=u[0],h=u[1],O=r?"section":"header";return Object(c.useEffect)((function(){h(!1)}),[l.pathname]),Object(f.jsxs)(O,{className:p()(r?"column-header":"header",t),children:[s?Object(f.jsx)(_,{type:"text",to:s,label:r?"Schlie\xdfen":"Zur\xfcck",color:r?"dark":"light",icon:r?"close":"back"}):Object(f.jsx)(f.Fragment,{children:a&&Object(f.jsx)("div",{className:"header__empty-icon"})}),Object(f.jsxs)("div",{className:"header__text",children:[n&&Object(f.jsx)("h1",{className:"header__name",children:n}),i&&Object(f.jsxs)("p",{className:"header__points",children:[i," ",o&&Object(f.jsx)(g,{symbol:"error",color:"red"})]})]}),a?Object(f.jsx)(_,{type:"text",color:r?"dark":"light",label:"Mehr Optionen",icon:"more",onClick:function(){h(!b)}}):Object(f.jsx)(f.Fragment,{children:s&&Object(f.jsx)("div",{className:"header__empty-icon"})}),b&&Object(f.jsx)("ul",{className:"header__more",children:a.map((function(e){var t=e.callback,n=e.name_de,c=e.icon,i=e.to;return Object(f.jsx)("li",{children:Object(f.jsx)(_,{type:"text",onClick:t,to:i,icon:c,children:n})},n)}))})]})}),I=function(e){var t=e.className,n=e.children,c=e.isDesktop,i=e.compact,a=e.loading;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("main",{className:p()("main",c?"main--desktop":"main--mobile",i&&"main--compact",t),children:[n,a&&Object(f.jsx)(w,{})]}),!a&&Object(f.jsx)("footer",{className:"footer",children:Object(f.jsxs)("nav",{children:[Object(f.jsx)(u.b,{to:"/about",children:"\xdcber OWB"}),Object(f.jsx)(u.b,{to:"/help",children:"Hilfe"}),Object(f.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder/issues",target:"_blank",rel:"noreferrer",children:"Fehler melden"})]})})]})},S=(n(44),function(e){var t=e.options,n=e.className,c=e.id,i=e.name,a=e.required,s=e.selected,r=e.disabled,o=e.value,l=e.onChange,d=e.spaceBottom;return Object(f.jsx)("select",{id:c,name:i,required:a,onChange:function(e){l(e.target.value)},value:o,defaultValue:s,disabled:r,className:p()("select",d&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.id;return Object(f.jsx)("option",{value:n,children:t},n)}))})}),F=(n(45),function(e){return Object(f.jsxs)("div",{className:"number-input",children:[Object(f.jsx)("input",Object(h.a)(Object(h.a)({},e),{},{type:"number"})),Object(f.jsx)(_,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)+1}})},type:"secondary",icon:"up",label:"Erh\xf6hen",disabled:e.value>=e.max,className:"number-input__button number-input__button--up"}),Object(f.jsx)(_,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)-1}})},type:"secondary",icon:"down",label:"Verringern",disabled:e.value<=e.min,className:"number-input__button number-input__button--down"})]})}),E=n(14),C=n(15),M=n(13),T=Object(M.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,c=n.listId,i={name:n.name,points:n.points,description:n.description};return Object.keys(i).forEach((function(e){return void 0===i[e]?delete i[e]:{}})),e.map((function(e){var t=e.id;return c===t?Object(h.a)(Object(h.a)({},e),i):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unit,s=Object(h.a)(Object(h.a)({},a),{},{strength:a.minimum});return e.map((function(e){var t=e.id;return c===t?Object(h.a)(Object(h.a)({},e),{},Object(C.a)({},i,[].concat(Object(b.a)(e[i]),[s]))):e}))},duplicateUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unitId,s=e.find((function(e){return e.id===c}))[i].find((function(e){return e.id===a}));return e.map((function(e){var t=e.id;return c===t?Object(h.a)(Object(h.a)({},e),{},Object(C.a)({},i,[].concat(Object(b.a)(e[i]),[Object(h.a)(Object(h.a)({},s),{},{id:"".concat(s.id.split(".")[0],".").concat(N())})]))):e}))},editUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.strength,s=n.unitId,r={strength:a,options:n.options,equipment:n.equipment,command:n.command,mounts:n.mounts,magic:n.magic},o=e.find((function(e){return e.id===c}))[i].find((function(e){return e.id===s}));Object.keys(r).forEach((function(e){return void 0===r[e]?delete r[e]:{}}));var l=Object(h.a)(Object(h.a)({},o),r);return e.map((function(e){var t=e.id;return c===t?Object(h.a)(Object(h.a)({},e),{},Object(C.a)({},i,e[i].map((function(e){return e.id===o.id?l:e})))):e}))},removeUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unitId;return e.map((function(e){var t=e.id;return c===t?Object(h.a)(Object(h.a)({},e),{},Object(C.a)({},i,e[i].filter((function(e){return e.id!==a})))):e}))}}}),B=T.actions,L=B.setLists,W=B.addUnit,q=B.editUnit,z=B.removeUnit,D=B.duplicateUnit,A=B.updateList,H=B.deleteList,G=(B.duplicateList,T.reducer),U=n.p+"static/media/warhammer-fantasy.4a99fa99.png",K=n.p+"static/media/the-old-world.6310c52f.png",J=(n(46),function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(m.g)(),a=Object(r.b)(),s=Object(r.c)((function(e){return e.lists})),o=Object(c.useState)(E[0].id),l=Object(j.a)(o,2),d=l[0],u=l[1],h=Object(c.useState)(E[0].armies[0].id),O=Object(j.a)(h,2),p=O[0],x=O[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),k=v[0],y=v[1],w=Object(c.useState)(""),C=Object(j.a)(w,2),M=C[0],T=C[1],B=Object(c.useState)(2e3),W=Object(j.a)(B,2),q=W[0],z=W[1],D=Object(c.useState)(null),A=Object(j.a)(D,2),H=A[0],G=A[1],J=function(e){u(e.target.value),x(E.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(f.jsxs)(f.Fragment,{children:[H&&Object(f.jsx)(m.a,{to:"/editor/".concat(H)}),t&&Object(f.jsx)(P,{to:"/",headline:"Neue Liste"}),Object(f.jsxs)(n,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/",headline:"Neue Liste"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=N(),t={name:k,description:M,game:d,points:q,army:p,lords:[],heroes:[],core:[],special:[],rare:[],id:e},n=[].concat(Object(b.a)(s),[t]);localStorage.setItem("owb.lists",JSON.stringify(n)),a(L(n)),G(e)}()},className:"new-list",children:[E.map((function(e){var t=e.name,n=e.id,c=e.enabled;return Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:J,checked:"warhammer-fantasy"===n,className:"radio__input",disabled:!c}),Object(f.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(f.jsx)("img",{height:"20",src:U,alt:t}),"the-old-world"===n&&Object(f.jsx)("img",{height:"35",src:K,alt:t})]})]},n)})),Object(f.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(f.jsx)("input",{type:"text",id:"name",className:"input",value:k,onChange:function(e){y(e.target.value)},autoComplete:"off",required:!0}),Object(f.jsx)("label",{htmlFor:"description",children:"Beschreibung (optional):"}),Object(f.jsx)("input",{type:"text",id:"description",className:"input",value:M,onChange:function(e){T(e.target.value)},autoComplete:"off"}),Object(f.jsx)("label",{htmlFor:"points",children:"Punkte:"}),Object(f.jsx)(F,{id:"points",className:"input",min:0,value:q,onChange:function(e){z(e.target.value)},required:!0}),Object(f.jsx)("label",{htmlFor:"army",children:"Armee:"}),Object(f.jsx)(S,{id:"army",options:E.filter((function(e){return e.id===d}))[0].armies,onChange:function(e){x(e)},selected:"warhammer-fantasy",spaceBottom:!0,required:!0}),Object(f.jsx)(_,{centered:!0,icon:"add-list",submitButton:!0,children:"Liste anlegen"})]})]})]})}),R={lords:{maxPercent:25},heroes:{maxPercent:25},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4}},Z=function(e){var t=e.type,n=e.armyPoints,c=e.points,i=n/100*R[t].maxPercent;return{points:Math.floor(i),overLimit:c>i,diff:c>i?Math.ceil(c-i):0}},V=(n(47),function(e){var t=e.to,n=e.onClick,c=e.children,i=e.className,a=e.active,s=t?u.b:"button";return Object(f.jsx)("li",{className:p()("list",a&&"list--active",i),children:Object(f.jsx)(s,{to:t,className:"list__inner",onClick:n,children:c})})}),Y=function(e){var t=e.mounts,n=e.equipment,c=e.options,i=e.command,a=e.magic,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.asString,o=s.noMagic,l=i?i.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],d=n?n.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],j=c?c.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],u=c?c.filter((function(e){return e.stackableCount>0})).map((function(e){var t=e.name_de,n=e.stackableCount;return"".concat(n," ").concat(t)})):[],m=t?t.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],h=(null===a||void 0===a?void 0:a.items)?a.items.map((function(e){return e.name_de})):[],O=[].concat(Object(b.a)(d),Object(b.a)(j),Object(b.a)(u),Object(b.a)(l),Object(b.a)(m),Object(b.a)(o?[]:h)),p=O.join(", ");return p?r?p:Object(f.jsx)("p",{children:p}):null},$=function(e){var t,n=0;return n=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(t){t.stackable?n+=(t.stackableCount||t.minimum||0)*t.points:t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.equipment&&e.equipment.forEach((function(t){t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.command&&e.command.forEach((function(e){e.active&&(n+=e.points)})),e.mounts&&e.mounts.forEach((function(e){e.active&&(n+=e.points)})),(null===e||void 0===e||null===(t=e.magic)||void 0===t?void 0:t.items)&&e.magic.items.forEach((function(e){n+=e.points})),n},Q=function(e){var t,n=0;return(null===e||void 0===e||null===(t=e.magic)||void 0===t?void 0:t.items)&&e.magic.items.forEach((function(e){n+=e.points})),n},X=function(e){var t=e.type,n=e.list,c=0;return n[t].forEach((function(e){c+=$(e)})),c},ee=function(e){return X({list:e,type:"lords"})+X({list:e,type:"heroes"})+X({list:e,type:"core"})+X({list:e,type:"special"})+X({list:e,type:"rare"})},te=(n(48),function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(m.h)().listId,a=Object(r.b)(),s=Object(c.useState)(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(m.g)(),b=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return i===t}))}));if(Object(c.useEffect)((function(){var e=function(){document.location.hash==="#".concat(u.pathname)&&sessionStorage.setItem("scrollPosition",window.pageYOffset)};return window.addEventListener("scroll",function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}(e,100)),window.scrollTo(0,Number(sessionStorage.getItem("scrollPosition"))||0),function(){return window.removeEventListener("scroll",e)}}),[u.pathname]),Object(c.useEffect)((function(){b&&function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("owb.lists",JSON.stringify(t))}(b)}),[b]),l)return Object(f.jsx)(m.a,{to:"/"});if(!b)return t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/"}),Object(f.jsx)(I,{loading:!0})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/",isSection:!0}),Object(f.jsx)(I,{loading:!0})]});var h=ee(b),O=X({list:b,type:"lords"}),p=X({list:b,type:"heroes"}),x=X({list:b,type:"core"}),v=X({list:b,type:"special"}),k=X({list:b,type:"rare"}),y=Z({type:"lords",armyPoints:b.points,points:O}),N=Z({type:"heroes",armyPoints:b.points,points:p}),w=function(e){var t=e.type,n=e.armyPoints,c=e.points,i=n/100*R[t].minPercent;return{points:Math.floor(i),overLimit:c<=i,diff:c<=i?Math.ceil(i-c):0}}({type:"core",armyPoints:b.points,points:x}),S=Z({type:"special",armyPoints:b.points,points:v}),F=Z({type:"rare",armyPoints:b.points,points:k}),E=[{name_de:"Bearbeiten",icon:"edit",to:"/editor/".concat(i,"/edit")},{name_de:"Duplizieren",icon:"duplicate",to:"/editor/".concat(i,"/duplicate")},{name_de:"L\xf6schen",icon:"delete",callback:function(){a(H(i)),function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("owb.lists",JSON.stringify(t))}(i),d(!0)}},{name_de:"Exportieren",icon:"export",to:"/editor/".concat(i,"/export")},{name_de:"Drucken",icon:"print",to:"/print/".concat(i)}];return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{to:"/",headline:b.name,subheadline:"".concat(h," / ").concat(b.points," Pkte."),hasPointsError:h>b.points,moreButton:E}),Object(f.jsxs)(n,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/",headline:b.name,subheadline:"".concat(h," / ").concat(b.points," Pkte."),hasPointsError:h>b.points,moreButton:E}),Object(f.jsxs)("section",{className:"editor__section",children:[Object(f.jsxs)("header",{className:"editor__header",children:[Object(f.jsx)("h2",{children:"Kommandanten"}),Object(f.jsx)("p",{className:"editor__points",children:y.diff>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:y.diff}),"Punkte zu viel",Object(f.jsx)(g,{symbol:"error",color:"red"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:y.points-O}),"Pkte. verf\xfcgbar",Object(f.jsx)(g,{symbol:"check"})]})})]}),Object(f.jsx)("ul",{children:b.lords.map((function(e,t){return Object(f.jsxs)(V,{to:"/editor/".concat(i,"/lords/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsx)("b",{children:e.name_de}),Object(f.jsx)("i",{children:"".concat($(e)," Pkte.")})]}),Y(e)]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/editor/".concat(i,"/add/lords"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(f.jsxs)("section",{className:"editor__section",children:[Object(f.jsxs)("header",{className:"editor__header",children:[Object(f.jsx)("h2",{children:"Helden"}),Object(f.jsx)("p",{className:"editor__points",children:N.diff>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:N.diff})," Pkte. zu viel",Object(f.jsx)(g,{symbol:"error",color:"red"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:N.points-p}),"Pkte. verf\xfcgbar",Object(f.jsx)(g,{symbol:"check"})]})})]}),Object(f.jsx)("ul",{children:b.heroes.map((function(e,t){return Object(f.jsxs)(V,{to:"/editor/".concat(i,"/heroes/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsx)("b",{children:e.name_de}),Object(f.jsx)("i",{children:"".concat($(e)," Pkte.")})]}),Y(e)]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/editor/".concat(i,"/add/heroes"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(f.jsxs)("section",{className:"editor__section",children:[Object(f.jsxs)("header",{className:"editor__header",children:[Object(f.jsx)("h2",{children:"Kerneinheiten"}),Object(f.jsx)("p",{className:"editor__points",children:w.diff>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:w.diff})," Pkte. fehlen",Object(f.jsx)(g,{symbol:"error",color:"red"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:x})," / ".concat(w.points," "),"Pkte. ",Object(f.jsx)(g,{symbol:"check"})]})})]}),Object(f.jsx)("ul",{children:b.core.map((function(e,t){return Object(f.jsxs)(V,{to:"/editor/".concat(i,"/core/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(f.jsx)("b",{children:e.name_de})]}),Object(f.jsx)("i",{children:"".concat($(e)," Pkte.")})]}),Y(e)]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/editor/".concat(i,"/add/core"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(f.jsxs)("section",{className:"editor__section",children:[Object(f.jsxs)("header",{className:"editor__header",children:[Object(f.jsx)("h2",{children:"Eliteeinheiten"}),Object(f.jsx)("p",{className:"editor__points",children:S.diff>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:S.diff})," Pkte. zu viel",Object(f.jsx)(g,{symbol:"error",color:"red"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:S.points-v})," Pkte. verf\xfcgbar ",Object(f.jsx)(g,{symbol:"check"})]})})]}),Object(f.jsx)("ul",{children:b.special.map((function(e,t){return Object(f.jsxs)(V,{to:"/editor/".concat(i,"/special/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(f.jsx)("b",{children:e.name_de})]}),Object(f.jsx)("i",{children:"".concat($(e)," Pkte.")})]}),Y(e)]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/editor/".concat(i,"/add/special"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(f.jsxs)("section",{className:"editor__section",children:[Object(f.jsxs)("header",{className:"editor__header",children:[Object(f.jsx)("h2",{children:"Seltene Einheiten"}),Object(f.jsx)("p",{className:"editor__points",children:F.diff>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:F.diff})," Pkte. zu viel",Object(f.jsx)(g,{symbol:"error",color:"red"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("strong",{children:F.points-k})," Pkte. verf\xfcgbar",Object(f.jsx)(g,{symbol:"check"})]})})]}),Object(f.jsx)("ul",{children:b.rare.map((function(e,t){return Object(f.jsxs)(V,{to:"/editor/".concat(i,"/rare/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(f.jsx)("b",{children:e.name_de})]}),Object(f.jsx)("i",{children:"".concat($(e)," Pkte.")})]}),Y(e)]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/editor/".concat(i,"/add/rare"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]})]})]})}),ne=n(29),ce=n.p+"static/media/the-empire.d3620178.svg",ie=n.p+"static/media/dwarfs.d1515ee2.svg",ae=n.p+"static/media/greenskins.ea460b46.svg",se=(n(49),{"the-empire":ce,dwarfs:ie,greenskins:ae}),re=function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(r.c)((function(e){return e.lists})),a=Object(m.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[a.pathname]),Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{headline:"Old World Builder"}),Object(f.jsxs)(n,{children:[!i.length&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:ce,alt:"",width:"100",height:"100",className:"home__logo"}),Object(f.jsx)("i",{className:"home__empty",children:"Erstelle jetzt deine erste Liste."})]}),Object(f.jsx)("ul",{children:i.map((function(e,t){var n=e.id,c=e.name,i=e.description,s=e.points,r=(e.game,e.army),o=Object(ne.a)(e,["id","name","description","points","game","army"]);return Object(f.jsxs)(V,{to:"/editor/".concat(n),active:a.pathname.includes(n),children:[Object(f.jsxs)("span",{className:"home__list-item",children:[Object(f.jsx)("h2",{className:"home__headline",children:c}),i&&Object(f.jsx)("p",{className:"home__description",children:i}),Object(f.jsxs)("p",{className:"home__points",children:[ee(Object(h.a)(Object(h.a)({},o),{},{points:s}))," ","/ ",s," Pkte."]})]}),Object(f.jsx)("img",{height:"40",width:"40",src:se[r],alt:""})]},t)}))}),Object(f.jsx)(_,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,children:"Neue Liste"})]})]})},oe=(n(50),function(e){var t=e.url,n=e.onSuccess,c=e.onError;v=new AbortController,fetch("".concat("/").concat(t,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:v.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){c&&c(e)}))}),le=Object(M.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),de=le.actions.setItems,je=le.reducer,ue=(n(51),{greenskins:{name_de:"Glitzakram"},"the-empire":{name_de:"Magische Erbst\xfccke"},heirlooms:{name_de:"Erbst\xfccke",name_en:"Ancestral Heirlooms"},dwarfs:{name_de:"Zwergenrunen",name_en:"Runic Items"},general:{name_de:"Magische Gegenst\xe4nde"},weapon:{name_de:"Magische Waffen"},armor:{name_de:"Magische R\xfcstungen"},item:{name_de:"Enchanted Items"},talisman:{name_de:"Talismane"},banner:{name_de:"Magische Standarten"},artifact:{name_de:"Arkane Artifakte"},"enchanted-item":{name_de:"Verzauberte Gegenst\xe4nde"},"weapon-runes":{name_de:"Waffenrunen",name_en:"Weapon Runes"},"armor-runes":{name_de:"R\xfcstungsrunen",name_en:"Armour Runes"},"banner-runes":{name_de:"Standartenrunen",name_en:"Banner Runes"},"talismanic-runes":{name_de:"Talismanrunen",name_en:"Talismanic Runes"},"engineering-runes":{name_de:"Maschinenrunen",name_en:"Engineering Runes"}}),me=function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(m.g)(),a=Object(c.useState)(!0),s=Object(j.a)(a,2),o=s[0],l=s[1],d=Object(m.h)(),u=d.listId,O=d.type,p=d.unitId,x=d.command,g=Object(r.b)(),_=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return u===t}))})),v=_&&E.find((function(e){return e.id===_.game})).armies.find((function(e){var t=e.id;return _.army===t})),N=Object(r.c)((function(e){return e.items})),w=_?_[O]:null,S=w&&w.find((function(e){return e.id===p})),F=function(e,t){var n,c;e.target.checked?n=[].concat(Object(b.a)((null===S||void 0===S||null===(c=S.magic)||void 0===c?void 0:c.items)||[]),[Object(h.a)(Object(h.a)({},t),{},{command:Number(x),id:e.target.value})]):n=S.magic.items.filter((function(t){return t.id!==e.target.value}));g(q({listId:u,type:O,unitId:p,magic:Object(h.a)(Object(h.a)({},S.magic),{},{items:n})}))};if(Object(c.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(c.useEffect)((function(){v&&oe({url:"games/".concat(_.game,"/magic-items"),onSuccess:function(e){var t=v.items.map((function(t){return{items:e[t],name_de:ue[t].name_de,id:t}}));g(de(function(e){return e.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{items:e.items.map((function(e,t){return e.conditional?Object(h.a)(Object(h.a)({},e),{},{id:t,conditional:e.conditional.map((function(e,n){return Object(h.a)(Object(h.a)({},e),{},{id:"".concat(t,"-").concat(n)})}))}):Object(h.a)(Object(h.a)({},e),{},{id:t})}))})}))}(t))),l(!1)}})}),[v,g,_,l,S]),o)return t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(u,"/").concat(O,"/").concat(p)}),Object(f.jsx)(I,{loading:!0})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(u,"/").concat(O,"/").concat(p),isSection:!0}),Object(f.jsx)(I,{loading:!0})]});var C=function(e){var t,n=e.unit,c=e.magicItem,i=e.itemGroup,a=(null===n||void 0===n||null===(t=n.magic)||void 0===t?void 0:t.items)&&n.magic.items.find((function(e){return e.id==="".concat(i.id,"-").concat(c.id)}))||!1;return Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("input",{type:"checkbox",id:"".concat(i.id,"-").concat(c.id),value:"".concat(i.id,"-").concat(c.id),onChange:function(e){return F(e,c)},checked:a,className:"checkbox__input"}),Object(f.jsxs)("label",{htmlFor:"".concat(i.id,"-").concat(c.id),className:"checkbox__label",children:[c.name_de,Object(f.jsx)("i",{className:"checkbox__points",children:"".concat(c.points," Pkte.")})]})]},c.id)};return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{to:"/editor/".concat(u,"/").concat(O,"/").concat(p),headline:"Magische Gegenst\xe4nde",subheadline:"".concat(Q(S)," / ").concat(S.magic.maxPoints," Pkte."),hasPointsError:Q(S)>S.magic.maxPoints}),Object(f.jsxs)(n,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(u,"/").concat(O,"/").concat(p),headline:"Magische Gegenst\xe4nde",subheadline:"".concat(Q(S)," / ").concat(S.magic.maxPoints," Pkte."),hasPointsError:Q(S)>S.magic.maxPoints}),N.map((function(e){return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("h2",{className:"unit__subline",children:e.name_de}),e.items.map((function(t){var n,i;if(k!==t.type?(k=t.type,y=!0):y=!1,(null===S||void 0===S?void 0:S.command)&&(null===S||void 0===S?void 0:S.command[x])&&!S.command[x].magic.types.includes(t.type))return null;if((null===S||void 0===S||null===(n=S.magic)||void 0===n?void 0:n.types)&&!S.magic.types.includes(t.type))return null;var a=(null===S||void 0===S||null===(i=S.magic)||void 0===i?void 0:i.items)&&S.magic.items.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1;return Object(f.jsxs)(c.Fragment,{children:[y&&Object(f.jsx)("h3",{className:"magic__type",children:ue[t.type].name_de}),C({unit:S,magicItem:t,itemGroup:e}),t.conditional&&a?t.conditional.map((function(t){return C({unit:S,magicItem:t,itemGroup:e})})):null]},t.name_de)}))]},e.name_de)}))]})]})},be=(n(52),function(e){var t=0;return e&&e.forEach((function(e){t+=e.points})),t}),he=function(e){var t,n,i,a=e.isMobile,s=a?I:c.Fragment,o=Object(m.h)(),l=o.listId,d=o.type,u=o.unitId,b=Object(r.b)(),O=Object(c.useState)(null),x=Object(j.a)(O,2),_=x[0],v=x[1],k=Object(m.g)(),y=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return l===t}))})),N=y?y[d]:null,w=N&&N.find((function(e){return e.id===u})),S=0,E=function(e){b(z({listId:l,type:d,unitId:e})),v(!0)},C=function(e){b(D({listId:l,type:d,unitId:e})),v(!0)};return(null===w||void 0===w||null===(t=w.magic)||void 0===t?void 0:t.items)&&(null===w||void 0===w||null===(n=w.magic)||void 0===n||n.items.forEach((function(e){S+=e.points}))),Object(c.useEffect)((function(){window.scrollTo(0,0)}),[k.pathname]),!0===_?Object(f.jsx)(m.a,{to:"/editor/".concat(l)}):w?Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)(P,{to:"/editor/".concat(l),moreButton:[{name_de:"Duplizieren",icon:"duplicate",callback:function(){return C(w.id)}},{name_de:"Entfernen",icon:"delete",callback:function(){return E(w.id)}}],headline:w.name_de,subheadline:"".concat($(w)," Pkte.")}),Object(f.jsxs)(s,{children:[!a&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(l),headline:w.name_de,subheadline:"".concat($(w)," Pkte."),moreButton:[{name_de:"Duplizieren",icon:"duplicate",callback:function(){return C(w.id)}},{name_de:"Entfernen",icon:"delete",callback:function(){return E(w.id)}}]}),!w.minimum&&!w.command&&!w.equipment&&!w.mounts&&!w.magic&&!w.options&&Object(f.jsx)("i",{className:"unit__empty",children:"Keine Optionen verf\xfcgbar."}),w.minimum&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:"Einheitengr\xf6\xdfe:"}),Object(f.jsx)(F,{id:"strength",className:"input",min:w.minimum,max:w.maximum,value:w.strength,onChange:function(e){b(q({listId:l,type:d,unitId:u,strength:e.target.value}))}})]}),w.command&&w.command.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"unit__subline",children:"Kommandoabteilung:"}),w.command.map((function(e,t){var n,i,a=e.name_de,s=e.points,r=e.perModel,o=e.id,j=e.active,m=void 0!==j&&j,O=e.magic;return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("input",{type:"checkbox",id:"command-".concat(o),value:o,onChange:function(){return function(e){var t,n=(null===(t=w.magic)||void 0===t?void 0:t.items)||[],c=w.command.map((function(t,c){return t.id===e?(t.active&&(n=n.filter((function(e){return e.command!==c}))),Object(h.a)(Object(h.a)({},t),{},{active:!t.active})):t}));b(q({listId:l,type:d,unitId:u,command:c,magic:Object(h.a)(Object(h.a)({},w.magic),{},{items:n})}))}(o)},checked:m,className:"checkbox__input"}),Object(f.jsxs)("label",{htmlFor:"command-".concat(o),className:"checkbox__label",children:[a,Object(f.jsxs)("i",{className:"checkbox__points",children:["".concat(s," ").concat(1===s?"Pkt.":"Pkte."),r&&" pro Modell"]})]})]}),O&&m&&Object(f.jsxs)(V,{to:"/editor/".concat(l,"/").concat(d,"/").concat(u,"/magic/").concat(t),className:"editor__list unit__link",active:k.pathname.includes("magic"),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsx)("b",{children:O.types.map((function(e){return ue[e].name_de})).join(", ")}),Object(f.jsxs)("i",{className:"checkbox__points",children:[Object(f.jsx)("span",{className:p()(S>w.magic.maxPoints&&"editor__error"),children:be(null===w||void 0===w||null===(n=w.magic)||void 0===n?void 0:n.items.filter((function(e){return e.command===t})))})," ","/ ",w.command[t].magic.maxPoints," Pkte."]}),S>w.magic.maxPoints&&Object(f.jsx)(g,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===w||void 0===w||null===(i=w.magic)||void 0===i?void 0:i.items)&&Object(f.jsx)("p",{children:w.magic.items.filter((function(e){return e.command===t})).map((function(e){return e.name_de})).join(", ")})]})]},o)}))]}),w.equipment&&w.equipment.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"unit__subline",children:"Ausr\xfcstung:"}),w.equipment.map((function(e){var t=e.name_de,n=e.points,c=e.perModel,i=e.id,a=e.active,s=void 0!==a&&a;return Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("input",{type:"radio",id:"equipment-".concat(i),name:"equipment",value:i,onChange:function(){return function(e){var t=w.equipment.map((function(t){return Object(h.a)(Object(h.a)({},t),{},{active:t.id===e})}));b(q({listId:l,type:d,unitId:u,equipment:t}))}(i)},checked:s,className:"radio__input"}),Object(f.jsxs)("label",{htmlFor:"equipment-".concat(i),className:"radio__label",children:[t,Object(f.jsxs)("i",{className:"checkbox__points",children:["".concat(n," ").concat(1===n?"Pkt.":"Pkte."),c&&" pro Modell"]})]})]},i)}))]}),w.options&&w.options.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"unit__subline",children:"Optionen:"}),w.options.map((function(e){var t=e.name_de,n=e.points,i=e.perModel,a=e.id,s=e.stackable,r=e.maximum,o=e.minimum,j=void 0===o?0:o,m=e.stackableCount,O=void 0===m?j||0:m,p=e.active,x=void 0!==p&&p;return s?Object(f.jsxs)(c.Fragment,{children:[Object(f.jsxs)("label",{htmlFor:"options-".concat(a),className:"unit__special-option",children:[t,":",Object(f.jsxs)("i",{className:"checkbox__points",children:[n," Pkte. pro Modell"]})]}),Object(f.jsx)(F,{id:"options-".concat(a),className:"input",min:j,max:r,value:O,onChange:function(e){return function(e){var t=e.id,n=e.stackableCount,c=w.options.map((function(e){return e.id===t?Object(h.a)(Object(h.a)({},e),{},{stackableCount:n}):e}));b(q({listId:l,type:d,unitId:u,options:c}))}({id:a,stackableCount:e.target.value})}})]},a):Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("input",{type:"checkbox",id:"options-".concat(a),value:a,onChange:function(){return function(e){var t=w.options.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{active:!t.active}):t}));b(q({listId:l,type:d,unitId:u,options:t}))}(a)},checked:x,className:"checkbox__input"}),Object(f.jsxs)("label",{htmlFor:"options-".concat(a),className:"checkbox__label",children:[t,Object(f.jsxs)("i",{className:"checkbox__points",children:["".concat(n," ").concat(1===n?"Pkt.":"Pkte."),i&&" pro Modell"]})]})]},a)}))]}),w.mounts&&w.mounts.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"unit__subline",children:"Reittier:"}),w.mounts.map((function(e){var t=e.name_de,n=e.points,c=e.id,i=e.active,a=void 0!==i&&i;return Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("input",{type:"radio",id:"mounts-".concat(c),name:"mounts",value:c,onChange:function(){return function(e){var t=w.mounts.map((function(t){return Object(h.a)(Object(h.a)({},t),{},{active:t.id===e})}));b(q({listId:l,type:d,unitId:u,mounts:t}))}(c)},checked:a,className:"radio__input"}),Object(f.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"radio__label",children:[t,Object(f.jsx)("i",{className:"checkbox__points",children:"".concat(n," Pkte.")})]})]},c)}))]}),(null===w||void 0===w||null===(i=w.magic)||void 0===i?void 0:i.maxPoints)&&Object(f.jsxs)(V,{to:"/editor/".concat(l,"/").concat(d,"/").concat(u,"/magic"),className:"editor__list unit__link",active:k.pathname.includes("magic"),children:[Object(f.jsxs)("div",{className:"editor__list-inner",children:[Object(f.jsx)("b",{className:"unit__magic-headline",children:"Magische Gegenst\xe4nde"}),Object(f.jsxs)("i",{className:"checkbox__points",children:[Object(f.jsx)("span",{className:p()(S>w.magic.maxPoints&&"editor__error"),children:S})," ","/ ",w.magic.maxPoints," Pkte."]}),S>w.magic.maxPoints&&Object(f.jsx)(g,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),w.magic.items&&Object(f.jsx)("p",{children:w.magic.items.map((function(e){return e.name_de})).join(", ")})]})]})]}):a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(l)}),Object(f.jsx)(I,{loading:!0})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(l),isSection:!0}),Object(f.jsx)(I,{loading:!0})]})},Oe=(n(53),function(e){var t=e.isMobile,n=Object(m.g)(),i=t?I:c.Fragment,a=Object(m.h)().listId,s=Object(r.b)(),o=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),o?Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(f.jsxs)(i,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(f.jsx)("label",{htmlFor:"name",className:"edit__label",children:"Name:"}),Object(f.jsx)("input",{type:"text",id:"name",className:"input",value:o.name,onChange:function(e){s(A({listId:a,name:e.target.value}))},autoComplete:"off",required:!0}),Object(f.jsx)("label",{htmlFor:"description",className:"edit__label",children:"Beschreibung (optional):"}),Object(f.jsx)("input",{type:"text",id:"description",className:"input",value:o.description,onChange:function(e){s(A({listId:a,description:e.target.value}))},autoComplete:"off"}),Object(f.jsx)("label",{htmlFor:"points",children:"Punkte:"}),Object(f.jsx)(F,{id:"points",className:"input",min:0,value:o.points,onChange:function(e){s(A({listId:a,points:Number(e.target.value)}))},required:!0})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(f.jsx)(I,{})]})}),pe=function(){var e=Object(m.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{headline:"Old World Builder"}),Object(f.jsxs)(I,{compact:!0,children:[Object(f.jsx)(_,{to:"/",icon:"home",centered:!0,children:"Zur Startseite"}),Object(f.jsx)("h2",{children:'Was ist der "Old World Builder"?'}),Object(f.jsxs)("p",{children:["Der ",Object(f.jsx)("i",{children:"Old World Builder"})," ist ein Armeeplaner f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World (sobald es erscheint)."]}),Object(f.jsxs)("p",{children:["Das Projekt ist Open-Source und wird entwickelt von Nico Thiebes (",Object(f.jsx)("a",{href:"https://twitter.com/_gscheid",target:"_blank",rel:"noreferrer",children:"@_gscheid"}),")."]}),Object(f.jsx)("h2",{children:"Credits"}),Object(f.jsxs)("p",{children:["Fantasy icons von"," ",Object(f.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"})," ","(",Object(f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"}),")."]}),Object(f.jsx)("h2",{children:"Eure Unterst\xfctzung"}),Object(f.jsxs)("p",{children:["Der ",Object(f.jsx)("i",{children:"Old World Builder"})," wird Open-Source entwickelt. Ihr k\xf6nnt dabei helfen, fehlende bzw. unvollst\xe4ndige Datensets der Armeen zu vervollst\xe4ndigen. Details dazu Ihr findet ihr auf der"," ",Object(f.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub Projektseite"}),"."]})]})]})},xe=Object(M.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),fe=xe.actions.setArmy,ge=xe.reducer,_e=function(e){return e.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t})})):null})}))},ve=function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(m.h)(),a=i.listId,s=i.type,o=Object(r.b)(),l=Object(c.useState)(null),d=Object(j.a)(l,2),u=d[0],b=d[1],O=Object(m.g)(),p=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))})),x=Object(r.c)((function(e){return e.army}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[O.pathname]),Object(c.useEffect)((function(){p&&oe({url:"games/".concat(p.game,"/").concat(p.army),onSuccess:function(e){o(fe({lords:_e(e.lords),heroes:_e(e.heroes),core:_e(e.core),special:_e(e.special),rare:_e(e.rare)}))}})}),[p,o]),u?Object(f.jsx)(m.a,{to:"/editor/".concat(a,"/").concat(s,"/").concat(u.id)}):x?Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{to:"/editor/".concat(a),headline:"Einheit ausw\xe4hlen"}),Object(f.jsxs)(n,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(a),headline:"Einheit ausw\xe4hlen"}),Object(f.jsx)("ul",{children:x[s].map((function(e){var t=e.name_de,n=e.id,c=e.minimum,i=e.points;return Object(f.jsxs)(V,{onClick:function(){return function(e){var t=Object(h.a)(Object(h.a)({},x[s].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(N())});o(W({listId:a,type:s,unit:t})),b(t)}(n)},children:[Object(f.jsxs)("span",{className:"unit__name",children:[c&&"".concat(c," "),Object(f.jsx)("b",{children:t})]}),Object(f.jsx)("i",{className:"unit__points",children:"".concat(c?i*c:i," Pkte.")})]},n)}))})]})]}):t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(a)}),Object(f.jsx)(I,{loading:!0})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(a),isSection:!0}),Object(f.jsx)(I,{loading:!0})]})},ke=function(){var e=Object(m.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{headline:"Old World Builder"}),Object(f.jsxs)(I,{compact:!0,children:[Object(f.jsx)(_,{to:"/",icon:"home",centered:!0,children:"Zur Startseite"}),Object(f.jsx)("h2",{children:"Hilfe"}),Object(f.jsxs)("p",{children:["Bei Fragen oder Problemen kannst du ein Issue auf"," ",Object(f.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","erstellen oder mir auf"," ",Object(f.jsx)("a",{href:"https://twitter.com/_gscheid",target:"_blank",rel:"noreferrer",children:"Twitter"})," ","schreiben."]})]})]})},ye=(n(54),function(e,t){return e.map((function(e){var n=Y(e,{asString:!0,noMagic:t});return t?"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e.name_de,"\n").concat(n?"- ".concat(n.split(", ").join("\n- "),"\n"):"","\n"):"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e.name_de," [").concat($(e)," Pkte.]\n").concat(n?"- ".concat(n.split(", ").join("\n- "),"\n"):"","\n")})).join("")}),Ne=function(e){var t=e.isMobile,n=t?I:c.Fragment,i=Object(m.g)(),a=Object(c.useState)(!1),s=Object(j.a)(a,2),o=s[0],l=s[1],d=Object(c.useState)(!1),u=Object(j.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!1),p=Object(j.a)(O,2),x=p[0],g=p[1],v=Object(m.h)().listId,k=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return v===t}))})),y=k?function(e,t){var n=ee(e),c=X({list:e,type:"lords"}),i=X({list:e,type:"heroes"}),a=X({list:e,type:"core"}),s=X({list:e,type:"special"}),r=X({list:e,type:"rare"});return t?"===\n".concat(e.name,"\n").concat(e.game,", ").concat(e.army,"\n===\n\n++ Kommandanten ++\n\n").concat(ye(e.lords,t),"\n++ Helden ++\n\n").concat(ye(e.heroes,t),"\n++ Kerneinheiten ++\n\n").concat(ye(e.core,t),"\n++ Eliteeinheiten ++\n\n").concat(ye(e.special,t),"\n++ Seltene Einheiten ++\n\n").concat(ye(e.rare,t),'\n\n---\nErstellt mit "Old World Builder"\n\n[https://old-world-builder.com]'):"===\n".concat(e.name," [").concat(n," Pkte.]\n").concat(e.game,", ").concat(e.army,"\n===\n\n++ Kommandanten [").concat(c," Pkte.] ++\n\n").concat(ye(e.lords),"\n++ Helden [").concat(i," Pkte.] ++\n\n").concat(ye(e.heroes),"\n++ Kerneinheiten [").concat(a," Pkte.] ++\n\n").concat(ye(e.core),"\n++ Eliteeinheiten [").concat(s," Pkte.] ++\n\n").concat(ye(e.special),"\n++ Seltene Einheiten [").concat(r," Pkte.] ++\n\n").concat(ye(e.rare),'\n\n---\nErstellt mit "Old World Builder"\n\n[https://old-world-builder.com]')}(k,x):"";return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),k?Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(P,{to:"/editor/".concat(v),headline:"Liste exportieren"}),Object(f.jsxs)(n,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(v),headline:"Liste exportieren"}),Object(f.jsx)(_,{icon:o?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(y).then((function(){l(!0)}),(function(){h(!0)}))},children:o?"Text kopiert!":"Als Text kopieren"}),b&&Object(f.jsx)("p",{className:"export__error",children:"Das hat leider nicht geklappt :(."}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return g(!x)},checked:x,className:"checkbox__input"}),Object(f.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:"Sichtbare Liste"})]}),Object(f.jsx)("textarea",{className:"export__text",value:y,readOnly:!0})]})]}):null},we=(n(55),function(){var e=Object(m.h)().listId,t=Object(c.useState)(!1),n=Object(j.a)(t,2),i=n[0],a=n[1],s=Object(r.c)((function(t){return t.lists.find((function(t){var n=t.id;return e===n}))}));if(Object(c.useEffect)((function(){s&&(document.title="".concat(s.name,", ").concat(s.army),window.onafterprint=function(){document.title="Old World Builder",a(!0)},window.print())}),[s]),!s)return null;var o=ee(s),l=X({list:s,type:"lords"}),d=X({list:s,type:"heroes"}),u=X({list:s,type:"core"}),b=X({list:s,type:"special"}),h=X({list:s,type:"rare"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{className:"print-back",to:"/editor/".concat(e),centered:!0,icon:"back",spaceTop:!0,spaceBottom:!0,children:"Zur\xfcck"}),!i&&Object(f.jsx)("p",{className:"print-info",children:"Druckt..."}),Object(f.jsxs)("main",{className:"print",children:[Object(f.jsxs)("h1",{children:[s.name," ",Object(f.jsxs)("span",{className:"print__points",children:["[",o," Pkte.]"]})]}),Object(f.jsxs)("p",{className:"print__subheader",children:[s.game,", ",s.army]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("h2",{children:["Kommandanten"," ",Object(f.jsxs)("span",{className:"print__points",children:["[",l," Pkte.]"]})]}),Object(f.jsx)("ul",{children:s.lords.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:[e.name_de,Object(f.jsxs)("span",{className:"print__points",children:["[",$(e)," Pkte.]"]})]}),Y(e)]},e.id)}))})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("h2",{children:["Helden ",Object(f.jsxs)("span",{className:"print__points",children:["[",d," Pkte.]"]})]}),Object(f.jsx)("ul",{children:s.heroes.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:[e.name_de,Object(f.jsxs)("span",{className:"print__points",children:["[",$(e)," Pkte.]"]})]}),Y(e)]},e.id)}))})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("h2",{children:["Kerneinheiten"," ",Object(f.jsxs)("span",{className:"print__points",children:["[",u," Pkte.]"]})]}),Object(f.jsx)("ul",{children:s.core.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),e.name_de,Object(f.jsxs)("span",{className:"print__points",children:["[",$(e)," Pkte.]"]})]}),Y(e)]},e.id)}))})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("h2",{children:["Eliteeinheiten"," ",Object(f.jsxs)("span",{className:"print__points",children:["[",b," Pkte.]"]})]}),Object(f.jsx)("ul",{children:s.special.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),e.name_de,Object(f.jsxs)("span",{className:"print__points",children:["[",$(e)," Pkte.]"]})]}),Y(e)]},e.id)}))})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("h2",{children:["Seltene Einheiten"," ",Object(f.jsxs)("span",{className:"print__points",children:["[",h," Pkte.]"]})]}),Object(f.jsx)("ul",{children:s.rare.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),e.name_de,Object(f.jsxs)("span",{className:"print__points",children:["[",$(e)," Pkte.]"]})]}),Y(e)]},e.id)}))})]})]}),Object(f.jsxs)("footer",{className:"print-footer",children:[Object(f.jsxs)("p",{children:["Erstellt mit ",Object(f.jsx)("b",{children:'"Old World Builder"'})]}),Object(f.jsxs)("p",{children:["[",Object(f.jsx)("a",{href:"https://old-world-builder.com",children:Object(f.jsx)("i",{children:"old-world-builder.com"})}),"]"]})]})]})}),Pe=(n(56),function(e){var t=e.isMobile,n=Object(m.g)(),i=t?I:c.Fragment,a=Object(m.h)().listId,s=Object(r.b)(),o=Object(c.useState)(""),l=Object(j.a)(o,2),d=l[0],u=l[1],O=Object(c.useState)(2e3),p=Object(j.a)(O,2),x=p[0],g=p[1],v=Object(c.useState)(null),k=Object(j.a)(v,2),y=k[0],w=k[1],S=Object(r.c)((function(e){return e.lists})),E=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),Object(c.useEffect)((function(){E&&(u("Kopie von ".concat(E.name)),g(E.points))}),[E]),E?Object(f.jsxs)(f.Fragment,{children:[y&&Object(f.jsx)(m.a,{to:"/editor/".concat(y)}),t&&Object(f.jsx)(P,{to:"/editor/".concat(a),headline:"Liste duplizieren"}),Object(f.jsxs)(i,{children:[!t&&Object(f.jsx)(P,{isSection:!0,to:"/editor/".concat(a),headline:"Liste duplizieren"}),Object(f.jsxs)("form",{onSubmit:function(e){var t=N(),n=[].concat(Object(b.a)(S),[Object(h.a)(Object(h.a)({},E),{},{name:d,points:x,id:t})]);e.preventDefault(),localStorage.setItem("owb.lists",JSON.stringify(n)),s(L(n)),w(t)},className:"duplicate",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(f.jsx)("input",{type:"text",id:"name",className:"input",value:d,onChange:function(e){u(e.target.value)},autoComplete:"off",required:!0}),Object(f.jsx)("label",{htmlFor:"points",children:"Punkte:"}),Object(f.jsx)(F,{id:"points",className:"input",min:0,value:x,onChange:function(e){g(e.target.value)},required:!0}),Object(f.jsx)(_,{centered:!0,icon:"duplicate",submitButton:!0,children:"Liste duplizieren"})]})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{to:"/editor/".concat(a),headline:"Liste duplizieren"}),Object(f.jsx)(I,{})]})}),Ie=(n(57),function(){var e=Object(r.b)(),t=Object(c.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(j.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){var t=localStorage.getItem("owb.lists")||localStorage.getItem("lists");localStorage.setItem("owb.lists",t),e(L(JSON.parse(t)))}),[e]),Object(c.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return a(e.matches)}))}),[]),Object(f.jsx)(u.a,{children:i?Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/editor/:listId/edit",children:Object(f.jsx)(Oe,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/export",children:Object(f.jsx)(Ne,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/duplicate",children:Object(f.jsx)(Pe,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/add/:type",children:Object(f.jsx)(ve,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(f.jsx)(me,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(f.jsx)(me,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId",children:Object(f.jsx)(he,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/editor/:listId",children:Object(f.jsx)(te,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/new",children:Object(f.jsx)(J,{isMobile:!0})}),Object(f.jsx)(m.b,{path:"/about",children:Object(f.jsx)(pe,{})}),Object(f.jsx)(m.b,{path:"/help",children:Object(f.jsx)(ke,{})}),Object(f.jsx)(m.b,{path:"/print/:listId",children:Object(f.jsx)(we,{})}),Object(f.jsx)(m.b,{path:"/",children:Object(f.jsx)(re,{isMobile:!0})})]}):Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/about",children:Object(f.jsx)(pe,{})}),Object(f.jsx)(m.b,{path:"/help",children:Object(f.jsx)(ke,{})}),Object(f.jsx)(m.b,{path:"/print/:listId",children:Object(f.jsx)(we,{})}),Object(f.jsxs)(m.b,{path:"/",children:[Object(f.jsx)(P,{headline:"Old World Builder"}),Object(f.jsxs)(I,{isDesktop:!0,children:[Object(f.jsx)("section",{className:"column",children:Object(f.jsx)(re,{})}),Object(f.jsx)("section",{className:"column",children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/new",children:Object(f.jsx)(J,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId",children:Object(f.jsx)(te,{})})]})}),Object(f.jsx)("section",{className:"column",children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/editor/:listId/edit",children:Object(f.jsx)(Oe,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId/export",children:Object(f.jsx)(Ne,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId/duplicate",children:Object(f.jsx)(Pe,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId/add/:type",children:Object(f.jsx)(ve,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId",children:Object(f.jsx)(he,{})})]})}),Object(f.jsx)("section",{className:"column",children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(f.jsx)(me,{})}),Object(f.jsx)(m.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(f.jsx)(me,{})})]})})]})]})]})})}),Se=Object(M.b)({name:"errors",initialState:[],reducers:{setErrors:function(e,t){return t.payload||[]},addError:function(e,t){var n=t.payload;return[].concat(Object(b.a)(e),[n])}}}),Fe=Se.actions,Ee=(Fe.setErrors,Fe.addError,Se.reducer),Ce=Object(M.a)({reducer:{lists:G,army:ge,items:je,errors:Ee}});s.a.render(Object(f.jsx)(r.a,{store:Ce,children:Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(Ie,{})})}),document.getElementById("root")),o(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");l?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):d(t,e)}))}}()}],[[58,1,2]]]);
//# sourceMappingURL=main.ff4fd3f2.chunk.js.map