
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9ebde80e-88e5-5371-aca3-679da0ab3837")}catch(e){}}();
(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"header.back":"Back","header.close":"Close","header.more":"More options","footer.about":"About OWB","footer.help":"Help","footer.datasets":"Datasets","footer.privacy":"Privacy Policy","footer.changelog":"News","app.point":"pt","app.points":"pts","home.empty":"Create your first list.","home.newList":"New list","home.import":"Import list","new.title":"New list","new.army":"Army:","new.create":"Create list","misc.name":"Name:","misc.description":"Description (optional):","misc.points":"Points:","misc.increase":"Increase","misc.decrease":"Decrease","misc.duplicate":"Duplicate","misc.rename":"Rename","misc.edit":"Edit","misc.delete":"Delete","misc.export":"Export","misc.print":"Print","misc.remove":"Remove","misc.startpage":"To home page","editor.add":"Add","editor.lords":"Lords","editor.heroes":"Heroes","editor.characters":"Characters","editor.core":"Core Units","editor.special":"Special Units","editor.rare":"Rare Units","editor.mercenaries":"Mercenaries","editor.allies":"Allies","editor.tooManyPoints":"pts too many","editor.availablePoints":"pts available","editor.missingPoints":"pts missing","add.title":"Select unit","duplicate.copyOf":"Copy of","duplicate.title":"Duplicate list","edit.title":"Edit list","export.title":"Export list","export.copy":"Copy as text","export.copied":"Text copied!","export.copyTitle":"As readable text","export.forumText":"Format as forum text","export.forumTextDescription":"(with BBCode formatting)","export.compactList":"Compact list","export.compactListDescription":"(saves space thanks to fewer lines)","export.download":"Download as .owb.json","export.downloadAsText":"Download as text","export.shareOwb":"Share as .owb.json","export.shareText":"Share as text","export.shareDescription":"(via the share function on your device)","export.dowloadInfo":"(can be reimported on another device)","export.error":"That unfortunately did not work :(.","export.visibleList":"Visible list","export.visibleListDescription":"(no points and hidden items)","export.createdWith":"Created with","export.owbTitle":"As .owb.json file","export.preview":"Show preview","import.title":"Import list","import.button":"Import","import.description":"Select an .owb.json file:","import.typeError":"Incorrect file type. Please upload an .owb.json file.","print.printing":"Printing...","unit.perModel":"per model","unit.noOptions":"No options available.","unit.unitSize":"Unit size:","unit.command":"Command:","unit.equipment":"Weapons:","unit.armor":"Armor:","unit.options":"Options:","unit.mount":"Mount:","unit.magicItems":"Magic Items","unit.detachments":"Detachments","help.title":"Help","help.text":"If you have any questions or problems, you can create an issue on {github} or join our {discord}.","about.title":"What\'s the \\"Old World Builder\\"?","about.text":"The {owb} is an army builder for the Games Workshop tabletop games Warhammer Fantasy and Warhammer: The Old World.","about.text2":"The project is open source ({github}) and is being developed by Nico Thiebes.","about.text3":"The {owb} is open source. You can help to complete or translate missing or incomplete army datasets. You can find more details under {datasets} or on our {discord}.","about.support":"Your support","about.disclaimer":"This web site is completely unofficial and in no way endorsed by Games Workshop Limited.","about.credits":"Fantasy icons from {gameIcons} ({license}).","rename.title":"Rename unit","404.title":"404 - Page not found","changelog.title":"What\'s new?","changelog.change0":"New {datasets} editor for easier contribution. You can expand existing army data, add missing translations or create a new army dataset.","changelog.change1":"Printing a list without points or magic items is now possible.","changelog.change2":"{privacy} added. Although we don\'t collect any personal data, we need it for the upcoming release of our Android app.","changelog.change3":"Various minor design changes and fixes.","changelog.change4":"Most <b>Warhammer: The Old World armies</b> are already fully* <b>available</b> thanks to our great community!","changelog.change5":"Army lists can be <b>exported/shared</b> as a \'.owb.json\' file and <b>imported</b> again on another device.","changelog.change6":"Army lists can now be shared or downloaded as text using your device\'s <b>share feature</b>.","changelog.change7":"* Since we don\'t have access to all the books yet, there may of course still be errors and some options are not yet available. If you find something that doesn\'t fit yet, please let us know in {discord}!","changelog.change8":"Lists can be <b>exported</b> in a <b>compact</b>/space-saving manner."}')},116:function(e){e.exports=JSON.parse('{"header.back":"Zur\xfcck","header.close":"Schlie\xdfen","header.more":"Mehr Optionen","footer.about":"\xdcber OWB","footer.help":"Hilfe","footer.datasets":"Datens\xe4tze","footer.privacy":"Datenschutzerkl\xe4rung","footer.changelog":"Neuigkeiten","app.point":"Pkt.","app.points":"Pkte.","home.empty":"Erstelle jetzt deine erste Liste.","home.newList":"Neue Liste","home.import":"Liste importieren","new.title":"Neue Liste","new.army":"Armee:","new.create":"Liste anlegen","misc.name":"Name:","misc.description":"Beschreibung (optional):","misc.points":"Punkte:","misc.increase":"Erh\xf6hen","misc.decrease":"Verringern","misc.duplicate":"Duplizieren","misc.rename":"Umbenennen","misc.edit":"Bearbeiten","misc.delete":"L\xf6schen","misc.export":"Exportieren","misc.print":"Drucken","misc.remove":"Entfernen","misc.startpage":"Zur Startseite","editor.add":"Hinzuf\xfcgen","editor.lords":"Kommandanten","editor.heroes":"Helden","editor.characters":"Charaktere","editor.core":"Kerneinheiten","editor.special":"Eliteeinheiten","editor.rare":"Seltene Einheiten","editor.mercenaries":"S\xf6ldner","editor.allies":"Verb\xfcndete","editor.tooManyPoints":" Pkte. zu viel","editor.availablePoints":" Pkte. verf\xfcgbar","editor.missingPoints":" Pkte. fehlen","add.title":"Einheit ausw\xe4hlen","duplicate.copyOf":"Kopie von","duplicate.title":"Liste duplizieren","edit.title":"Liste bearbeiten","export.title":"Liste exportieren","export.copy":"Kopieren als Text","export.copied":"Text kopiert!","export.copyTitle":"Als lesbarer Text","export.forumText":"Als Forentext formatieren","export.forumTextDescription":"(mit BBCode-Formatierung)","export.compactList":"Kompakte Liste","export.compactListDescription":"(platzsparend durch weniger Zeilen)","export.download":"Download als .owb.json","export.downloadAsText":"Download als Text","export.shareOwb":"Teilen als .owb.json","export.shareText":"Teilen als Text","export.shareDescription":"(\xfcber die Teilen-Funktion deines Ger\xe4tes)","export.dowloadInfo":"(kann auf einem anderen Ger\xe4t wieder importiert werden)","export.error":"Das hat leider nicht geklappt :(.","export.visibleList":"Sichtbare Liste","export.visibleListDescription":"(keine Punkte und versteckte Gegenst\xe4nde)","export.createdWith":"Erstellt mit","export.owbTitle":"Als .owb.json Datei","export.preview":"Vorschau anzeigen","import.title":"Liste importieren","import.button":"Importieren","import.description":"W\xe4hle eine .owb.json Datei:","import.typeError":"Falscher Dateityp. Bitte lade eine .owb.json Datei hoch.","print.printing":"Druckt...","unit.perModel":"pro Modell","unit.noOptions":"Keine Optionen verf\xfcgbar.","unit.unitSize":"Einheitengr\xf6\xdfe:","unit.command":"Kommandoabteilung:","unit.equipment":"Waffen:","unit.armor":"R\xfcstung:","unit.options":"Optionen:","unit.mount":"Reittier:","unit.magicItems":"Magische Gegenst\xe4nde","unit.detachments":"Abteilungen","help.title":"Hilfe","help.text":"Bei Fragen oder Problemen kannst du ein Issue auf {github} erstellen oder unserem {discord} beitreten.","about.title":"Was ist der \\"Old World Builder\\"?","about.text":"Der {owb} ist ein Armeeplaner f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World.","about.text2":"Das Projekt ist Open-Source ({github}) und wird entwickelt von Nico Thiebes.","about.text3":"Der {owb} wird Open-Source entwickelt. Ihr k\xf6nnt dabei helfen, fehlende bzw. unvollst\xe4ndige Datensets der Armeen zu erg\xe4nzen und \xfcbersetzen. Details dazu Ihr findet ihr unter {datasets} oder auf unserem {discord}.","about.support":"Eure Unterst\xfctzung","about.disclaimer":"Diese Website ist v\xf6llig inoffiziell und wird in keiner Weise von Games Workshop Limited unterst\xfctzt.","about.credits":"Fantasy icons von {gameIcons} ({license}).","rename.title":"Einheit umbenennen","404.title":"404 - Seite nicht gefunden","changelog.title":"Was gibt\'s Neues?","changelog.change0":"Neuer {datasets} Editor f\xfcr einfachere Mitarbeit. Du kannst vorhandene Armeedaten erweitern, fehlende \xdcbersetzungen hinzuf\xfcgen oder einen neuen Armeedatensatz erstellen.","changelog.change1":"Das Drucken einer Liste ohne Punkte oder magische Gegenst\xe4nde ist jetzt m\xf6glich.","changelog.change2":"{privacy} hinzugef\xfcgt. Obwohl wir keine personenbezogenen Daten sammeln, ben\xf6tigen wir diese f\xfcr die bevorstehende Ver\xf6ffentlichung unserer Android-App.","changelog.change3":"Verschiedene kleinere Design\xe4nderungen und Anpassungen.","changelog.change4":"Die meisten <b>Warhammer: The Old World Armeen</b> sind dank unserer tollen Community bereits vollst\xe4ndig* <b>verf\xfcgbar</b>!","changelog.change5":"Armee-Listen k\xf6nnen als \'.owb.json\'-Datei <b>exportiert/geteilt</b> und auf einem anderen Ger\xe4t wieder <b>importiert</b> werden.","changelog.change6":"Armee-Listen k\xf6nnen jetzt als Text \xfcber die <b>Teilen-Funktion</b> eures Ger\xe4tes geteilt oder heruntergeladen werden.","changelog.change7":"* Da wir noch keinen Zugriff auf alle B\xfccher haben, kann es nat\xfcrlich noch Fehler geben und manche Optionen sind noch nicht verf\xfcgbar. Wenn ihr etwas findet, was noch nicht passt, gebt uns gerne in {discord} Bescheid!","changelog.change8":"Listen lassen sich <b>kompakt</b>/platzsparend <b>exportieren</b>."}')},146:function(e,t,n){},148:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),i=n(88),s=n.n(i),o=n(14),r=n(95),l=n(23),d=n(191),m=n(192),j=n(193),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,195)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=n(5),O=n(19),x=n(33),f=n(4),g=n(59),_=n(104),v=n(1),y=n(26),N=n.n(y),k=n.p+"static/media/symbol-defs.5a7056f3.svg",w=(n(146),n(0)),M=function(e){var t=e.className,n=e.symbol,a=e.color;return Object(w.jsx)("svg",{focusable:"false",className:N()("icon",a&&"icon--".concat(a),t),children:Object(w.jsx)("use",{xlinkHref:"".concat(k,"#icon-").concat(n)})})},C=(n(148),function(e){var t=e.className,n=e.type,a=e.to,c=e.href,i=e.onClick,s=e.children,o=e.spaceBottom,r=e.spaceTop,l=e.fullWidth,d=e.label,m=e.icon,j=e.centered,u=e.color,b=e.submitButton,h=e.disabled,p=e.size,x=e.download,f=a||c?a?O.b:"a":"button",g={};return a||c||(g.type=b?"submit":"button"),Object(w.jsxs)(f,Object(v.a)(Object(v.a)({className:N()("button","button--".concat(n),u&&"button--".concat(u),o&&"button--spaceBottom",r&&"button--spaceTop",l&&"button--fullWidth",j&&"button--centered",h&&"button--disabled","button--".concat(p),t),onClick:i,to:a,href:c,"aria-label":d,title:d,disabled:h,download:x},g),{},{children:[m&&Object(w.jsx)(M,{className:N()(s&&"button__icon"),symbol:m}),s&&s]}))});C.defaultProps={type:"primary",size:"large"};var S,F,I,T=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t})})):null,armor:e.armor?e.armor.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t})})):null})}))},E=(n(150),function(e){var t=e.className,n=e.headline,c=e.subheadline,i=e.moreButton,s=e.to,o=e.isSection,r=e.hasPointsError,l=e.hasMainNavigation,d=Object(g.a)(),m=Object(x.g)(),j=Object(a.useState)(!1),u=Object(p.a)(j,2),b=u[0],h=u[1],O=o?"section":"header",f=[{name:d.formatMessage({id:"footer.about"}),to:"/about"},{name:d.formatMessage({id:"footer.help"}),to:"/help"},{name:d.formatMessage({id:"footer.datasets"}),to:"/datasets"},{name:d.formatMessage({id:"footer.changelog"}),to:"/changelog"}],_=l?f:i;return Object(a.useEffect)((function(){h(!1)}),[m.pathname]),Object(w.jsxs)(O,{className:N()(o?"column-header":"header",t),children:[s?Object(w.jsx)(C,{type:"text",to:s,label:o?d.formatMessage({id:"header.close"}):d.formatMessage({id:"header.back"}),color:o?"dark":"light",icon:o?"close":"back"}):Object(w.jsx)(w.Fragment,{children:_&&Object(w.jsx)("div",{className:"header__empty-icon"})}),Object(w.jsxs)("div",{className:"header__text",children:[n&&Object(w.jsx)("h1",{className:"header__name",children:n}),c&&Object(w.jsxs)("p",{className:"header__points",children:[c," ",r&&Object(w.jsx)(M,{symbol:"error",color:"red"})]})]}),_?Object(w.jsx)(C,{type:"text",className:N()(b&&"header__more-button"),color:o?"dark":"light",label:d.formatMessage({id:"header.more"}),icon:"more",onClick:function(){h(!b)}}):Object(w.jsx)(w.Fragment,{children:s&&Object(w.jsx)("div",{className:"header__empty-icon"})}),b&&Object(w.jsx)("ul",{className:N()("header__more",!l&&"header__more--secondary-navigation"),children:_.map((function(e){var t=e.callback,n=e.name,a=e.icon,c=e.to;return Object(w.jsx)("li",{children:Object(w.jsx)(C,{type:"text",onClick:t,to:c,icon:a,children:n})},n)}))})]})}),B=(n(151),function(){return Object(w.jsx)(M,{symbol:"spinner",className:"spinner"})}),W=function(){return{language:localStorage.getItem("lang")}},L=n.p+"static/media/germany.d9625f93.svg",q=n.p+"static/media/usa.699fdb72.svg",D=(n(152),function(e){var t=e.className,n=e.children,a=e.isDesktop,c=e.compact,i=e.loading,s=W().language,o=function(e){localStorage.setItem("lang",e.target.value),window.location.reload()};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("main",{className:N()("main",a?"main--desktop":"main--mobile",c&&"main--compact",t),children:[n,i&&Object(w.jsx)(B,{})]}),!i&&Object(w.jsxs)("footer",{className:"footer",children:[Object(w.jsxs)("nav",{className:"footer__navigation",children:[Object(w.jsx)(O.b,{to:"/about",children:Object(w.jsx)(_.a,{id:"footer.about"})}),Object(w.jsx)(O.b,{to:"/help",children:Object(w.jsx)(_.a,{id:"footer.help"})}),Object(w.jsx)(O.b,{to:"/datasets",children:Object(w.jsx)(_.a,{id:"footer.datasets"})}),Object(w.jsx)(O.b,{to:"/changelog",children:Object(w.jsx)(_.a,{id:"footer.changelog"})}),Object(w.jsx)(O.b,{to:"/privacy",children:Object(w.jsx)(_.a,{id:"footer.privacy"})})]}),Object(w.jsxs)("div",{className:"footer__languages",children:[Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"english",name:"languages",value:"en",onChange:o,defaultChecked:"en"===s,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"english",className:"radio__label",children:[Object(w.jsx)("img",{width:"24",alt:"",src:q,className:"footer__language-icon"}),"English"]})]}),Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"deutsch",name:"languages",value:"de",onChange:o,defaultChecked:"de"===s,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"deutsch",className:"radio__label",children:[Object(w.jsx)("img",{width:"24",alt:"",src:L,className:"footer__language-icon"}),"Deutsch"]})]})]})]})]})}),A=(n(153),function(e){var t=e.options,n=e.className,a=e.id,c=e.name,i=e.required,s=e.selected,o=e.disabled,r=e.value,l=e.onChange,d=e.spaceTop,m=e.spaceBottom,j=W().language;return Object(w.jsx)("select",{id:a,name:c,required:i,onChange:function(e){l(e.target.value)},value:r,defaultValue:s,disabled:o,className:N()("select",d&&"select--spaceTop",m&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.name_en,a=e.id;return Object(w.jsx)("option",{value:a,children:"de"===j?t:n},a)}))})}),U=(n(154),function(e){var t=Object(g.a)();return Object(w.jsxs)("div",{className:"number-input",children:[Object(w.jsx)("input",Object(v.a)(Object(v.a)({},e),{},{type:"number",pattern:"[0-9]*"})),Object(w.jsx)(C,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)+1,id:e.id}})},type:"secondary",icon:"up",label:t.formatMessage({id:"misc.increase"}),disabled:e.value>=e.max&&0!==e.max,className:"number-input__button number-input__button--up"}),Object(w.jsx)(C,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)-1,id:e.id}})},type:"secondary",icon:"down",label:t.formatMessage({id:"misc.decrease"}),disabled:e.value<=e.min,className:"number-input__button number-input__button--down"})]})}),z=n(44),G=n(27),R=n(56),J=Object(R.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,a=n.listId,c={name:n.name,points:n.points,description:n.description};return Object.keys(c).forEach((function(e){return void 0===c[e]?delete c[e]:{}})),e.map((function(e){var t=e.id;return a===t?Object(v.a)(Object(v.a)({},e),c):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unit,s=Object(v.a)(Object(v.a)({},i),{},{strength:i.minimum});return e.map((function(e){var t=e.id;return a===t?Object(v.a)(Object(v.a)({},e),{},Object(G.a)({},c,[].concat(Object(f.a)(e[c]),[s]))):e}))},duplicateUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId,s=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===i}));return e.map((function(e){var t=e.id;return a===t?Object(v.a)(Object(v.a)({},e),{},Object(G.a)({},c,[].concat(Object(f.a)(e[c]),[Object(v.a)(Object(v.a)({},s),{},{id:"".concat(s.id.split(".")[0],".").concat(T())})]))):e}))},editUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.strength,s=n.unitId,o=n.options,r=n.equipment,l=n.armor,d=n.command,m=n.mounts,j=n.magic,u=n.items,b=n.name,h={strength:i,options:o,equipment:r,armor:l,command:d,mounts:m,magic:j,items:u,detachments:n.detachments,name_de:b,name_en:b},p=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===s}));Object.keys(h).forEach((function(e){return void 0===h[e]?delete h[e]:{}}));var O=Object(v.a)(Object(v.a)({},p),h);return e.map((function(e){var t=e.id;return a===t?Object(v.a)(Object(v.a)({},e),{},Object(G.a)({},c,e[c].map((function(e){return e.id===p.id?O:e})))):e}))},removeUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId;return e.map((function(e){var t=e.id;return a===t?Object(v.a)(Object(v.a)({},e),{},Object(G.a)({},c,e[c].filter((function(e){return e.id!==i})))):e}))}}}),H=J.actions,K=H.setLists,V=H.addUnit,Y=H.editUnit,Z=H.removeUnit,$=H.duplicateUnit,Q=H.updateList,X=H.deleteList,ee=(H.duplicateList,J.reducer),te=n.p+"static/media/warhammer-fantasy.4a99fa99.png",ne=n.p+"static/media/the-old-world.6310c52f.png",ae=(n(155),function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(x.g)(),i=Object(o.b)(),s=Object(g.a)(),r=Object(o.c)((function(e){return e.lists})),l=Object(a.useState)("the-old-world"),d=Object(p.a)(l,2),m=d[0],j=d[1],u=Object(a.useState)(z.find((function(e){return e.id===m})).armies[0].id),b=Object(p.a)(u,2),h=b[0],O=b[1],v=Object(a.useState)(""),y=Object(p.a)(v,2),N=y[0],k=y[1],M=Object(a.useState)(""),S=Object(p.a)(M,2),F=S[0],I=S[1],P=Object(a.useState)(2e3),B=Object(p.a)(P,2),W=B[0],L=B[1],q=Object(a.useState)(null),G=Object(p.a)(q,2),R=G[0],J=G[1],H=function(e){j(e.target.value),O(z.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(w.jsxs)(w.Fragment,{children:[R&&Object(w.jsx)(x.a,{to:"/editor/".concat(R)}),t&&Object(w.jsx)(E,{to:"/",headline:s.formatMessage({id:"new.title"})}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/",headline:s.formatMessage({id:"new.title"})}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=T(),t={"warhammer-fantasy":{name:N,description:F,game:m,points:W,army:h,lords:[],heroes:[],core:[],special:[],rare:[],id:e},"the-old-world":{name:N,description:F,game:m,points:W,army:h,characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[],id:e}},n=[].concat(Object(f.a)(r),[t[m]]);localStorage.setItem("owb.lists",JSON.stringify(n)),i(K(n)),J(e)}()},className:"new-list",children:[z.map((function(e){var t=e.name,n=e.id;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:H,checked:n===m,className:"radio__input","aria-label":t}),Object(w.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(w.jsx)("img",{height:"20",src:te,alt:t}),"the-old-world"===n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{height:"35",src:ne,alt:t}),Object(w.jsx)("p",{className:"new-list__beta",children:"Beta"})]})]})]},n)})),Object(w.jsx)("label",{htmlFor:"name",children:Object(w.jsx)(_.a,{id:"misc.name"})}),Object(w.jsx)("input",{type:"text",id:"name",className:"input",value:N,onChange:function(e){k(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(w.jsx)("label",{htmlFor:"description",children:Object(w.jsx)(_.a,{id:"misc.description"})}),Object(w.jsx)("input",{type:"text",id:"description",className:"input",value:F,onChange:function(e){I(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(w.jsx)("label",{htmlFor:"points",children:Object(w.jsx)(_.a,{id:"misc.points"})}),Object(w.jsx)(U,{id:"points",className:"input",min:0,value:W,onChange:function(e){L(e.target.value)},required:!0}),Object(w.jsx)("label",{htmlFor:"army",children:Object(w.jsx)(_.a,{id:"new.army"})}),Object(w.jsx)(A,{id:"army",options:z.filter((function(e){return e.id===m}))[0].armies,onChange:function(e){O(e)},selected:"empire-of-man",spaceBottom:!0,required:!0}),Object(w.jsx)(C,{centered:!0,icon:"add-list",submitButton:!0,spaceBottom:!0,children:Object(w.jsx)(_.a,{id:"new.create"})})]})]})]})}),ce={lords:{maxPercent:25},heroes:{maxPercent:25},characters:{maxPercent:50},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4},mercenaries:{maxPercent:20},allies:{maxPercent:25}},ie=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*ce[t].maxPercent;return{points:Math.floor(c),overLimit:a>c,diff:a>c?Math.ceil(a-c):0}},se=(n(156),function(e){var t=e.to,n=e.onClick,a=e.children,c=e.className,i=e.active,s=t?O.b:"button";return Object(w.jsx)("li",{className:N()("list",i&&"list--active",c),children:Object(w.jsx)(s,{to:t,className:"list__inner",onClick:n,children:a})})}),oe=function(e){var t=e.mounts,n=e.equipment,a=e.armor,c=e.options,i=e.command,s=e.items,o=e.detachments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r.asString,d=r.noMagic,m=localStorage.getItem("lang"),j=[];i&&i.forEach((function(e){var t,n=e.name_de,a=e.name_en,c=e.active,i=e.magic;c&&j.push("de"===m?n:a),i&&(null===i||void 0===i||null===(t=i.selected)||void 0===t?void 0:t.length)&&i.selected.forEach((function(e){j.push("de"===m?e.name_de:e.name_en)}))}));var u=n?n.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],b=a?a.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],h=c?c.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],p=c?c.filter((function(e){return e.stackableCount>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.stackableCount;return"".concat(a," ").concat("de"===m?t:n)})):[],O=t?t.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],x=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(e){(e.selected||[]).forEach((function(e){var t=e.name_de,n=e.name_en;x.push("de"===m?t:n)}))}));var g=o?o.filter((function(e){return e.strength>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength;return"".concat(a," ").concat("de"===m?t:n)})):[],_=[].concat(Object(f.a)(u),Object(f.a)(b),Object(f.a)(h),Object(f.a)(p),j,Object(f.a)(O),Object(f.a)(d?[]:x),Object(f.a)(g)),v=_.join(", ");return v?l?v:Object(w.jsx)("p",{children:v}):null},re=function(e){var t=0;return t=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(n){n.stackable?t+=(n.stackableCount||n.minimum||0)*n.points:n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.equipment&&e.equipment.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.armor&&e.armor.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.command&&e.command.forEach((function(e){var n,a;e.active&&(t+=e.points),e.magic&&(null===(n=e.magic)||void 0===n||null===(a=n.selected)||void 0===a?void 0:a.length)&&e.magic.selected.forEach((function(e){t+=e.points}))})),e.mounts&&e.mounts.forEach((function(e){e.active&&(t+=e.points)})),(null===e||void 0===e?void 0:e.items)&&(null===e||void 0===e?void 0:e.items.length)&&e.items.forEach((function(e){(e.selected||[]).forEach((function(e){t+=e.points}))})),e.detachments&&e.detachments.forEach((function(e){t+=e.strength*e.points})),t},le=function(e){var t=e.selected,n=0;return t&&t.forEach((function(e){n+=e.points})),n},de=function(e){var t=0;return e&&e.forEach((function(e){t+=e.points})),t},me=function(e){var t=e.type,n=e.list,a=0;return n[t]&&n[t].forEach((function(e){a+=re(e)})),a},je=function(e){return me({list:e,type:"lords"})+me({list:e,type:"heroes"})+me({list:e,type:"core"})+me({list:e,type:"special"})+me({list:e,type:"rare"})+me({list:e,type:"characters"})+me({list:e,type:"mercenaries"})+me({list:e,type:"allies"})},ue=function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("owb.lists",JSON.stringify(t))},be=(n(157),function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(x.h)().listId,i=Object(g.a)(),s=Object(o.b)(),r=Object(a.useState)(!1),d=Object(p.a)(r,2),m=d[0],j=d[1],u=Object(x.g)(),b=W().language,h=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return c===t}))}));if(Object(a.useEffect)((function(){var e=function(){document.location.hash==="#".concat(u.pathname)&&sessionStorage.setItem("scrollPosition",window.pageYOffset)};return window.addEventListener("scroll",function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}(e,100)),window.scrollTo(0,Number(sessionStorage.getItem("scrollPosition"))||0),function(){return window.removeEventListener("scroll",e)}}),[u.pathname]),Object(a.useEffect)((function(){h&&ue(h)}),[h]),m)return Object(w.jsx)(x.a,{to:"/"});if(!h)return t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/"}),Object(w.jsx)(D,{loading:!0})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/",isSection:!0}),Object(w.jsx)(D,{loading:!0})]});var O=je(h),f=me({list:h,type:"lords"}),v=me({list:h,type:"heroes"}),y=me({list:h,type:"characters"}),k=me({list:h,type:"core"}),S=me({list:h,type:"special"}),F=me({list:h,type:"rare"}),I=me({list:h,type:"mercenaries"}),T=me({list:h,type:"allies"}),P=ie({type:"lords",armyPoints:h.points,points:f}),B=ie({type:"heroes",armyPoints:h.points,points:v}),L=ie({type:"characters",armyPoints:h.points,points:y}),q=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*ce[t].minPercent;return{points:Math.floor(c),overLimit:a<=c,diff:a<=c?Math.ceil(c-a):0}}({type:"core",armyPoints:h.points,points:k}),A=ie({type:"special",armyPoints:h.points,points:S}),U=ie({type:"rare",armyPoints:h.points,points:F}),z=ie({type:"mercenaries",armyPoints:h.points,points:I}),G=ie({type:"allies",armyPoints:h.points,points:T}),R=[{name:i.formatMessage({id:"misc.edit"}),icon:"edit",to:"/editor/".concat(c,"/edit")},{name:i.formatMessage({id:"misc.duplicate"}),icon:"duplicate",to:"/editor/".concat(c,"/duplicate")},{name:i.formatMessage({id:"misc.export"}),icon:"export",to:"/editor/".concat(c,"/export")},{name:i.formatMessage({id:"misc.print"}),icon:"print",to:"/print/".concat(c)},{name:i.formatMessage({id:"misc.delete"}),icon:"delete",callback:function(){s(X(c)),function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("owb.lists",JSON.stringify(t))}(c),j(!0)}}];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===h||void 0===h?void 0:h.name)})}),t&&Object(w.jsx)(E,{to:"/",headline:h.name,subheadline:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:N()("magic__header-points",O>h.points&&"magic__header-points--error"),children:[O,"\xa0"]}),"/ ".concat(h.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:O>h.points,moreButton:R}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/",headline:h.name,subheadline:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:N()("magic__header-points",O>h.points&&"magic__header-points--error"),children:[O,"\xa0"]}),"/ ".concat(h.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:O>h.points,moreButton:R}),h.lords&&Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.lords"})}),Object(w.jsx)("p",{className:"editor__points",children:P.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:P.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:P.points-f}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.lords.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/lords/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/lords"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),h.heroes&&Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.heroes"})}),Object(w.jsx)("p",{className:"editor__points",children:B.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:B.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:B.points-v}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.heroes.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/heroes/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/heroes"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),h.characters&&Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.characters"})}),Object(w.jsx)("p",{className:"editor__points",children:L.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:L.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:L.points-y}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.characters.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/characters/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/characters"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.core"})}),Object(w.jsx)("p",{className:"editor__points",children:q.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:q.diff}),Object(w.jsx)(_.a,{id:"editor.missingPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:k})," / ".concat(q.points," "),Object(w.jsx)(_.a,{id:"app.points"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.core.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/core/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(w.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/core"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.special"})}),Object(w.jsx)("p",{className:"editor__points",children:A.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:A.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:A.points-S}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.special.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/special/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(w.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/special"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.rare"})}),Object(w.jsx)("p",{className:"editor__points",children:U.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:U.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:U.points-F}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.rare.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/rare/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(w.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/editor/".concat(c,"/add/rare"),icon:"add",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"editor.add"})})]}),h.mercenaries&&Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.mercenaries"})}),Object(w.jsx)("p",{className:"editor__points",children:z.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:z.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:z.points-I}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.mercenaries.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/mercenaries/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)("p",{className:"editor__soon",children:"Coming soon"})]}),h.allies&&Object(w.jsxs)("section",{className:"editor__section",children:[Object(w.jsxs)("header",{className:"editor__header",children:[Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"editor.allies"})}),Object(w.jsx)("p",{className:"editor__points",children:G.diff>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:G.diff}),Object(w.jsx)(_.a,{id:"editor.tooManyPoints"}),Object(w.jsx)(M,{symbol:"error",color:"red"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("strong",{children:G.points-T}),Object(w.jsx)(_.a,{id:"editor.availablePoints"}),Object(w.jsx)(M,{symbol:"check"})]})})]}),Object(w.jsx)("ul",{children:h.allies.map((function(e,t){return Object(w.jsxs)(se,{to:"/editor/".concat(c,"/allies/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:e["name_".concat(b)]}),Object(w.jsx)("i",{children:"".concat(re(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),oe(e)]},t)}))}),Object(w.jsx)("p",{className:"editor__soon",children:"Coming soon"})]})]})]})}),he=n(91),pe=n.p+"static/media/the-empire.d3620178.svg",Oe=n.p+"static/media/dwarfs.d1515ee2.svg",xe=n.p+"static/media/greenskins.ea460b46.svg",fe=n.p+"static/media/beastmen.6a9fce0f.svg",ge=n.p+"static/media/chaos-deamons.1f26ab65.svg",_e=n.p+"static/media/chaos-warriors.95dbc8c2.svg",ve=n.p+"static/media/dark-elves.9d17a9e4.svg",ye=n.p+"static/media/high-elves.446a07c8.svg",Ne=n.p+"static/media/lizardmen.1864459d.svg",ke=n.p+"static/media/ogres.8b76905b.svg",we=n.p+"static/media/skaven.76cb48b7.svg",Me=n.p+"static/media/tomb-kings.9b30c541.svg",Ce=n.p+"static/media/vampire-counts.fd13d874.svg",Se=n.p+"static/media/wood-elves.2b1066f8.svg",Fe=n.p+"static/media/chaos-dwarfs.ee5f1bd3.svg",Ie=n.p+"static/media/bretonnia.e5c3a1d0.svg",Te=(n(158),{"the-empire":pe,dwarfs:Oe,greenskins:xe,"empire-of-man":pe,"orc-and-goblin-tribes":xe,"dwarfen-mountain-holds":Oe,"warriors-of-chaos":_e,"kingdom-of-bretonnia":Ie,"beastmen-brayherds":fe,"wood-elf-realms":Se,"tomb-kings-of-khemri":Me,"high-elf-realms":ye,"dark-elves":ve,skaven:we,"vampire-counts":Ce,"daemons-of-chaos":ge,"ogre-kingdoms":ke,lizardmen:Ne,"chaos-dwarfs":Fe}),Pe=function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(o.c)((function(e){return e.lists})),i=Object(x.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder - Army builder for Warhammer Fantasy and Warhammer: The Old World"})}),t&&Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(n,{children:[!c.length&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{src:pe,alt:"",width:"100",height:"100",className:"home__logo"}),Object(w.jsx)("i",{className:"home__empty",children:Object(w.jsx)(_.a,{id:"home.empty"})})]}),Object(w.jsx)("ul",{children:c.map((function(e,t){var n=e.id,a=e.name,c=e.description,s=e.points,o=e.game,r=e.army,l=Object(he.a)(e,["id","name","description","points","game","army"]);return Object(w.jsxs)(se,{to:"/editor/".concat(n),active:i.pathname.includes(n),children:[Object(w.jsxs)("span",{className:"home__list-item",children:[Object(w.jsx)("h2",{className:"home__headline",children:a}),c&&Object(w.jsx)("p",{className:"home__description",children:c}),Object(w.jsxs)("p",{className:"home__points",children:[je(Object(v.a)(Object(v.a)({},l),{},{points:s}))," ","/ ",s," ",Object(w.jsx)(_.a,{id:"app.points"})]})]}),Object(w.jsxs)("div",{className:"home__info",children:[Object(w.jsx)("img",{width:"70",src:"warhammer-fantasy"===o?te:ne,alt:"warhammer-fantasy"===o?"Warhammer Fantasy":"Warhammer: The Old World",className:"home__game"}),Object(w.jsx)("img",{height:"40",width:"40",src:Te[r],alt:""})]})]},t)}))}),Object(w.jsx)(C,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,children:Object(w.jsx)(_.a,{id:"home.newList"})}),Object(w.jsx)(C,{centered:!0,to:"/import",type:"text",icon:"import",color:"dark",spaceTop:!0,spaceBottom:!0,children:Object(w.jsx)(_.a,{id:"home.import"})})]})]})},Ee=(n(159),function(e){var t=e.url,n=e.onSuccess,a=e.onError;S=new AbortController,fetch("".concat("/").concat(t,".json?v=").concat("0.6.0"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:S.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){a&&a(e)}))}),Be=Object(R.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),We=Be.actions.setItems,Le=Be.reducer,qe={greenskins:{name_de:"Glitzakram",name_en:"Shiny Stuff"},"the-empire":{name_de:"Magische Erbst\xfccke",name_en:"Heirlooms of Magic"},heirlooms:{name_de:"Erbst\xfccke",name_en:"Ancestral Heirlooms"},dwarfs:{name_de:"Zwergenrunen",name_en:"Runic Items"},general:{name_de:"Gew\xf6hnliche Magische Gegenst\xe4nde",name_en:"Common Magic Items"},weapon:{name_de:"Magische Waffen",name_en:"Magic Weapons"},armor:{name_de:"Magische R\xfcstungen",name_en:"Magic Armour"},talisman:{name_de:"Talismane",name_en:"Talismans"},banner:{name_de:"Magische Standarten",name_en:"Magic Standards"},artifact:{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"arcane-item":{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"enchanted-item":{name_de:"Verzauberte Gegenst\xe4nde",name_en:"Enchanted Items"},"weapon-runes":{name_de:"Waffenrunen",name_en:"Weapon Runes"},"armor-runes":{name_de:"R\xfcstungsrunen",name_en:"Armour Runes"},"banner-runes":{name_de:"Standartenrunen",name_en:"Banner Runes"},"talismanic-runes":{name_de:"Talismanrunen",name_en:"Talismanic Runes"},"engineering-runes":{name_de:"Maschinenrunen",name_en:"Engineering Runes"},triptych:{name_de:"Triptych",name_en:"Triptych"},"kingdom-of-bretonnia":{name_de:"Kingdom of Bretonnia",name_en:"Kingdom of Bretonnia"},"chaos-mutations":{name_de:"Chaos Mutations",name_en:"Chaos Mutations"},"chaos-mutation":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-character":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-chieftain":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"gifts-of-chaos":{name_de:"Gifts of Chaos",name_en:"Gifts of Chaos"},"gift-of-chaos":{name_de:"Gift of Chaos",name_en:"Gift of Chaos"},"forest-spites":{name_de:"Forest Spites",name_en:"Forest Spites"},"forest-spite":{name_de:"Forest Spite",name_en:"Forest Spite"},"beastmen-brayherds":{name_de:"Beastmen Brayherds",name_en:"Beastmen Brayherds"},"orc-and-goblin-tribes":{name_de:"Orc & Goblin Tribes",name_en:"Orc & Goblin Tribes"},"dwarfen-mountain-holds":{name_de:"Zwergenrunen",name_en:"Runic Items"},"empire-of-man":{name_de:"Empire of Man",name_en:"Empire of Man"},"wood-elf-realms":{name_de:"Wood Elf Realms",name_en:"Wood Elf Realms"},"high-elf-realms":{name_de:"High Elf Realms",name_en:"High Elf Realms"},"tomb-kings-of-khemri":{name_de:"Tomb Kings of Khemri",name_en:"Tomb Kings of Khemri"},"warriors-of-chaos":{name_de:"Warriors of Chaos",name_en:"Warriors of Chaos"},"knightly-virtues":{name_de:"Knightly Virtues",name_en:"Knightly Virtues"},"knightly-virtue":{name_de:"Knightly Virtue",name_en:"Knightly Virtue"},"knightly-virtue-character":{name_de:"Knightly Virtue (Characters only)",name_en:"Knightly Virtue (Characters only)"},"elven-honours":{name_de:"Elven Honours",name_en:"Elven Honours"},"elven-honour":{name_de:"Elven Honour",name_en:"Elven Honour"}},De=(n(160),function(e){var t,n,c,i,s,r,d,m,j,u,b,h=e.isMobile,O=h?D:a.Fragment,y=Object(x.g)(),k=W().language,M=Object(g.a)(),C=Object(a.useState)(!0),S=Object(p.a)(C,2),T=S[0],P=S[1],B=Object(x.h)(),L=B.listId,q=B.type,A=B.unitId,U=B.command,G=B.group,R=Object(o.b)(),J=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return L===t}))})),H=J&&z.find((function(e){return e.id===J.game})).armies.find((function(e){var t=e.id;return J.army===t})),K=Object(o.c)((function(e){return e.items})),V=J?J[q]:null,Z=V&&V.find((function(e){return e.id===A})),$=0,Q=function(e,t,n){var a,c=e.target.type;if(a=e.target.checked?n?"radio"===c?[Object(v.a)(Object(v.a)({},t),{},{id:e.target.value})]:[].concat(Object(f.a)(Z.command[U].magic.selected||[]),[Object(v.a)(Object(v.a)({},t),{},{id:e.target.value})]):"radio"===c?[Object(v.a)(Object(v.a)({},t),{},{id:e.target.value})]:[].concat(Object(f.a)(Z.items[G].selected||[]),[Object(v.a)(Object(v.a)({},t),{},{id:e.target.value})]):n?Z.command[U].magic.selected.filter((function(t){return t.id!==e.target.value})):Z.items[G].selected.filter((function(t){return t.id!==e.target.value})),n){var i=Z.command.map((function(e,t){return t===Number(U)?Object(v.a)(Object(v.a)({},e),{},{magic:Object(v.a)(Object(v.a)({},e.magic),{},{selected:a})}):e}));R(Y({listId:L,type:q,unitId:A,command:i}))}else{var s=Z.items.map((function(e,t){return t===Number(G)?Object(v.a)(Object(v.a)({},e),{},{selected:a}):e}));R(Y({listId:L,type:q,unitId:A,items:s}))}};if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[y.pathname]),Object(a.useEffect)((function(){J&&ue(J)}),[J]),Object(a.useEffect)((function(){H&&Ee({url:"games/".concat(J.game,"/magic-items"),onSuccess:function(e){var t=H.items.map((function(t){return{items:e[t],name_de:qe[t].name_de,name_en:qe[t].name_en,id:t}}));R(We(function(e){return e.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{items:e.items.map((function(e,t){return e.conditional?Object(v.a)(Object(v.a)({},e),{},{id:t,conditional:e.conditional.map((function(e,n){return Object(v.a)(Object(v.a)({},e),{},{id:"".concat(t,"-").concat(n)})}))}):Object(v.a)(Object(v.a)({},e),{},{id:t})}))})}))}(t))),P(!1)}})}),[H,R,J,P,Z,k]),T)return h?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(L,"/").concat(q,"/").concat(A)}),Object(w.jsx)(D,{loading:!0})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(L,"/").concat(q,"/").concat(A),isSection:!0}),Object(w.jsx)(D,{loading:!0})]});var X=function(e){var t,n,a,c=e.unit,i=e.magicItem,s=e.itemGroup,o=e.isConditional,r=!1,l=!1;return(null===c||void 0===c?void 0:c.command)&&c.command[U]&&(null===(t=c.command[U])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?(r=(c.command[U].magic.selected||[]).find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1,l=!0):(null===c||void 0===c||null===(a=c.items)||void 0===a?void 0:a.length)&&(r=c.items[G].selected.find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1),Object(w.jsxs)("div",{className:N()("checkbox",o&&"checkbox--conditional"),children:[Object(w.jsx)("input",{type:"checkbox",id:"".concat(s.id,"-").concat(i.id),value:"".concat(s.id,"-").concat(i.id),onChange:function(e){return Q(e,i,l)},checked:r,className:"checkbox__input"}),Object(w.jsxs)("label",{htmlFor:"".concat(s.id,"-").concat(i.id),className:"checkbox__label",children:["de"===k?i.name_de:i.name_en,Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(M.formatMessage({id:"app.points"}))})]})]},i.id)},ee=function(e){var t,n,a,c=e.unit,i=e.magicItem,s=e.itemGroup,o=!1,r=!1;return(null===c||void 0===c?void 0:c.command)&&c.command[U]&&(null===(t=c.command[U])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?(o=(c.command[U].magic.selected||[]).find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1,r=!0):(null===c||void 0===c||null===(a=c.items)||void 0===a?void 0:a.length)&&(o=c.items[G].selected.find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1),Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"".concat(s.id,"-").concat(i.id),value:"".concat(s.id,"-").concat(i.id),onChange:function(e){return Q(e,i,r)},checked:o,name:s.id,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"".concat(s.id,"-").concat(i.id),className:"radio__label",children:["de"===k?i.name_de:i.name_en,Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(M.formatMessage({id:"app.points"}))})]})]},i.id)},te=!1,ne=0;return(null===Z||void 0===Z?void 0:Z.command)&&Z.command[U]&&(null===(t=Z.command[U])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?($=Z.command[U].magic.maxPoints,te=(ne=le({selected:Z.command[U].magic.selected}))>$):(null===Z||void 0===Z||null===(c=Z.items)||void 0===c?void 0:c.length)&&($=Z.items[G].maxPoints,te=(ne=le({selected:Z.items[G].selected}))>$&&$>0),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===J||void 0===J?void 0:J.name)})}),h&&Object(w.jsx)(E,{to:"/editor/".concat(L,"/").concat(q,"/").concat(A),headline:"de"===k?(null===Z||void 0===Z||null===(i=Z.items)||void 0===i?void 0:i.length)&&!(null===Z||void 0===Z||null===(s=Z.command)||void 0===s?void 0:s.length)?Z.items[G].name_de:M.formatMessage({id:"unit.magicItems"}):(null===Z||void 0===Z||null===(r=Z.items)||void 0===r?void 0:r.length)&&!(null===Z||void 0===Z||null===(d=Z.command)||void 0===d?void 0:d.length)?Z.items[G].name_en:M.formatMessage({id:"unit.magicItems"}),subheadline:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:N()("magic__header-points",te&&"magic__header-points--error"),children:["".concat(ne),"\xa0"]}),$>0&&"/ ".concat($," "),Object(w.jsx)(_.a,{id:"app.points"})]}),hasPointsError:te}),Object(w.jsxs)(O,{children:[!h&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(L,"/").concat(q,"/").concat(A),headline:"de"===k?(null===Z||void 0===Z||null===(m=Z.items)||void 0===m?void 0:m.length)&&!(null===Z||void 0===Z||null===(j=Z.command)||void 0===j?void 0:j.length)?Z.items[G].name_de:M.formatMessage({id:"unit.magicItems"}):(null===Z||void 0===Z||null===(u=Z.items)||void 0===u?void 0:u.length)&&!(null===Z||void 0===Z||null===(b=Z.command)||void 0===b?void 0:b.length)?Z.items[G].name_en:M.formatMessage({id:"unit.magicItems"}),subheadline:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:N()("magic__header-points",te&&"magic__header-points--error"),children:["".concat(ne),"\xa0"]}),$>0&&"/ ".concat($," "),Object(w.jsx)(_.a,{id:"app.points"})]}),hasPointsError:te}),K.map((function(e){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:"de"===k?e.name_de:e.name_en}),e.items.map((function(t){var n,c,i,s;if(F!==t.type?(F=t.type,I=!0):I=!1,(null===Z||void 0===Z?void 0:Z.command)&&(null===Z||void 0===Z?void 0:Z.command[U])&&!Z.command[U].magic.types.includes(t.type))return null;if(!U&&(null===Z||void 0===Z||null===(n=Z.items)||void 0===n?void 0:n.length)&&!Z.items[G].types.includes(t.type))return null;var o=!1,r=!1;return(null===Z||void 0===Z?void 0:Z.command)&&Z.command[U]&&(null===(c=Z.command[U])||void 0===c||null===(i=c.magic)||void 0===i?void 0:i.maxPoints)?(o=(Z.command[U].magic.selected||[]).find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,r=Z.command[U].magic.mutuallyExclusive):(null===Z||void 0===Z||null===(s=Z.items)||void 0===s?void 0:s.length)&&(o=Z.items[G].selected.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,r=Z.items[G].mutuallyExclusive),Object(w.jsxs)(a.Fragment,{children:[I&&Object(w.jsx)("h3",{className:"magic__type",children:qe[t.type]["name_".concat(k)]}),r?ee({unit:Z,magicItem:t,itemGroup:e}):X({unit:Z,magicItem:t,itemGroup:e}),t.conditional&&o?t.conditional.map((function(t){return X({unit:Z,magicItem:t,itemGroup:e,isConditional:!0})})):null]},t.name_de)}))]},e.name_de)}))]})]})}),Ae=Object(R.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),Ue=Ae.actions.setArmy,ze=Ae.reducer,Ge=(n(161),function(e){var t,n=e.isMobile,c=n?D:a.Fragment,i=Object(x.h)(),s=i.listId,r=i.type,d=i.unitId,m=Object(o.b)(),j=W().language,u=Object(a.useState)(null),b=Object(p.a)(u,2),h=b[0],O=b[1],y=Object(x.g)(),k=Object(g.a)(),S=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))})),F=S?S[r]:null,I=F&&F.find((function(e){return e.id===d})),B=Object(o.c)((function(e){return e.army})),L=B&&B.core.filter((function(e){return e.detachment}));if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[y.pathname]),Object(a.useEffect)((function(){S&&ue(S)}),[S]),Object(a.useEffect)((function(){S&&Ee({url:"games/".concat(S.game,"/").concat(S.army),onSuccess:function(e){m(Ue({lords:P(e.lords),heroes:P(e.heroes),characters:P(e.characters),core:P(e.core),special:P(e.special),rare:P(e.rare),mercenaries:P(e.mercenaries),allies:P(e.allies)}))}})}),[S,m]),!0===h)return Object(w.jsx)(x.a,{to:"/editor/".concat(s)});if(!I||!B)return n?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(s)}),Object(w.jsx)(D,{loading:!0})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(s),isSection:!0}),Object(w.jsx)(D,{loading:!0})]});var q=[{name:k.formatMessage({id:"misc.rename"}),icon:"edit",to:"/editor/".concat(s,"/").concat(r,"/").concat(I.id,"/rename")},{name:k.formatMessage({id:"misc.duplicate"}),icon:"duplicate",callback:function(){return function(e){m($({listId:s,type:r,unitId:e})),O(!0)}(I.id)}},{name:k.formatMessage({id:"misc.remove"}),icon:"delete",callback:function(){return function(e){m(Z({listId:s,type:r,unitId:e})),O(!0)}(I.id)}}];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===S||void 0===S?void 0:S.name)})}),n&&Object(w.jsx)(E,{to:"/editor/".concat(s),moreButton:q,headline:I["name_".concat(j)],subheadline:"".concat(re(I)," ").concat(k.formatMessage({id:"app.points"}))}),Object(w.jsxs)(c,{children:[!n&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(s),moreButton:q,headline:I["name_".concat(j)],subheadline:"".concat(re(I)," ").concat(k.formatMessage({id:"app.points"}))}),!I.minimum&&(!I.command||I.command&&!I.command.length)&&(!I.equipment||I.equipment&&!I.equipment.length)&&(!I.armor||I.armor&&!I.armor.length)&&(!I.mounts||I.mounts&&!I.mounts.length)&&(!I.magic||I.magic&&!I.magic.maxPoints&&!(null===(t=I.items)||void 0===t?void 0:t.length))&&(!I.options||I.options&&!I.options.length)&&Object(w.jsx)("i",{className:"unit__empty",children:Object(w.jsx)(_.a,{id:"unit.noOptions"})}),I.minimum?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(w.jsx)(_.a,{id:"unit.unitSize"})}),Object(w.jsx)(U,{id:"strength",className:"input",min:I.minimum,max:I.maximum,value:I.strength,onChange:function(e){m(Y({listId:s,type:r,unitId:d,strength:e.target.value}))}})]}):null,I.command&&I.command.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.command"})}),I.command.map((function(e,t){var n=e.name_de,c=e.name_en,i=e.points,o=e.perModel,l=e.id,u=e.active,b=void 0!==u&&u,h=e.magic,p=le({selected:null===h||void 0===h?void 0:h.selected});return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"command-".concat(l),value:l,onChange:function(){return function(e){var t,n=(null===(t=I.magic)||void 0===t?void 0:t.items)||[],a=I.command.map((function(t,a){return t.id===e?(t.active&&(n=n.filter((function(e){return e.command!==a}))),Object(v.a)(Object(v.a)({},t),{},{active:!t.active})):t}));m(Y({listId:s,type:r,unitId:d,command:a,magic:Object(v.a)(Object(v.a)({},I.magic),{},{items:n})}))}(l)},checked:b,className:"checkbox__input"}),Object(w.jsxs)("label",{htmlFor:"command-".concat(l),className:"checkbox__label",children:["de"===j?n:c,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(i," ").concat(1===i?k.formatMessage({id:"app.point"}):k.formatMessage({id:"app.points"})),o&&" ".concat(k.formatMessage({id:"unit.perModel"}))]})]})]}),(null===h||void 0===h?void 0:h.maxPoints)&&b?Object(w.jsxs)(se,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/magic/").concat(t),className:"editor__list unit__link",active:y.pathname.includes("magic/".concat(t)),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:h.types.map((function(e){return qe[e]["name_".concat(j)]})).join(", ")}),Object(w.jsxs)("i",{className:"checkbox__points",children:[Object(w.jsx)("span",{className:N()(p>I.command[t].magic.maxPoints&&"editor__error"),children:p})," ","/ ",I.command[t].magic.maxPoints," ",Object(w.jsx)(_.a,{id:"app.points"})]}),p>I.command[t].magic.maxPoints&&Object(w.jsx)(M,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===h||void 0===h?void 0:h.selected)&&Object(w.jsx)("p",{children:h.selected.map((function(e){var t=e.name_de,n=e.name_en;return"de"===j?t:n})).join(", ")})]}):null]},l)}))]}),I.equipment&&I.equipment.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.equipment"})}),I.equipment.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"equipment-".concat(i),name:"equipment",value:i,onChange:function(){return function(e){var t=I.equipment.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{active:t.id===e})}));m(Y({listId:s,type:r,unitId:d,equipment:t}))}(i)},checked:l,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"equipment-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?k.formatMessage({id:"app.point"}):k.formatMessage({id:"app.points"})),c&&" ".concat(k.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),I.armor&&I.armor.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.armor"})}),I.armor.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"armor-".concat(i),name:"armor",value:i,onChange:function(){return function(e){var t=I.armor.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{active:t.id===e})}));m(Y({listId:s,type:r,unitId:d,armor:t}))}(i)},checked:l,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"armor-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?k.formatMessage({id:"app.point"}):k.formatMessage({id:"app.points"})),c&&" ".concat(k.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),I.options&&I.options.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.options"})}),I.options.map((function(e){var t=e.name_de,n=e.name_en,c=e.points,i=e.perModel,o=e.id,l=e.stackable,u=e.maximum,b=e.minimum,h=void 0===b?0:b,p=e.stackableCount,O=void 0===p?h||0:p,x=e.active,f=void 0!==x&&x;return l?Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)("label",{htmlFor:"options-".concat(o),className:"unit__special-option",children:["de"===j?t:n,":",Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(k.formatMessage({id:"app.points"})," ").concat(k.formatMessage({id:"unit.perModel"}))})]}),Object(w.jsx)(U,{id:"options-".concat(o),className:"input",min:h,max:u,value:O,onChange:function(e){return function(e){var t=e.id,n=e.stackableCount,a=I.options.map((function(e){return e.id===t?Object(v.a)(Object(v.a)({},e),{},{stackableCount:n}):e}));m(Y({listId:s,type:r,unitId:d,options:a}))}({id:o,stackableCount:e.target.value})}})]},o):Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"options-".concat(o),value:o,onChange:function(){return function(e){var t=I.options.map((function(t){return t.id===e?Object(v.a)(Object(v.a)({},t),{},{active:!t.active}):t}));m(Y({listId:s,type:r,unitId:d,options:t}))}(o)},checked:f,className:"checkbox__input"}),Object(w.jsxs)("label",{htmlFor:"options-".concat(o),className:"checkbox__label",children:["de"===j?t:n,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?k.formatMessage({id:"app.point"}):k.formatMessage({id:"app.points"})),i&&" ".concat(k.formatMessage({id:"unit.perModel"}))]})]})]},o)}))]}),I.regimentalUnit&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(w.jsx)(_.a,{id:"unit.detachments"})}),L.map((function(e){var t=e.name_de,n=e.name_en,c=e.id;return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)("div",{className:"list",children:Object(w.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(w.jsx)("b",{className:"unit__magic-headline",children:"de"===j?t:n}),Object(w.jsx)(C,{onClick:function(){return function(e){var t=e.id,n=L.find((function(e){return e.id===t})),a=I.detachments?Object(f.a)(I.detachments):[];a.push({id:"".concat(t,".").concat(T()),name_de:n.name_de,name_en:n.name_en,points:n.points,strength:5}),m(Y({listId:s,type:r,unitId:d,detachments:a}))}({id:c})},type:"secondary",icon:"add",label:k.formatMessage({id:"editor.add"}),size:"small"})]})}),I.detachments&&I.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,i=e.points;return Object(w.jsx)("div",{className:"list",children:Object(w.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(w.jsx)(U,{id:"strength-".concat(c),className:"input",min:5,value:a,onChange:function(e){return function(e){var t=e.id,n=e.strength,a=Object(f.a)(I.detachments).map((function(e){return e.id===t?Object(v.a)(Object(v.a)({},e),{},{strength:n}):e}));m(Y({listId:s,type:r,unitId:d,detachments:a}))}({id:c,strength:e.target.value})}}),Object(w.jsxs)("span",{children:[Object(w.jsx)("b",{children:"de"===j?t:n}),Object(w.jsx)("i",{children:"".concat(re({strength:a,points:i})," ").concat(k.formatMessage({id:"app.points"}))})]}),Object(w.jsx)(C,{onClick:function(){return function(e){var t=e.id,n=Object(f.a)(I.detachments).filter((function(e){return e.id!==t}));m(Y({listId:s,type:r,unitId:d,detachments:n}))}({id:c})},type:"secondary",icon:"close",label:k.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]},c)}))]}),I.mounts&&I.mounts.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.mount"})}),I.mounts.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.id,i=e.active,o=void 0!==i&&i;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"mounts-".concat(c),name:"mounts",value:c,onChange:function(){return function(e){var t=I.mounts.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{active:t.id===e})}));m(Y({listId:s,type:r,unitId:d,mounts:t}))}(c)},checked:o,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"radio__label",children:["de"===j?t:n,Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(a," ").concat(k.formatMessage({id:"app.points"}))})]})]},c)}))]}),I.items&&I.items.length?Object(w.jsx)("hr",{className:"unit__hr"}):null,I.items&&I.items.length?I.items.map((function(e,t){var n=le({selected:e.selected});return Object(w.jsxs)(se,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/items/").concat(t),className:"editor__list unit__link",active:y.pathname.includes("items/".concat(t)),children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{className:"unit__magic-headline",children:"de"===j?e.name_de:e.name_en}),Object(w.jsxs)("i",{className:"checkbox__points",children:[Object(w.jsx)("span",{className:N()(n>e.maxPoints&&e.maxPoints>0&&"editor__error"),children:n}),e.maxPoints>0&&Object(w.jsx)(w.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(w.jsx)(_.a,{id:"app.points"})]}),n>e.maxPoints&&e.maxPoints>0&&Object(w.jsx)(M,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),e.selected&&Object(w.jsx)("p",{children:e.selected.map((function(e){var t=e.name_de,n=e.name_en;return"de"===j?t:n})).join(", ")})]},t)})):null]})]})}),Re=(n(162),function(e){var t=e.isMobile,n=Object(x.g)(),c=Object(g.a)(),i=t?D:a.Fragment,s=Object(x.h)().listId,r=Object(o.b)(),d=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){d&&ue(d)}),[d]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),d?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===d||void 0===d?void 0:d.name)})}),t&&Object(w.jsx)(E,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(w.jsxs)(i,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(w.jsx)("label",{htmlFor:"name",className:"edit__label",children:Object(w.jsx)(_.a,{id:"misc.name"})}),Object(w.jsx)("input",{type:"text",id:"name",className:"input",value:d.name,onChange:function(e){r(Q({listId:s,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"}),Object(w.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(w.jsx)(_.a,{id:"misc.description"})}),Object(w.jsx)("input",{type:"text",id:"description",className:"input",value:d.description,onChange:function(e){r(Q({listId:s,description:e.target.value}))},autoComplete:"off",maxLength:"255"}),Object(w.jsx)("label",{htmlFor:"points",children:Object(w.jsx)(_.a,{id:"misc.points"})}),Object(w.jsx)(U,{id:"points",className:"input",min:0,value:d.points,onChange:function(e){r(Q({listId:s,points:Number(e.target.value)}))},required:!0})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(w.jsx)(D,{})]})}),Je=function(){var e=Object(x.g)(),t=Object(g.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.about"}))})}),Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{compact:!0,children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsx)("h2",{className:"page-headline",children:Object(w.jsx)(_.a,{id:"about.title"})}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"about.text",values:{owb:Object(w.jsx)("i",{children:"Old World Builder"})}})}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"about.text2",values:{github:Object(w.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"})}})}),Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"about.support"})}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"about.text3",values:{owb:Object(w.jsx)("i",{children:"Old World Builder"}),datasets:Object(w.jsx)(O.b,{to:"/datasets",children:"/datasets"}),discord:Object(w.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})}),Object(w.jsx)("h2",{children:"Credits"}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"about.credits",values:{gameIcons:Object(w.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"}),license:Object(w.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"})}})}),Object(w.jsx)("p",{children:Object(w.jsx)("b",{children:Object(w.jsx)(_.a,{id:"about.disclaimer"})})})]})]})},He=function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(x.h)(),i=c.listId,s=c.type,r=Object(o.b)(),d=Object(a.useState)(null),m=Object(p.a)(d,2),j=m[0],u=m[1],b=Object(g.a)(),h=Object(x.g)(),O=W().language,f=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return i===t}))})),_=Object(o.c)((function(e){return e.army}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[h.pathname]),Object(a.useEffect)((function(){f&&Ee({url:"games/".concat(f.game,"/").concat(f.army),onSuccess:function(e){r(Ue({lords:P(e.lords),heroes:P(e.heroes),characters:P(e.characters),core:P(e.core),special:P(e.special),rare:P(e.rare),mercenaries:P(e.mercenaries),allies:P(e.allies)}))}})}),[f,r]),j?Object(w.jsx)(x.a,{to:"/editor/".concat(i,"/").concat(s,"/").concat(j.id)}):_?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===f||void 0===f?void 0:f.name)})}),t&&Object(w.jsx)(E,{to:"/editor/".concat(i),headline:b.formatMessage({id:"add.title"})}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(i),headline:b.formatMessage({id:"add.title"})}),Object(w.jsx)("ul",{children:_[s].map((function(e){var t=e.name_de,n=e.name_en,a=e.id,c=e.minimum,o=e.points;return Object(w.jsxs)(se,{onClick:function(){return function(e){var t=Object(v.a)(Object(v.a)({},_[s].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(T())});r(V({listId:i,type:s,unit:t})),u(t)}(a)},children:[Object(w.jsxs)("span",{className:"unit__name",children:[c?"".concat(c," "):null,Object(w.jsx)("b",{children:"de"===O?t:n})]}),Object(w.jsx)("i",{className:"unit__points",children:"".concat(c?o*c:o," ").concat(b.formatMessage({id:"app.points"}))})]},a)}))})]})]}):t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(i)}),Object(w.jsx)(D,{loading:!0})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(i),isSection:!0}),Object(w.jsx)(D,{loading:!0})]})},Ke=function(){var e=Object(x.g)(),t=Object(g.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.help"}))})}),Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{compact:!0,children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsx)("h2",{className:"page-headline",children:Object(w.jsx)(_.a,{id:"help.title"})}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"help.text",values:{github:Object(w.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"}),discord:Object(w.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})})]})]})},Ve=n(9),Ye=n.n(Ve),Ze=n(29),$e=(n(164),function(e){var t=e.className,n=e.headline,a=e.children,c=e.notBold,i=e.open,s=e.onClick,o=e.noMargin;return Object(w.jsxs)("details",{className:N()("expandable",o&&"expandable--no-margin",t),open:i,children:[Object(w.jsx)("summary",{className:N()("expandable__summary",c&&"expandable__summary--normal"),onClick:s,children:n}),a]})});$e.defaultProps={open:!1,notBold:!1};var Qe=function(e){var t=e.units,n=e.isShowList,a=e.isCompactList,c=e.intl,i=e.language;return t.map((function(e){var t=oe(e,{asString:!0,noMagic:n}),s="";return t&&(s=a?"(".concat(t,")\n"):"- ".concat(t.split(", ").join("\n- "),"\n")),"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(i)]).concat(n?"":" ["+re(e)+" "+c.formatMessage({id:"app.points"})+"]","\n").concat(s,"\n")})).join("")},Xe=(n(165),function(e){var t=e.list,n=e.listText,a=e.asText,c="".concat(null===t||void 0===t?void 0:t.name.toLowerCase().replace(/ /g,"-").replace(/,/g,""),".").concat(a?"txt":"owb.json"),i=new File([a?n:JSON.stringify(t)],c,{type:a?"text/plain":"application/json"});return{file:i,fileUrl:URL.createObjectURL(i),fileName:c}}),et=function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(g.a)(),i=Object(x.g)(),s=W().language,r=Object(x.h)().listId,d=Object(a.useState)(!1),m=Object(p.a)(d,2),j=m[0],u=m[1],b=Object(a.useState)(!1),h=Object(p.a)(b,2),O=h[0],f=h[1],v=Object(a.useState)(!1),y=Object(p.a)(v,2),N=y[0],k=y[1],M=Object(a.useState)(!1),S=Object(p.a)(M,2),F=S[0],I=S[1],T=Object(a.useState)(!1),P=Object(p.a)(T,2),B=P[0],L=P[1],q=Object(a.useState)(!1),A=Object(p.a)(q,2),U=A[0],G=A[1],R=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return r===t}))})),J=R?function(e){var t,n,a,c,i,s=e.list,o=e.isShowList,r=e.isCompactList,l=e.intl,d=e.language,m=je(s),j=me({list:s,type:"lords"}),u=me({list:s,type:"heroes"}),b=me({list:s,type:"characters"}),h=me({list:s,type:"core"}),p=me({list:s,type:"special"}),O=me({list:s,type:"rare"}),x=me({list:s,type:"mercenaries"}),f=me({list:s,type:"allies"}),g=z.find((function(e){return e.id===s.game})),_=g.armies.find((function(e){return e.id===s.army}))["name_".concat(d)],v="";return r||(v+="===\n".concat(s.name).concat(o?"":" ["+m+" "+l.formatMessage({id:"app.points"})+"]","\n").concat(g.name,", ").concat(_,"\n===\n\n")),(null===(t=s.characters)||void 0===t?void 0:t.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.characters"})).concat(o?"":" ["+b+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.characters,isShowList:o,intl:l,language:d}))),(null===(n=s.lords)||void 0===n?void 0:n.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.lords"})).concat(o?"":" ["+j+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.lords,isShowList:o,intl:l,language:d}))),(null===(a=s.heroes)||void 0===a?void 0:a.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.heroes"})).concat(o?"":" ["+u+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.heroes,isShowList:o,intl:l,language:d}))),s.core.length&&(v+="++ ".concat(l.formatMessage({id:"editor.core"})).concat(o?"":" ["+h+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.core,isShowList:o,intl:l,language:d}))),s.special.length&&(v+="++ ".concat(l.formatMessage({id:"editor.special"})).concat(o?"":" ["+p+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.special,isShowList:o,intl:l,language:d}))),s.rare.length&&(v+="++ ".concat(l.formatMessage({id:"editor.rare"})).concat(o?"":" ["+O+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.rare,isShowList:o,intl:l,language:d}))),(null===(c=s.mercenaries)||void 0===c?void 0:c.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.mercenaries"})).concat(o?"":" ["+x+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.mercenaries,isShowList:o,intl:l,language:d}))),(null===(i=s.allies)||void 0===i?void 0:i.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.allies"})).concat(o?"":" ["+f+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Qe({isCompactList:r,units:s.allies,isShowList:o,intl:l,language:d}))),v+"---\n".concat(l.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]')}({list:R,isShowList:B,isCompactList:U,intl:c,language:s}):"",H=Xe({list:R}),K=H.file,V=H.fileUrl,Y=H.fileName,Z=Xe({list:R,listText:J,asText:!0}),$=Z.fileName,Q=Z.fileUrl,X=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t){var n,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.asText,a={},n?k(!1):I(!1),n?a.text=J:(a.title=R.name,a.files=[K],a.text=R.description),navigator.canShare){e.next=7;break}return n?k(!0):I(!0),e.abrupt("return");case 7:return e.prev=7,e.next=10,navigator.share(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),n?k(!0):I(!0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),R?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===R||void 0===R?void 0:R.name)})}),t&&Object(w.jsx)(E,{to:"/editor/".concat(r),headline:c.formatMessage({id:"export.title"})}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(r),headline:c.formatMessage({id:"export.title"})}),Object(w.jsx)("h2",{className:"export__subtitle",children:Object(w.jsx)(_.a,{id:"export.copyTitle"})}),Object(w.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return L(!B)},checked:B,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(w.jsx)(_.a,{id:"export.visibleList"})})]}),Object(w.jsx)("p",{className:"export__description",children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"export.visibleListDescription"})})}),Object(w.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"compact",onChange:function(){return G(!U)},checked:U,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"compact",className:"checkbox__label",children:Object(w.jsx)(_.a,{id:"export.compactList"})})]}),Object(w.jsx)("p",{className:"export__description",children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"export.compactListDescription"})})}),Object(w.jsx)($e,{headline:Object(w.jsx)(_.a,{id:"export.preview"}),children:Object(w.jsx)("textarea",{className:"export__text",value:J,readOnly:!0})}),Object(w.jsx)(C,{icon:"share",onClick:function(){return X({asText:!0})},children:Object(w.jsx)(_.a,{id:"export.shareText"})}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"export.shareDescription"})})}),N&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"export.error"})}),Object(w.jsx)(C,{icon:j?"check":"copy",onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(J).then((function(){u(!0)}),(function(){f(!0)}))},spaceTop:!0,spaceBottom:!0,children:j?c.formatMessage({id:"export.copied"}):c.formatMessage({id:"export.copy"})}),Object(w.jsx)("br",{}),O&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"export.error"})}),Object(w.jsx)(C,{icon:"download",href:Q,download:$,children:Object(w.jsx)(_.a,{id:"export.downloadAsText"})}),Object(w.jsx)("h2",{className:"export__subtitle",children:Object(w.jsx)(_.a,{id:"export.owbTitle"})}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"export.dowloadInfo"})})}),Object(w.jsx)(C,{icon:"download",href:V,download:Y,spaceBottom:!0,spaceTop:!0,children:Object(w.jsx)(_.a,{id:"export.download"})}),Object(w.jsx)("br",{}),Object(w.jsx)(C,{icon:"share",onClick:X,children:Object(w.jsx)(_.a,{id:"export.shareOwb"})}),Object(w.jsx)("p",{className:"export__description",children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"export.shareDescription"})})}),F&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"export.error"})})]})]}):null},tt=(n(166),function(){var e=Object(x.h)().listId,t=W().language,n=Object(a.useState)(!1),c=Object(p.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(!1),l=Object(p.a)(r,2),d=l[0],m=l[1],j=Object(o.c)((function(t){return t.lists.find((function(t){var n=t.id;return e===n}))}));if(!j)return null;var u=je(j),b=me({list:j,type:"lords"}),h=me({list:j,type:"heroes"}),O=me({list:j,type:"characters"}),f=me({list:j,type:"core"}),g=me({list:j,type:"special"}),v=me({list:j,type:"rare"}),y=me({list:j,type:"mercenaries"}),N=me({list:j,type:"allies"}),k=z.find((function(e){return e.id===j.game})),M=k.armies.find((function(e){return e.id===j.army}))["name_".concat(t)];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"hide-for-printing",children:[Object(w.jsx)(C,{to:"/editor/".concat(e),centered:!0,icon:"back",spaceTop:!0,spaceBottom:!0,children:Object(w.jsx)(_.a,{id:"header.back"})}),i?Object(w.jsx)("p",{className:"print-info",children:Object(w.jsx)(_.a,{id:"print.printing"})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"checkbox print-checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return m(!d)},checked:d,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(w.jsx)(_.a,{id:"export.visibleList"})})]}),Object(w.jsx)("p",{className:"print-checkbox-description",children:Object(w.jsxs)("i",{children:["(",Object(w.jsx)(_.a,{id:"export.visibleListDescription"}),")"]})}),Object(w.jsx)(C,{onClick:function(){s(!0),document.title="".concat(j.name," - Old World Builder"),window.onafterprint=function(){document.title="Old World Builder",s(!1)},window.print()},centered:!0,icon:"print",spaceTop:!0,spaceBottom:!0,children:Object(w.jsx)(_.a,{id:"misc.print"})})]})]}),Object(w.jsxs)("main",{className:"print",children:[Object(w.jsxs)("h1",{children:[j.name," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",u," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsxs)("p",{className:"print__subheader",children:[k.name,", ",M]}),"the-old-world"===j.game?Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.characters"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",O," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.characters.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.lords"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",b," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.lords.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.heroes"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",h," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.heroes.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.core"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",f," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.core.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.special"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",g," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.special.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.rare"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",v," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.rare.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}),"the-old-world"===j.game&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.mercenaries"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",y," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.mercenaries.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)(_.a,{id:"editor.allies"})," ",!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",N," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),Object(w.jsx)("ul",{children:j.allies.map((function(e){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(w.jsxs)("span",{className:"print__points",children:["[",re(e)," ",Object(w.jsx)(_.a,{id:"app.points"}),"]"]})]}),oe(e)]},e.id)}))})]})]})]}),Object(w.jsxs)("footer",{className:"print-footer",children:[Object(w.jsxs)("p",{children:[Object(w.jsx)(_.a,{id:"export.createdWith"})," ",Object(w.jsx)("b",{children:'"Old World Builder"'})]}),Object(w.jsxs)("p",{children:["[",Object(w.jsx)("a",{href:"https://old-world-builder.com",children:Object(w.jsx)("i",{children:"old-world-builder.com"})}),"]"]})]})]})}),nt=(n(167),function(e){var t=e.isMobile,n=Object(x.g)(),c=Object(g.a)(),i=t?D:a.Fragment,s=Object(x.h)().listId,r=Object(o.b)(),d=Object(a.useState)(""),m=Object(p.a)(d,2),j=m[0],u=m[1],b=Object(a.useState)(2e3),h=Object(p.a)(b,2),O=h[0],y=h[1],N=Object(a.useState)(""),k=Object(p.a)(N,2),M=k[0],S=k[1],F=Object(a.useState)(null),I=Object(p.a)(F,2),P=I[0],B=I[1],W=Object(o.c)((function(e){return e.lists})),L=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),Object(a.useEffect)((function(){L&&(u("".concat(c.formatMessage({id:"duplicate.copyOf"})," ").concat(null===L||void 0===L?void 0:L.name)),y(L.points),S(L.description))}),[L,c]),L?Object(w.jsxs)(w.Fragment,{children:[P&&Object(w.jsx)(x.a,{to:"/editor/".concat(P)}),Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===L||void 0===L?void 0:L.name)})}),t&&Object(w.jsx)(E,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(w.jsxs)(i,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(w.jsxs)("form",{onSubmit:function(e){var t=T(),n=[].concat(Object(f.a)(W),[Object(v.a)(Object(v.a)({},L),{},{name:j,points:O,description:M,id:t})]);e.preventDefault(),localStorage.setItem("owb.lists",JSON.stringify(n)),r(K(n)),B(t)},className:"duplicate",children:[Object(w.jsx)("label",{htmlFor:"name",children:Object(w.jsx)(_.a,{id:"misc.name"})}),Object(w.jsx)("input",{type:"text",id:"name",className:"input",value:j,onChange:function(e){u(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(w.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(w.jsx)(_.a,{id:"misc.description"})}),Object(w.jsx)("input",{type:"text",id:"description",className:"input",value:M,onChange:function(e){S(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(w.jsx)("label",{htmlFor:"points",children:Object(w.jsx)(_.a,{id:"misc.points"})}),Object(w.jsx)(U,{id:"points",className:"input",min:0,value:O,onChange:function(e){y(e.target.value)},required:!0}),Object(w.jsx)(C,{centered:!0,icon:"duplicate",submitButton:!0,children:Object(w.jsx)(_.a,{id:"misc.duplicate"})})]})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(w.jsx)(D,{})]})}),at=(n(168),function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(x.g)(),i=Object(g.a)(),s=W().language,r=Object(x.h)(),d=r.listId,m=r.type,j=r.unitId,u=Object(o.b)(),b=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return d===t}))})),h=b?b[m]:null,p=h&&h.find((function(e){return e.id===j})),O=p?p["de"===s?"name_de":"name_en"]:"";return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(a.useEffect)((function(){b&&ue(b)}),[b]),b?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(null===b||void 0===b?void 0:b.name)})}),t&&Object(w.jsx)(E,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(w.jsx)("label",{htmlFor:"name",className:"rename__label",children:Object(w.jsx)(_.a,{id:"misc.name"})}),Object(w.jsx)("input",{type:"text",id:"name",className:"input",value:O,onChange:function(e){u(Y({listId:d,type:m,unitId:j,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(w.jsx)(D,{})]})}),ct=(n(169),{name_en:"",name_de:"",id:"",points:1,minimum:0,maximum:0,regimentalUnit:!1,detachment:!1,command:[],equipment:[],armor:[],options:[],mounts:[],items:[]}),it=["weapon","armor","talisman","banner","arcane-item","enchanted-item","weapon-runes","armor-runes","banner-runes","talismanic-runes","engineering-runes","triptych","knightly-virtue","knightly-virtue-character","chaos-mutation","chaos-mutation-character","chaos-mutation-chieftain","gift-of-chaos","forest-spite"],st=function(e){var t=e.onSubmit,n=e.type,c=e.unit,i=(Math.random().toString(36)+Math.random().toString(36)).replace(/[^a-z]+/g,""),s=Object(a.useState)(c?Object(v.a)(Object(v.a)({},ct),c):ct),o=Object(p.a)(s,2),r=o[0],l=o[1],d=function(e){var t=e.target.id.split("-")[0];l(Object(v.a)(Object(v.a)({},r),{},Object(G.a)({},t,"number"===e.target.type?Number(e.target.value):e.target.value)))},m=function(e){var t=e.field,n=e.value;l(Object(v.a)(Object(v.a)({},r),{},Object(G.a)({},t,n)))},j=function(e){var t=e.key,n=e.field,a=e.value,c=e.index,i=r[t].map((function(e,t){return c===t?Object(v.a)(Object(v.a)({},e),{},Object(G.a)({},n,a)):e}));l(Object(v.a)(Object(v.a)({},r),{},Object(G.a)({},t,i)))},u=function(e){var t=e.index,n=e.key;l(Object(v.a)(Object(v.a)({},r),{},Object(G.a)({},n,r[n].filter((function(e,n){return n!==t})))))},b=function(e){var t=e.index,n=e.value,a=e.key,c=r[a].map((function(e,a){return a===t?Object(v.a)(Object(v.a)({},e),{},{name_de:e.name_de?e.name_de:n}):e}));l(Object(v.a)(Object(v.a)({},r),{},Object(G.a)({},a,c)))};return Object(a.useEffect)((function(){l(c?Object(v.a)(Object(v.a)({},ct),c):ct)}),[c]),Object(w.jsxs)("form",{onSubmit:function(e){var a=!Boolean(c);e.preventDefault(),t({unit:Object(v.a)(Object(v.a)({},r),{},{id:a?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id}),type:n,isNew:a}),a&&l(ct)},children:[Object(w.jsx)("label",{htmlFor:"name_en-".concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"name_en-".concat(i),className:"input",value:r.name_en,onChange:d,autoComplete:"off",required:!0,onBlur:function(){var e=!Boolean(c);l(Object(v.a)(Object(v.a)({},r),{},{id:e?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id,name_de:r.name_de?r.name_de:r.name_en}))}}),Object(w.jsx)("label",{htmlFor:"name_de-".concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"name_de-".concat(i),className:"input",value:r.name_de,onChange:d,autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"id-".concat(i),className:"edit__label",children:"ID"}),Object(w.jsx)("input",{type:"text",id:"id-".concat(i),className:"input",value:r.id,autoComplete:"off",pattern:"(([a-z]*-[a-z]*)|[a-z]*)*",disabled:!0,readOnly:!0,placeholder:"Automatically filled",required:!0}),Object(w.jsx)("label",{htmlFor:"points-".concat(i),children:"characters"===n?"Points":"Points per model"}),Object(w.jsx)(U,{id:"points-".concat(i),className:"input",min:1,value:r.points,onChange:d,required:!0}),"characters"!==n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:"minimum-".concat(i),children:"Minimum number of models"}),Object(w.jsx)(U,{id:"minimum-".concat(i),className:"input",min:0,value:r.minimum,onChange:d,required:!0}),Object(w.jsx)("label",{htmlFor:"maximum-".concat(i),children:"Maximum number of models"}),Object(w.jsx)(U,{id:"maximum-".concat(i),className:"input",min:0,value:r.maximum,onChange:d,required:!0}),Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"regimentalUnit-".concat(i),onChange:function(){return m({field:"regimentalUnit",value:!r.regimentalUnit})},checked:r.regimentalUnit,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"regimentalUnit-".concat(i),className:"checkbox__label",children:"Unit can have detachments"})]}),Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"detachment-".concat(i),onChange:function(){return m({field:"detachment",value:!r.detachment})},checked:r.detachment,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"detachment-".concat(i),className:"checkbox__label",children:"Unit is a detachment"})]})]}),"characters"!==n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"Command"}),Object(w.jsx)("p",{className:"datasets__paragraph",children:"All command options are NOT mutually exclusive."}),r.command.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"command-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"command-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"command",field:"name_en",value:e.target.value})},onBlur:function(e){return b({index:t,key:"command",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"command-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"command-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"command",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"command-points".concat(t,"-").concat(i),children:"Points"}),Object(w.jsx)(U,{id:"command-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"command",field:"points",value:Number(e.target.value)})},required:!0}),Object(w.jsxs)($e,{headline:"Allowed magic item categories",children:[it.map((function(n,a){return Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"".concat(n).concat(a,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.item,a=e.index,c=r.command.map((function(e,c){return c===a?Object(v.a)(Object(v.a)({},e),{},{magic:Object(v.a)(Object(v.a)({},e.magic),{},{types:"on"===t?[].concat(Object(f.a)(e.magic.types),[n]):e.magic.types.filter((function(e){return e!==n}))})}):e}));l(Object(v.a)(Object(v.a)({},r),{},{command:c}))}({index:t,value:e.magic.types.includes(n)?"off":"on",item:n})},checked:e.magic.types.includes(n),className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"".concat(n).concat(a,"-").concat(i),className:"checkbox__label",children:n})]},n)})),Object(w.jsx)("label",{htmlFor:"command-magic-points-".concat(t,"-").concat(i),children:"Max. magic item points"}),Object(w.jsx)(U,{id:"command-magic-points-".concat(t,"-").concat(i),className:"input",min:0,value:e.magic.maxPoints,onChange:function(e){return function(e){var t=e.value,n=e.index,a=r.command.map((function(e,a){return a===n?Object(v.a)(Object(v.a)({},e),{},{magic:Object(v.a)(Object(v.a)({},e.magic),{},{maxPoints:t})}):e}));l(Object(v.a)(Object(v.a)({},r),{},{command:a}))}({index:t,value:Number(e.target.value)})}})]}),c?Object(w.jsx)(C,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",onClick:function(){return u({index:t,key:"command"})},children:"Remove entry"}):null]},t)})),Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{command:[].concat(Object(f.a)(r.command),[{name_en:"",name_de:"",points:1,magic:{types:[],maxPoints:0}}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New entry"})]}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"Weapon"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["All weapon options are mutually exclusive and please add a default weapon.",Object(w.jsx)("br",{}),Object(w.jsx)("i",{children:'(e.g. "Hand weapon" or "Great weapon")'})]}),r.equipment.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"equipment-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"equipment-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"equipment",field:"name_en",value:e.target.value})},onBlur:function(e){return b({index:t,key:"equipment",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"equipment-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"equipment-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"equipment",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"equipment-points".concat(t,"-").concat(i),children:"Points"}),Object(w.jsx)(U,{id:"equipment-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"equipment",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"equipment-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"equipment-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"equipment-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"equipment-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:'(e.g. when "Hand weapon" is the default equipment)'})}),c?Object(w.jsx)(C,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",spaceTop:!0,onClick:function(){return u({index:t,key:"equipment"})},children:"Remove entry"}):null]},t)})),Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{equipment:[].concat(Object(f.a)(r.equipment),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New weapon"}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"Armor"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["All armor options are mutually exclusive and please add a default armor.",Object(w.jsx)("br",{}),Object(w.jsx)("i",{children:'(e.g. "Light armour" or "Heavy armour")'})]}),r.armor.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"armor-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"armor-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"armor",field:"name_en",value:e.target.value})},onBlur:function(e){return b({index:t,key:"armor",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"armor-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"armor-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"armor",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"armor-points".concat(t,"-").concat(i),children:"Points"}),Object(w.jsx)(U,{id:"armor-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"armor",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"armor-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"armor-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"armor-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"armor-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:'(e.g. when "Light armour" is the default equipment)'})}),c?Object(w.jsx)(C,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"armor"})},children:"Remove entry"}):null]},t)})),Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{armor:[].concat(Object(f.a)(r.armor),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New armor"}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"Options"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["All options are NOT mutually exclusive.",Object(w.jsx)("br",{}),Object(w.jsx)("i",{children:'(e.g. "Shield")'})]}),r.options.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"options-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"options-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"options",field:"name_en",value:e.target.value})},onBlur:function(e){return b({index:t,key:"options",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"options-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"options-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"options",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"options-points".concat(t,"-").concat(i),children:"Points"}),Object(w.jsx)(U,{id:"options-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"options",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"options-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"options-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"options-stackable".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"stackable",value:!e.stackable})},checked:e.stackable,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"options-stackable".concat(t,"-").concat(i),className:"checkbox__label",children:"Allow multiple selections"})]}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:"(e.g. for Nightgoblin Fanatics)"})}),e.stackable&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"options-minimum".concat(t,"-").concat(i),children:"Minimum"}),Object(w.jsx)(U,{id:"options-minimum".concat(t,"-").concat(i),className:"input",min:0,value:e.minimum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0}),Object(w.jsx)("label",{htmlFor:"options-maximum".concat(t,"-").concat(i),children:"Maximum"}),Object(w.jsx)(U,{id:"options-maximum".concat(t,"-").concat(i),className:"input",min:0,value:e.maximum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0})]}),c?Object(w.jsx)(C,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"options"})},children:"Remove entry"}):null]},t)})),Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{options:[].concat(Object(f.a)(r.options),[{name_en:"",name_de:"",points:1,perModel:!0,stackable:!1,minimum:0,maximum:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New option"}),"characters"===n?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"Mounts"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["All mount options are mutually exclusive and please add a default mount.",Object(w.jsx)("br",{}),Object(w.jsx)("i",{children:'(e.g. "On foot" or "Hippogryph")'})]}),r.mounts.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"mounts-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"mounts-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"mounts",field:"name_en",value:e.target.value})},onBlur:function(e){return b({index:t,key:"mounts",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"mounts-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"mounts-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"mounts",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"mounts-points".concat(t,"-").concat(i),children:"Points"}),Object(w.jsx)(U,{id:"mounts-points".concat(t,"-").concat(i),className:"input",value:e.points,onChange:function(e){return j({index:t,key:"mounts",field:"points",value:Number(e.target.value)})},required:!0}),Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"mounts-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"mounts",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"mounts-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:'(e.g. when "On foot" is the default mount)'})}),c?Object(w.jsx)(C,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"mounts"})},children:"Remove entry"}):null]},t)})),Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{mounts:[].concat(Object(f.a)(r.mounts),[{name_en:"",name_de:"",points:1,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New mount"})]}):null,Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"(Magic) items"}),Object(w.jsx)("p",{className:"datasets__paragraph",children:"Specify what types of items are allowed. Can also be used for chaos mutations, knightly vitues or similar."}),r.items&&r.items.length?r.items.map((function(e,t){return Object(w.jsxs)("div",{className:"entity__second-level",children:[Object(w.jsx)("label",{htmlFor:"magic-name_en-".concat(t,"-").concat(i),children:"Name English"}),Object(w.jsx)("input",{type:"text",id:"magic-name_en-".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"items",field:"name_en",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)("label",{htmlFor:"magic-name_de-".concat(t,"-").concat(i),children:"Name German"}),Object(w.jsx)("input",{type:"text",id:"magic-name_de-".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"items",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(w.jsx)($e,{headline:"Allowed (magic) item types",children:it.map((function(n,a){return Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.type,a=e.itemIndex,c=r.items.map((function(e,c){return a===c?Object(v.a)(Object(v.a)({},e),{},{types:"on"===t?[].concat(Object(f.a)(r.items[a].types),[n]):r.items[a].types.filter((function(e){return e!==n}))}):e}));l(Object(v.a)(Object(v.a)({},r),{},{items:c}))}({value:e.types.includes(n)?"off":"on",type:n,itemIndex:t})},checked:e.types.includes(n),className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),className:"checkbox__label",children:n})]},n)}))}),Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"mutually-exclusive-".concat(t,"-").concat(i),onChange:function(n){return j({index:t,key:"items",field:"mutuallyExclusive",value:!e.mutuallyExclusive})},checked:e.mutuallyExclusive,className:"checkbox__input"}),Object(w.jsx)("label",{htmlFor:"mutually-exclusive-".concat(t,"-").concat(i),className:"checkbox__label",children:"Mutually exclusive"})]}),Object(w.jsx)("label",{htmlFor:"magic-points-".concat(i),children:"Max. points"}),Object(w.jsx)(U,{id:"magic-points-".concat(t,"-").concat(i),className:"input",min:0,value:e.maxPoints,onChange:function(e){return j({index:t,key:"items",field:"maxPoints",value:Number(e.target.value)})}})]},t)})):null,Object(w.jsx)(C,{type:"secondary",icon:"add",onClick:function(){l(Object(v.a)(Object(v.a)({},r),{},{items:[].concat(Object(f.a)(r.items),[{name_en:"Magic Items",name_de:"Magische Gegenst\xe4nde",types:[],selected:[],mutuallyExclusive:!1,maxPoints:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New category"}),Object(w.jsx)(C,{submitButton:!0,spaceBottom:!0,icon:c?"add-list":"new-list",children:c?"Update unit":"Add unit"})]})},ot=(n(170),function(e){var t=e.unit,n=e.coreUnits,c=e.onClose,i=W().language,s=Object(g.a)(),o=n.filter((function(e){return e.detachment}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("button",{onClick:c,className:"unit-preview-background"}),Object(w.jsx)("div",{className:"unit-preview",children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{isSection:!0,headline:t["name_".concat(i)],subheadline:"".concat(re(t)," ").concat(s.formatMessage({id:"app.points"}))}),Object(w.jsx)(C,{className:"unit-preview__close",icon:"close",type:"text",label:"Close preview",color:"dark",onClick:c}),!t.minimum&&(!t.command||t.command&&!t.command.length)&&(!t.equipment||t.equipment&&!t.equipment.length)&&(!t.armor||t.armor&&!t.armor.length)&&(!t.mounts||t.mounts&&!t.mounts.length)&&(!t.magic||t.magic&&!t.magic.maxPoints)&&(!t.items||t.items&&!t.items.length)&&(!t.options||t.options&&!t.options.length)&&Object(w.jsx)("i",{className:"unit__empty",children:Object(w.jsx)(_.a,{id:"unit.noOptions"})}),t.minimum?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(w.jsx)(_.a,{id:"unit.unitSize"})}),Object(w.jsx)(U,{id:"strength",className:"input",min:t.minimum,max:t.maximum,value:t.strength,onChange:function(){}})]}):null,t.command&&t.command.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.command"})}),t.command.map((function(e,n){var c,o,r=e.name_de,l=e.name_en,d=e.points,m=e.perModel,j=e.active,u=void 0!==j&&j,b=e.magic,h=0;return t.magic&&t.magic.items&&t.magic.items.filter((function(e){return e.command===n})).forEach((function(e){var t=e.points;h+=t})),Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"command-".concat(n),defaultChecked:u,className:"checkbox__input"}),Object(w.jsxs)("label",{htmlFor:"command-".concat(n),className:"checkbox__label",children:["de"===i?r:l,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(d," ").concat(1===d?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),m&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]}),(null===b||void 0===b?void 0:b.maxPoints)&&u?Object(w.jsxs)(se,{className:"editor__list unit__link",active:!1,children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{children:b.types.map((function(e){return qe[e]["name_".concat(i)]})).join(", ")}),Object(w.jsxs)("i",{className:"checkbox__points",children:[Object(w.jsx)("span",{className:N()(h>t.command[n].magic.maxPoints&&"editor__error"),children:de(null===t||void 0===t||null===(c=t.magic)||void 0===c?void 0:c.selected.filter((function(e){return e.command===n})))})," ","/ ",t.command[n].magic.maxPoints," ",Object(w.jsx)(_.a,{id:"app.points"})]}),h>t.command[n].magic.maxPoints&&Object(w.jsx)(M,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===t||void 0===t||null===(o=t.magic)||void 0===o?void 0:o.items)&&Object(w.jsx)("p",{children:t.magic.items.filter((function(e){return e.command===n})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]}):null]},n)}))]}),t.equipment&&t.equipment.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.equipment"})}),t.equipment.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"equipment-".concat(t),name:"equipment",defaultChecked:l,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"equipment-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.armor&&t.armor.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.armor"})}),t.armor.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"armor-".concat(t),name:"armor",defaultChecked:l,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"armor-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.options&&t.options.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.options"})}),t.options.map((function(e,t){var n=e.name_de,c=e.name_en,o=e.points,r=e.perModel,l=e.stackable,d=e.maximum,m=e.minimum,j=void 0===m?0:m,u=e.stackableCount,b=void 0===u?j||0:u,h=e.active,p=void 0!==h&&h;return l?Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)("label",{htmlFor:"options-".concat(t),className:"unit__special-option",children:["de"===i?n:c,":",Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(o," ").concat(s.formatMessage({id:"app.points"})," ").concat(s.formatMessage({id:"unit.perModel"}))})]}),Object(w.jsx)(U,{id:"options-".concat(t),className:"input",min:j,max:d,value:b,onChange:function(){}})]},t):Object(w.jsxs)("div",{className:"checkbox",children:[Object(w.jsx)("input",{type:"checkbox",id:"options-".concat(t),defaultChecked:p,className:"checkbox__input"}),Object(w.jsxs)("label",{htmlFor:"options-".concat(t),className:"checkbox__label",children:["de"===i?n:c,Object(w.jsxs)("i",{className:"checkbox__points",children:["".concat(o," ").concat(1===o?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),r&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.regimentalUnit&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(w.jsx)(_.a,{id:"unit.detachments"})}),o.map((function(e){var n=e.name_de,a=e.name_en,c=e.id;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"list",children:Object(w.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(w.jsx)("b",{className:"unit__magic-headline",children:"de"===i?n:a}),Object(w.jsx)(C,{type:"secondary",icon:"add",label:s.formatMessage({id:"editor.add"}),size:"small"})]})},c),t.detachments&&t.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,o=e.points;return Object(w.jsx)("div",{className:"list",children:Object(w.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(w.jsx)(U,{id:"strength-".concat(c),className:"input",min:5,value:a,onChange:function(){}}),Object(w.jsxs)("span",{children:[Object(w.jsx)("b",{children:"de"===i?t:n}),Object(w.jsx)("i",{children:"".concat(re({strength:a,points:o})," ").concat(s.formatMessage({id:"app.points"}))})]}),Object(w.jsx)(C,{type:"secondary",icon:"close",label:s.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]})}))]}),t.mounts&&t.mounts.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"unit__subline",children:Object(w.jsx)(_.a,{id:"unit.mount"})}),t.mounts.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.active,r=void 0!==o&&o;return Object(w.jsxs)("div",{className:"radio",children:[Object(w.jsx)("input",{type:"radio",id:"mounts-".concat(t),name:"mounts",defaultChecked:r,className:"radio__input"}),Object(w.jsxs)("label",{htmlFor:"mounts-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(w.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(s.formatMessage({id:"app.points"}))})]})]},t)}))]}),t.items&&t.items.length?Object(w.jsx)("hr",{className:"unit__hr"}):null,t.items&&t.items.length?t.items.map((function(e,t){return Object(w.jsxs)(se,{className:"editor__list unit__link",active:!1,children:[Object(w.jsxs)("div",{className:"editor__list-inner",children:[Object(w.jsx)("b",{className:"unit__magic-headline",children:e.name_en}),Object(w.jsxs)("i",{className:"checkbox__points",children:[Object(w.jsx)("span",{children:0}),e.maxPoints>0&&Object(w.jsx)(w.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(w.jsx)(_.a,{id:"app.points"})]})]}),e.items&&Object(w.jsx)("p",{children:e.items.map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]},t)})):null]})})]})}),rt=(n(171),function(e){e.isMobile;var t=Object(x.g)(),n=Object(a.useState)(!1),c=Object(p.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(null),r=Object(p.a)(o,2),d=r[0],m=r[1],j=Object(a.useState)(""),u=Object(p.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(!1),y=Object(p.a)(O,2),N=y[0],k=y[1],M=Object(a.useState)(!1),S=Object(p.a)(M,2),F=S[0],I=S[1],T=Object(a.useState)("empire-of-man"),P=Object(p.a)(T,2),W=P[0],L=P[1],q="the-old-world",U=localStorage.getItem("owb.dataset"),R=Object(a.useState)({characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[]}),J=Object(p.a)(R,2),H=J[0],K=J[1],V=Object(g.a)(),Y=function(e){var t=e.unit,n=e.isNew,a=e.type;if(n){var c=Object(v.a)(Object(v.a)({},H),{},Object(G.a)({},a,[].concat(Object(f.a)(H[a]),[t])));K(c),localStorage.setItem("owb.dataset",JSON.stringify(c,null,2))}else{var i=Object(v.a)(Object(v.a)({},H),{},Object(G.a)({},a,H[a].map((function(e){return e.id===t.id?t:e}))));K(i),localStorage.setItem("owb.dataset",JSON.stringify(i,null,2))}window.scrollTo(0,0)},Z=function(e){var t=e.id,n=e.type,a=Object(v.a)(Object(v.a)({},H),{},Object(G.a)({},n,H[n].filter((function(e){return e.id!==t}))));K(a),localStorage.setItem("owb.dataset",JSON.stringify(a,null,2)),window.scrollTo(0,0)},$=function(e){var t=e.unit;m(t)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(V.formatMessage({id:"footer.datasets"}))})}),Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{className:"datasets",children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,spaceBottom:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsxs)("div",{className:"datasets__info",children:[Object(w.jsx)("h2",{className:"page-headline",children:"Datasets Editor"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["Thank you for taking the time to improve the"," ",Object(w.jsx)("i",{children:"Old World Builder"}),"! You can expand existing army data, add missing translations or create a new army dataset."]}),Object(w.jsx)("h3",{children:"What is a dataset?"}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["A datasets contains the data of all units required to create an army list in the ",Object(w.jsx)("i",{children:"Old World Builder"}),". The datasets for each army are defined in a"," ",Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON",children:"JSON format"})," ","(although you don't have to edit these manually)."]}),Object(w.jsx)("h3",{children:"Notes before you get started"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:'Currently only datasets for "Warhammer: The Old World" can be created on this page'}),Object(w.jsx)("li",{children:"Translate texts from the army books very carefully and exactly as they appear in the book"}),Object(w.jsx)("li",{children:"Proofread after you're done"}),Object(w.jsxs)("li",{children:["If a special rule cannot be mapped, write to us in"," ",Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/87nUyjUxTU",children:"Discord"})]})]})]}),Object(w.jsxs)("div",{className:"datasets__columns",children:[Object(w.jsxs)("section",{className:"column datasets__column",children:[Object(w.jsx)("header",{className:"editor__header",children:Object(w.jsx)("h2",{children:"Load a dataset"})}),Object(w.jsx)(A,{options:z.filter((function(e){return e.id===q}))[0].armies,onChange:function(e){L(e)},selected:"empire-of-man",spaceTop:!0,spaceBottom:!0,required:!0}),Object(w.jsx)(C,{onClick:function(){s(!0),Ee({url:"games/".concat(q,"/").concat(W),onSuccess:function(e){K(e),localStorage.setItem("owb.dataset",JSON.stringify(e,null,2)),s(!1)}})},children:"Load existing dataset"}),Object(w.jsx)("hr",{}),Object(w.jsx)("input",{type:"text",name:"army",className:"input",autoComplete:"off",value:b,onChange:function(e){h(e.target.value)},placeholder:"Paste your .json file"}),Object(w.jsx)(C,{onClick:function(){try{K(JSON.parse(b)),localStorage.setItem("owb.dataset",b),h("")}catch(e){console.log(e)}},children:"Load from .json"}),Object(w.jsx)("hr",{}),Object(w.jsx)(C,{disabled:!Boolean(U),onClick:function(){try{K(JSON.parse(localStorage.getItem("owb.dataset")))}catch(e){console.log(e)}},spaceBottom:!0,children:"Load local dataset"}),Object(w.jsx)("p",{children:"The most current dataset is always saved locally, so you can continue working on it even after a reload."})]}),Object(w.jsxs)("section",{className:"column datasets__column",children:[Object(w.jsx)("header",{className:"editor__header",children:Object(w.jsx)("h2",{children:"Edit units"})}),i?Object(w.jsx)(B,{}):Object(w.jsxs)(w.Fragment,{children:[H.characters.length>0&&Object(w.jsx)("h3",{className:"datasets__edit-headline",children:"Characters"}),Object(w.jsx)("ul",{children:H.characters.map((function(e,t){return Object(w.jsx)($e,{headline:Object(w.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(w.jsxs)("span",{children:[Object(w.jsx)(C,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"characters",id:e.id})}}),Object(w.jsx)(C,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(w.jsx)(st,{unit:e,type:"characters",onSubmit:Y})},t)}))}),H.core.length>0&&Object(w.jsx)("h3",{className:"datasets__edit-headline",children:"Core Units"}),Object(w.jsx)("ul",{children:H.core.map((function(e,t){return Object(w.jsx)($e,{headline:Object(w.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(w.jsxs)("span",{children:[Object(w.jsx)(C,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"core",id:e.id})}}),Object(w.jsx)(C,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(w.jsx)(st,{unit:e,type:"core",onSubmit:Y,onDelete:Z})},t)}))}),H.special.length>0&&Object(w.jsx)("h3",{className:"datasets__edit-headline",children:"Special Units"}),Object(w.jsx)("ul",{children:H.special.map((function(e,t){return Object(w.jsx)($e,{headline:Object(w.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(w.jsxs)("span",{children:[Object(w.jsx)(C,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"special",id:e.id})}}),Object(w.jsx)(C,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(w.jsx)(st,{unit:e,type:"special",onSubmit:Y,onDelete:Z})},t)}))}),H.rare.length>0&&Object(w.jsx)("h3",{className:"datasets__edit-headline",children:"Rare Units"}),Object(w.jsx)("ul",{children:H.rare.map((function(e,t){return Object(w.jsx)($e,{headline:Object(w.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(w.jsxs)("span",{children:[Object(w.jsx)(C,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Z({type:"rare",id:e.id})}}),Object(w.jsx)(C,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return $({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(w.jsx)(st,{unit:e,type:"rare",onSubmit:Y,onDelete:Z})},t)}))})]})]}),Object(w.jsxs)("section",{className:"column datasets__column",children:[Object(w.jsx)("header",{className:"editor__header",children:Object(w.jsx)("h2",{children:"Add new unit"})}),Object(w.jsx)($e,{headline:"Character",noMargin:!0,className:"datasets__unit-type",children:Object(w.jsx)(st,{type:"characters",onSubmit:Y})}),Object(w.jsx)($e,{headline:"Core Unit",noMargin:!0,className:"datasets__unit-type",children:Object(w.jsx)(st,{type:"core",onSubmit:Y})}),Object(w.jsx)($e,{headline:"Special Unit",noMargin:!0,className:"datasets__unit-type",children:Object(w.jsx)(st,{type:"special",onSubmit:Y})}),Object(w.jsx)($e,{headline:"Rare Unit",noMargin:!0,className:"datasets__unit-type",children:Object(w.jsx)(st,{type:"rare",onSubmit:Y})})]}),Object(w.jsxs)("section",{className:"column datasets__column",children:[Object(w.jsx)("header",{className:"editor__header",children:Object(w.jsx)("h2",{children:"JSON output"})}),Object(w.jsx)(C,{icon:N?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(H,null,2)).then((function(){k(!0)}),(function(){I(!0)}))},children:N?"Copied":"Copy JSON"}),F&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"export.error"})}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["When you're done editing, copy the text and post it in the"," ",Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.com/channels/1120710419108085780/1120720528068583434",children:'"Datasets Contribution" Discord Channel'}),"."]}),Object(w.jsxs)("p",{className:"datasets__paragraph",children:["If you're a bit tech-savvy, you can also create a pull request directly in"," ",Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/nthiebes/old-world-builder/pulls",children:"GitHub"}),"."]}),Object(w.jsx)("textarea",{className:"datasets__output",rows:"10",spellCheck:"false","data-gramm":"false",value:JSON.stringify(H,null,2),onChange:function(){}})]})]}),d?Object(w.jsx)(ot,{unit:Object(v.a)(Object(v.a)({},d),{},{strength:0}),onClose:function(){return m(null)},coreUnits:H.core}):null]})]})}),lt=function(){var e=Object(x.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | 404"})}),Object(w.jsx)(E,{headline:"Old World Builder"}),Object(w.jsxs)(D,{compact:!0,children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsx)("h2",{children:Object(w.jsx)(_.a,{id:"404.title"})}),Object(w.jsx)("p",{children:Object(w.jsx)(_.a,{id:"404.title"})})]})]})},dt=function(){var e=Object(x.g)(),t=Object(g.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.privacy"}))})}),Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{compact:!0,children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsx)("h2",{className:"page-headline",children:Object(w.jsx)(_.a,{id:"footer.privacy"})}),Object(w.jsx)("p",{children:'The "Old World Builder" is built as an Open Source app. This SERVICE is provided by at no cost and is intended for use as is.'}),Object(w.jsx)("p",{children:"This page is used to inform visitors regarding my policies with the collection, use, and disclosure of Personal Information if anyone decided to use my Service."}),Object(w.jsx)("p",{children:"If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy."}),Object(w.jsx)("h3",{children:"Information Collection and Use"}),Object(w.jsx)("p",{children:"This app does not collect or store personal data."}),Object(w.jsx)("p",{children:"The app does use third-party services that may collect information used to identify you."}),Object(w.jsx)("p",{children:"Links to the privacy policy of third-party service providers used by the app:"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://www.google.com/policies/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Google Play Services"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://sentry.io/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Sentry"})})]}),Object(w.jsx)("br",{}),Object(w.jsx)("h3",{children:"Log Data"}),Object(w.jsx)("p",{children:"I want to inform you that whenever you use my Service, in a case of an error in the app I collect data and information (through third-party products) on your phone called Log Data. This Log Data may include information such as your device Internet Protocol (\u201cIP\u201d) address, device name, operating system version, the configuration of the app when utilizing my Service, the time and date of your use of the Service, and other statistics."}),Object(w.jsx)("h3",{children:"Cookies"}),Object(w.jsx)("p",{children:"Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory."}),Object(w.jsx)("p",{children:"This Service does not use these \u201ccookies\u201d."}),Object(w.jsx)("h3",{children:"Links to Other Sites"}),Object(w.jsx)("p",{children:"This Service contains links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),Object(w.jsx)("h3",{children:"Changes to This Privacy Policy"}),Object(w.jsx)("p",{children:"I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page."}),Object(w.jsx)("p",{children:"This policy is effective as of 2024-01-04."}),Object(w.jsx)("h3",{children:"Contact Us"}),Object(w.jsxs)("p",{children:["If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at"," ",Object(w.jsx)(O.b,{to:"/help",children:"old-world-builder.com/help"}),"."]})]})]})},mt=n(31),jt=(n(172),function(){var e=Object(x.g)(),t=Object(g.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{children:Object(w.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.changelog"}))})}),Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{compact:!0,className:"changelog",children:[Object(w.jsx)(C,{to:"/",icon:"home",centered:!0,children:Object(w.jsx)(_.a,{id:"misc.startpage"})}),Object(w.jsx)("h2",{className:"page-headline",children:Object(w.jsx)(_.a,{id:"changelog.title"})}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"v0.6.0"}),Object(w.jsx)("p",{children:Object(w.jsx)("time",{children:Object(w.jsx)("i",{children:Object(w.jsx)(mt.a,{value:new Date("2024-01-14 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(w.jsx)("ul",{className:"changelog__list",children:Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change8",values:{b:function(e){return Object(w.jsx)("b",{children:e})}}})})}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"v0.5.0"}),Object(w.jsx)("p",{children:Object(w.jsx)("time",{children:Object(w.jsx)("i",{children:Object(w.jsx)(mt.a,{value:new Date("2024-01-13 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(w.jsxs)("ul",{className:"changelog__list",children:[Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change4",values:{b:function(e){return Object(w.jsx)("b",{children:e})}}})}),Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change5",values:{b:function(e){return Object(w.jsx)("b",{children:e})}}})}),Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change6",values:{b:function(e){return Object(w.jsx)("b",{children:e})}}})})]}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{children:Object(w.jsx)(_.a,{id:"changelog.change7",values:{discord:Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/87nUyjUxTU",children:"Discord"})}})})}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"v0.4.2"}),Object(w.jsx)("p",{children:Object(w.jsx)("time",{children:Object(w.jsx)("i",{children:Object(w.jsx)(mt.a,{value:new Date("2024-01-07 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(w.jsxs)("ul",{className:"changelog__list",children:[Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change0",values:{datasets:Object(w.jsx)(O.b,{to:"/datasets",children:Object(w.jsx)(_.a,{id:"footer.datasets"})})}})}),Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change1"})}),Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change2",values:{privacy:Object(w.jsx)(O.b,{to:"/privacy",children:Object(w.jsx)(_.a,{id:"footer.privacy"})})}})}),Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{id:"changelog.change3"})})]})]})]})}),ut=(n(173),function(e){var t=e.isMobile,n=t?D:a.Fragment,c=Object(x.g)(),i=Object(o.b)(),s=Object(g.a)(),r=Object(o.c)((function(e){return e.lists})),l=Object(a.useState)(null),d=Object(p.a)(l,2),m=d[0],j=d[1],u=Object(a.useState)(!1),b=Object(p.a)(u,2),h=b[0],O=b[1],y=Object(a.useState)(!1),N=Object(p.a)(y,2),k=N[0],M=N[1],S=Object(a.useState)(null),F=Object(p.a)(S,2),I=F[0],P=F[1],B=Object(a.createRef)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(w.jsxs)(w.Fragment,{children:[I&&Object(w.jsx)(x.a,{to:"/editor/".concat(I)}),t&&Object(w.jsx)(E,{to:"/",headline:s.formatMessage({id:"import.title"})}),Object(w.jsxs)(n,{children:[!t&&Object(w.jsx)(E,{isSection:!0,to:"/",headline:s.formatMessage({id:"import.title"})}),Object(w.jsxs)("form",{onSubmit:function(e){var t=new FileReader;O(!1),t.readAsText(m,"UTF-8"),t.onload=function(e){var t=T(),n=Object(v.a)(Object(v.a)({},JSON.parse(e.target.result)),{},{id:t}),a=[].concat(Object(f.a)(r),[n]);localStorage.setItem("owb.lists",JSON.stringify(a)),i(K(a)),P(n.id)},t.onerror=function(){O(!0)},e.preventDefault()},className:"import",children:[Object(w.jsx)("label",{htmlFor:"list",children:Object(w.jsx)(_.a,{id:"import.description"})}),Object(w.jsx)("input",{type:"file",accept:".json, application/json",id:"list",className:"input",onChange:function(){var e=B.current.files;e.length>0&&("application/json"===e[0].type?(M(!1),j(e[0])):M(!0))},autoComplete:"off",required:!0,ref:B}),k&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"import.typeError"})}),h&&Object(w.jsx)("p",{className:"export__error",children:Object(w.jsx)(_.a,{id:"export.error"})}),Object(w.jsx)(C,{centered:!0,icon:"add-list",submitButton:!0,spaceTop:!0,children:Object(w.jsx)(_.a,{id:"import.button"})})]})]})]})}),bt=(n(174),function(){var e=Object(o.b)(),t=Object(a.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(p.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("owb.lists");e(K(JSON.parse(t)))}),[e]),Object(a.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return i(e.matches)}))}),[]),Object(w.jsx)(O.a,{children:c?Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/editor/:listId/edit",children:Object(w.jsx)(Re,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/export",children:Object(w.jsx)(et,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/duplicate",children:Object(w.jsx)(nt,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/add/:type",children:Object(w.jsx)(He,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(w.jsx)(De,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(w.jsx)(at,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(w.jsx)(De,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId",children:Object(w.jsx)(Ge,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/editor/:listId",children:Object(w.jsx)(be,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/import",children:Object(w.jsx)(ut,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/new",children:Object(w.jsx)(ae,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/about",children:Object(w.jsx)(Je,{})}),Object(w.jsx)(x.b,{path:"/help",children:Object(w.jsx)(Ke,{})}),Object(w.jsx)(x.b,{path:"/privacy",children:Object(w.jsx)(dt,{})}),Object(w.jsx)(x.b,{path:"/datasets",children:Object(w.jsx)(rt,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"/changelog",children:Object(w.jsx)(jt,{})}),Object(w.jsx)(x.b,{path:"/print/:listId",children:Object(w.jsx)(tt,{})}),Object(w.jsx)(x.b,{path:"/",exact:!0,children:Object(w.jsx)(Pe,{isMobile:!0})}),Object(w.jsx)(x.b,{path:"*",children:Object(w.jsx)(lt,{})})]}):Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/about",children:Object(w.jsx)(Je,{})}),Object(w.jsx)(x.b,{path:"/help",children:Object(w.jsx)(Ke,{})}),Object(w.jsx)(x.b,{path:"/privacy",children:Object(w.jsx)(dt,{})}),Object(w.jsx)(x.b,{path:"/datasets",children:Object(w.jsx)(rt,{})}),Object(w.jsx)(x.b,{path:"/changelog",children:Object(w.jsx)(jt,{})}),Object(w.jsx)(x.b,{path:"/print/:listId",children:Object(w.jsx)(tt,{})}),Object(w.jsxs)(x.b,{path:"/",children:[Object(w.jsx)(E,{headline:"Old World Builder",hasMainNavigation:!0}),Object(w.jsxs)(D,{isDesktop:!0,children:[Object(w.jsx)("section",{className:"column",children:Object(w.jsx)(Pe,{})}),Object(w.jsx)("section",{className:"column",children:Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/new",children:Object(w.jsx)(ae,{})}),Object(w.jsx)(x.b,{path:"/import",children:Object(w.jsx)(ut,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId",children:Object(w.jsx)(be,{})})]})}),Object(w.jsx)("section",{className:"column",children:Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/editor/:listId/edit",children:Object(w.jsx)(Re,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/export",children:Object(w.jsx)(et,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/duplicate",children:Object(w.jsx)(nt,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/add/:type",children:Object(w.jsx)(He,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId",children:Object(w.jsx)(Ge,{})})]})}),Object(w.jsx)("section",{className:"column",children:Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(w.jsx)(De,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(w.jsx)(at,{})}),Object(w.jsx)(x.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(w.jsx)(De,{})})]})})]})]})]})})}),ht=Object(R.b)({name:"errors",initialState:[],reducers:{setErrors:function(e,t){return t.payload||[]},addError:function(e,t){var n=t.payload;return[].concat(Object(f.a)(e),[n])}}}),pt=ht.actions,Ot=(pt.setErrors,pt.addError,ht.reducer),xt=Object(R.a)({reducer:{lists:ee,army:ze,items:Le,errors:Ot}}),ft=n(115),gt=n(116);d.a({dsn:"https://3947feb62e2f5348c1759e8d4d9ed084@o314295.ingest.sentry.io/4506569636642816",integrations:[new m.a({tracePropagationTargets:["localhost",/^https:\/\/old-world-builder\.com/]}),new j.a({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1});var _t,vt=(localStorage.getItem("lang")||navigator.language||navigator.userLanguage).slice(0,2),yt=-1===["en","de"].indexOf(vt)?"en":vt;localStorage.setItem("lang",yt),document.documentElement.setAttribute("lang",yt),document.querySelector("meta[name=description]").setAttribute("content",{de:"Armeebauer f\xfcr Warhammer: The Old World und Warhammer Fantasy.",en:"Army builder for Warhammer: The Old World and Warhammer Fantasy Battles."}[yt]),_t="de"===yt?gt:ft,s.a.render(Object(w.jsx)(r.a,{locale:vt,messages:_t,children:Object(w.jsx)(o.a,{store:xt,children:Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(l.b,{children:Object(w.jsx)(bt,{})})})})}),document.getElementById("root")),u(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");b?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):h(t,e)}))}}()},44:function(e){e.exports=JSON.parse('[{"id":"the-old-world","name":"Warhammer: The Old World","armies":[{"id":"empire-of-man","name_de":"Empire of Man","name_en":"Empire of Man","items":["general","empire-of-man"]},{"id":"orc-and-goblin-tribes","name_de":"Orc & Goblin Tribes","name_en":"Orc & Goblin Tribes","items":["general","orc-and-goblin-tribes"]},{"id":"dwarfen-mountain-holds","name_de":"Dwarfen Mountain Holds","name_en":"Dwarfen Mountain Holds","items":["dwarfen-mountain-holds"]},{"id":"warriors-of-chaos","name_de":"Warriors of Chaos","name_en":"Warriors of Chaos","items":["general","warriors-of-chaos","gifts-of-chaos","chaos-mutations"]},{"id":"kingdom-of-bretonnia","name_de":"Kingdom of Bretonnia","name_en":"Kingdom of Bretonnia","allies":["dwarfen-mountain-holds","empire-of-man","high-elf-realms","wood-elf-realms"],"items":["general","kingdom-of-bretonnia","knightly-virtues"]},{"id":"beastmen-brayherds","name_de":"Beastmen Brayherds","name_en":"Beastmen Brayherds","items":["general","beastmen-brayherds","chaos-mutations"]},{"id":"wood-elf-realms","name_de":"Wood Elf Realms","name_en":"Wood Elf Realms","items":["general","wood-elf-realms","forest-spites"]},{"id":"tomb-kings-of-khemri","name_de":"Tomb Kings of Khemri","name_en":"Tomb Kings of Khemri","items":["general","tomb-kings-of-khemri"]},{"id":"high-elf-realms","name_de":"High Elf Realms","name_en":"High Elf Realms","items":["general","high-elf-realms","elven-honours"]},{"id":"dark-elves","name_de":"Dark Elves","name_en":"Dark Elves","items":["general"]},{"id":"skaven","name_de":"Skaven","name_en":"Skaven","items":["general"]},{"id":"vampire-counts","name_de":"Vampire Counts","name_en":"Vampire Counts","items":["general"]},{"id":"daemons-of-chaos","name_de":"Daemons of Chaos","name_en":"Daemons of Chaos","items":["general"]},{"id":"ogre-kingdoms","name_de":"Ogre Kingdoms","name_en":"Ogre Kingdoms","items":["general"]},{"id":"lizardmen","name_de":"Lizardmen","name_en":"Lizardmen","items":["general"]},{"id":"chaos-dwarfs","name_de":"Chaos Dwarfs","name_en":"Chaos Dwarfs","items":["general"]}]},{"id":"warhammer-fantasy","name":"Warhammer Fantasy","armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Orcs & Goblins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["heirlooms","dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]}]')}},[[178,1,2]]]);
//# sourceMappingURL=main.de24bc1e.chunk.js.map
//# debugId=9ebde80e-88e5-5371-aca3-679da0ab3837
