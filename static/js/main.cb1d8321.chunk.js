
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="822fa48d-3895-5ffe-9a62-4ddd05569d51")}catch(e){}}();
(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),i=n(45),s=n.n(i),o=n(6),r=n(50),l=n(13),d=n(135),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=n(5),h=n(10),p=n(19),O=n(4),x=n(32),f=n(61),g=n(1),_=n(14),v=n.n(_),y=n.p+"static/media/symbol-defs.5a7056f3.svg",N=(n(100),n(0)),k=function(e){var t=e.className,n=e.symbol,a=e.color;return Object(N.jsx)("svg",{focusable:"false",className:v()("icon",a&&"icon--".concat(a),t),children:Object(N.jsx)("use",{xlinkHref:"".concat(y,"#icon-").concat(n)})})},w=(n(102),function(e){var t=e.className,n=e.type,a=e.to,c=e.href,i=e.onClick,s=e.children,o=e.spaceBottom,r=e.spaceTop,l=e.fullWidth,d=e.label,m=e.icon,j=e.centered,u=e.color,b=e.submitButton,p=e.disabled,O=e.size,x=e.download,f=a||c?a?h.b:"a":"button",_={};return a||c||(_.type=b?"submit":"button"),Object(N.jsxs)(f,Object(g.a)(Object(g.a)({className:v()("button","button--".concat(n),u&&"button--".concat(u),o&&"button--spaceBottom",r&&"button--spaceTop",l&&"button--fullWidth",j&&"button--centered",p&&"button--disabled","button--".concat(O),t),onClick:i,to:a,href:c,"aria-label":d,title:d,disabled:p,download:x},_),{},{children:[m&&Object(N.jsx)(k,{className:v()(s&&"button__icon"),symbol:m}),s&&s]}))});w.defaultProps={type:"primary",size:"large"};var M=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,armor:e.armor?e.armor.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{id:t})})):null})}))},S=(n(104),function(e){var t=e.className,n=e.headline,c=e.subheadline,i=e.moreButton,s=e.to,o=e.isSection,r=e.hasPointsError,l=e.hasMainNavigation,d=Object(x.a)(),m=Object(p.g)(),j=Object(a.useState)(!1),u=Object(b.a)(j,2),h=u[0],O=u[1],f=o?"section":"header",g=[{name:d.formatMessage({id:"footer.about"}),to:"/about"},{name:d.formatMessage({id:"footer.help"}),to:"/help"},{name:d.formatMessage({id:"footer.datasets"}),to:"/datasets"},{name:d.formatMessage({id:"footer.changelog"}),to:"/changelog"}],_=l?g:i;return Object(a.useEffect)((function(){O(!1)}),[m.pathname]),Object(N.jsxs)(f,{className:v()(o?"column-header":"header",t),children:[s?Object(N.jsx)(w,{type:"text",to:s,label:o?d.formatMessage({id:"header.close"}):d.formatMessage({id:"header.back"}),color:o?"dark":"light",icon:o?"close":"back"}):Object(N.jsx)(N.Fragment,{children:_&&Object(N.jsx)("div",{className:"header__empty-icon"})}),Object(N.jsxs)("div",{className:"header__text",children:[n&&Object(N.jsx)("h1",{className:"header__name",children:n}),c&&Object(N.jsxs)("p",{className:"header__points",children:[c," ",r&&Object(N.jsx)(k,{symbol:"error",color:"red"})]})]}),_?Object(N.jsx)(w,{type:"text",className:v()(h&&"header__more-button"),color:o?"dark":"light",label:d.formatMessage({id:"header.more"}),icon:"more",onClick:function(){O(!h)}}):Object(N.jsx)(N.Fragment,{children:s&&Object(N.jsx)("div",{className:"header__empty-icon"})}),h&&Object(N.jsx)("ul",{className:v()("header__more",!l&&"header__more--secondary-navigation"),children:_.map((function(e){var t=e.callback,n=e.name,a=e.icon,c=e.to;return Object(N.jsx)("li",{children:Object(N.jsx)(w,{type:"text",onClick:t,to:c,icon:a,children:n})},n)}))})]})}),F=(n(105),function(){return Object(N.jsx)(k,{symbol:"spinner",className:"spinner"})}),I=function(){return{language:localStorage.getItem("lang")}},T=n.p+"static/media/germany.d9625f93.svg",P=n.p+"static/media/usa.699fdb72.svg",E=(n(106),function(e){var t=e.className,n=e.children,a=e.isDesktop,c=e.compact,i=e.loading,s=I().language,o=function(e){localStorage.setItem("lang",e.target.value),window.location.reload()};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("main",{className:v()("main",a?"main--desktop":"main--mobile",c&&"main--compact",t),children:[n,i&&Object(N.jsx)(F,{})]}),!i&&Object(N.jsxs)("footer",{className:"footer",children:[Object(N.jsxs)("nav",{className:"footer__navigation",children:[Object(N.jsx)(h.b,{to:"/about",children:Object(N.jsx)(f.a,{id:"footer.about"})}),Object(N.jsx)(h.b,{to:"/help",children:Object(N.jsx)(f.a,{id:"footer.help"})}),Object(N.jsx)(h.b,{to:"/datasets",children:Object(N.jsx)(f.a,{id:"footer.datasets"})}),Object(N.jsx)(h.b,{to:"/changelog",children:Object(N.jsx)(f.a,{id:"footer.changelog"})}),Object(N.jsx)(h.b,{to:"/privacy",children:Object(N.jsx)(f.a,{id:"footer.privacy"})})]}),Object(N.jsxs)("div",{className:"footer__languages",children:[Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"english",name:"languages",value:"en",onChange:o,defaultChecked:"en"===s,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"english",className:"radio__label",children:[Object(N.jsx)("img",{width:"24",height:"19",alt:"",src:P,className:"footer__language-icon"}),"English"]})]}),Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"deutsch",name:"languages",value:"de",onChange:o,defaultChecked:"de"===s,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"deutsch",className:"radio__label",children:[Object(N.jsx)("img",{width:"24",height:"19",alt:"",src:T,className:"footer__language-icon"}),"Deutsch"]})]})]})]})]})}),B=(n(107),function(e){var t=e.options,n=e.className,a=e.id,c=e.name,i=e.required,s=e.selected,o=e.disabled,r=e.value,l=e.onChange,d=e.spaceTop,m=e.spaceBottom,j=I().language;return Object(N.jsx)("select",{id:a,name:c,required:i,onChange:function(e){l(e.target.value)},value:r,defaultValue:s,disabled:o,className:v()("select",d&&"select--spaceTop",m&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.name_en,a=e.id;return Object(N.jsx)("option",{value:a,children:"de"===j?t:n},a)}))})}),W=(n(108),function(e){var t=e.onChange,n=e.value,a=e.id,c=e.max,i=e.min,s=e.readOnly,o=e.required,r=Object(x.a)();return Object(N.jsxs)("div",{className:"number-input",children:[Object(N.jsx)("input",{type:"number",pattern:"[0-9]*",min:i,max:c>0?c:1e5,value:n,onChange:function(e){var n=Number(e.target.value),s=c>0?c:1e5;n>s&&(n=s),n<i&&(n=i),t({target:{value:n,id:a}})},id:a,readOnly:s,required:o,className:"input"}),Object(N.jsx)(w,{onClick:function(e){e.preventDefault(),t({target:{value:Number(n)+1,id:a}})},type:"secondary",icon:"up",label:r.formatMessage({id:"misc.increase"}),disabled:n>=c&&0!==c,className:"number-input__button number-input__button--up"}),Object(N.jsx)(w,{onClick:function(e){e.preventDefault(),t({target:{value:Number(n)-1,id:a}})},type:"secondary",icon:"down",label:r.formatMessage({id:"misc.decrease"}),disabled:n<=i,className:"number-input__button number-input__button--down"})]})});W.defaultProps={min:0,max:1e5};var L,q=n(27),D=n(17),A=n(31),U=Object(A.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,a=n.listId,c={name:n.name,points:n.points,description:n.description};return Object.keys(c).forEach((function(e){return void 0===c[e]?delete c[e]:{}})),e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),c):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unit,s=Object(g.a)(Object(g.a)({},i),{},{strength:i.minimum});return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(D.a)({},c,[].concat(Object(O.a)(e[c]),[s]))):e}))},duplicateUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId,s=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===i}));return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(D.a)({},c,[].concat(Object(O.a)(e[c]),[Object(g.a)(Object(g.a)({},s),{},{id:"".concat(s.id.split(".")[0],".").concat(M())})]))):e}))},editUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.strength,s=n.unitId,o=n.options,r=n.equipment,l=n.armor,d=n.command,m=n.mounts,j=n.magic,u=n.items,b=n.name,h={strength:i,options:o,equipment:r,armor:l,command:d,mounts:m,magic:j,items:u,detachments:n.detachments,name_de:b,name_en:b},p=e.find((function(e){return e.id===a}))[c].find((function(e){return e.id===s}));Object.keys(h).forEach((function(e){return void 0===h[e]?delete h[e]:{}}));var O=Object(g.a)(Object(g.a)({},p),h);return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(D.a)({},c,e[c].map((function(e){return e.id===p.id?O:e})))):e}))},removeUnit:function(e,t){var n=t.payload,a=n.listId,c=n.type,i=n.unitId;return e.map((function(e){var t=e.id;return a===t?Object(g.a)(Object(g.a)({},e),{},Object(D.a)({},c,e[c].filter((function(e){return e.id!==i})))):e}))}}}),z=U.actions,G=z.setLists,R=z.addUnit,K=z.editUnit,H=z.removeUnit,J=z.duplicateUnit,V=z.updateList,Z=z.deleteList,Y=(z.duplicateList,U.reducer),Q=n.p+"static/media/warhammer-fantasy.4a99fa99.png",$=n.p+"static/media/the-old-world.6310c52f.png",X=(n(109),function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(p.g)(),i=Object(o.b)(),s=Object(x.a)(),r=Object(o.c)((function(e){return e.lists})),l=Object(a.useState)("the-old-world"),d=Object(b.a)(l,2),m=d[0],j=d[1],u=Object(a.useState)(q.find((function(e){return e.id===m})).armies[0].id),h=Object(b.a)(u,2),g=h[0],_=h[1],v=Object(a.useState)(""),y=Object(b.a)(v,2),k=y[0],C=y[1],F=Object(a.useState)(""),I=Object(b.a)(F,2),T=I[0],P=I[1],L=Object(a.useState)(2e3),D=Object(b.a)(L,2),A=D[0],U=D[1],z=Object(a.useState)(null),R=Object(b.a)(z,2),K=R[0],H=R[1],J=function(e){j(e.target.value),_(q.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(N.jsxs)(N.Fragment,{children:[K&&Object(N.jsx)(p.a,{to:"/editor/".concat(K)}),t&&Object(N.jsx)(S,{to:"/",headline:s.formatMessage({id:"new.title"})}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/",headline:s.formatMessage({id:"new.title"})}),Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=M(),t={"warhammer-fantasy":{name:k,description:T,game:m,points:A,army:g,lords:[],heroes:[],core:[],special:[],rare:[],id:e},"the-old-world":{name:k,description:T,game:m,points:A,army:g,characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[],id:e}},n=[].concat(Object(O.a)(r),[t[m]]);localStorage.setItem("owb.lists",JSON.stringify(n)),i(G(n)),H(e)}()},className:"new-list",children:[q.map((function(e){var t=e.name,n=e.id;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:J,checked:n===m,className:"radio__input","aria-label":t}),Object(N.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(N.jsx)("img",{height:"20",src:Q,alt:t}),"the-old-world"===n&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("img",{height:"35",src:$,alt:t}),Object(N.jsx)("p",{className:"new-list__beta",children:"Beta"})]})]})]},n)})),Object(N.jsx)("label",{htmlFor:"name",children:Object(N.jsx)(f.a,{id:"misc.name"})}),Object(N.jsx)("input",{type:"text",id:"name",className:"input",value:k,onChange:function(e){C(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(N.jsx)("label",{htmlFor:"description",children:Object(N.jsx)(f.a,{id:"misc.description"})}),Object(N.jsx)("input",{type:"text",id:"description",className:"input",value:T,onChange:function(e){P(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(N.jsx)("label",{htmlFor:"points",children:Object(N.jsx)(f.a,{id:"misc.points"})}),Object(N.jsx)(W,{id:"points",min:0,value:A,onChange:function(e){U(e.target.value)},required:!0}),Object(N.jsx)("label",{htmlFor:"army",children:Object(N.jsx)(f.a,{id:"new.army"})}),Object(N.jsx)(B,{id:"army",options:q.filter((function(e){return e.id===m}))[0].armies,onChange:function(e){_(e)},selected:"empire-of-man",spaceBottom:!0,required:!0}),Object(N.jsx)(w,{centered:!0,icon:"add-list",submitButton:!0,spaceBottom:!0,children:Object(N.jsx)(f.a,{id:"new.create"})})]})]})]})}),ee={lords:{maxPercent:25},heroes:{maxPercent:25},characters:{maxPercent:50},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4},mercenaries:{maxPercent:20},allies:{maxPercent:25}},te=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*ee[t].maxPercent;return{points:Math.floor(c),overLimit:a>c,diff:a>c?Math.ceil(a-c):0}},ne=(n(110),function(e){var t=e.to,n=e.onClick,a=e.children,c=e.className,i=e.active,s=t?h.b:"button";return Object(N.jsx)("li",{className:v()("list",i&&"list--active",c),children:Object(N.jsx)(s,{to:t,className:"list__inner",onClick:n,children:a})})}),ae=function(e){var t=e.mounts,n=e.equipment,a=e.armor,c=e.options,i=e.command,s=e.items,o=e.detachments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r.asString,d=r.noMagic,m=localStorage.getItem("lang"),j=[];i&&i.forEach((function(e){var t,n=e.name_de,a=e.name_en,c=e.active,i=e.magic;c&&j.push("de"===m?n:a),i&&(null===i||void 0===i||null===(t=i.selected)||void 0===t?void 0:t.length)&&i.selected.forEach((function(e){j.push(e.amount>1?"".concat(e.amount,"x ")+e["name_".concat(m)]:e["name_".concat(m)])}))}));var u=n?n.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],b=a?a.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],h=c?c.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],p=c?c.filter((function(e){return e.stackableCount>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.stackableCount;return"".concat(a," ").concat("de"===m?t:n)})):[],x=t?t.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===m?t:n})):[],f=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(e){(e.selected||[]).forEach((function(e){f.push(e.amount>1?"".concat(e.amount,"x ")+e["name_".concat(m)]:e["name_".concat(m)])}))}));var g=o?o.filter((function(e){return e.strength>0})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength;return"".concat(a," ").concat("de"===m?t:n)})):[],_=[].concat(Object(O.a)(u),Object(O.a)(b),Object(O.a)(h),Object(O.a)(p),j,Object(O.a)(x),Object(O.a)(d?[]:f),Object(O.a)(g)),v=_.join(", ").replace(/\*/g,"");return v?l?v:Object(N.jsx)("p",{children:v}):null},ce=function(e){var t=0;return t=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(n){n.stackable?t+=(n.stackableCount||n.minimum||0)*n.points:n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.equipment&&e.equipment.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.armor&&e.armor.forEach((function(n){n.active&&n.perModel?t+=(e.strength||1)*n.points:n.active&&(t+=n.points)})),e.command&&e.command.forEach((function(e){var n,a;e.active&&(t+=e.points),e.magic&&(null===(n=e.magic)||void 0===n||null===(a=n.selected)||void 0===a?void 0:a.length)&&e.magic.selected.forEach((function(e){t+=e.amount?e.amount*e.points:e.points}))})),e.mounts&&e.mounts.forEach((function(e){e.active&&(t+=e.points)})),(null===e||void 0===e?void 0:e.items)&&(null===e||void 0===e?void 0:e.items.length)&&e.items.forEach((function(e){(e.selected||[]).forEach((function(e){t+=e.amount?e.amount*e.points:e.points}))})),e.detachments&&e.detachments.forEach((function(e){t+=e.strength*e.points})),t},ie=function(e){var t=e.selected,n=0;return t&&t.forEach((function(e){n+=e.amount?e.amount*e.points:e.points})),n},se=function(e){var t=0;return e&&e.forEach((function(e){t+=e.points})),t},oe=function(e){var t=e.type,n=e.list,a=0;return n[t]&&n[t].forEach((function(e){a+=ce(e)})),a},re=function(e){return oe({list:e,type:"lords"})+oe({list:e,type:"heroes"})+oe({list:e,type:"core"})+oe({list:e,type:"special"})+oe({list:e,type:"rare"})+oe({list:e,type:"characters"})+oe({list:e,type:"mercenaries"})+oe({list:e,type:"allies"})},le=function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("owb.lists",JSON.stringify(t))},de=(n(111),function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(p.h)().listId,i=Object(x.a)(),s=Object(o.b)(),r=Object(a.useState)(!1),d=Object(b.a)(r,2),m=d[0],j=d[1],u=Object(p.g)(),h=I().language,O=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return c===t}))}));if(Object(a.useEffect)((function(){var e=function(){document.location.hash==="#".concat(u.pathname)&&sessionStorage.setItem("scrollPosition",window.pageYOffset)};return window.addEventListener("scroll",function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}(e,100)),window.scrollTo(0,Number(sessionStorage.getItem("scrollPosition"))||0),function(){return window.removeEventListener("scroll",e)}}),[u.pathname]),Object(a.useEffect)((function(){O&&le(O)}),[O]),m)return Object(N.jsx)(p.a,{to:"/"});if(!O)return t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/"}),Object(N.jsx)(E,{loading:!0})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/",isSection:!0}),Object(N.jsx)(E,{loading:!0})]});var g=re(O),_=oe({list:O,type:"lords"}),y=oe({list:O,type:"heroes"}),M=oe({list:O,type:"characters"}),C=oe({list:O,type:"core"}),F=oe({list:O,type:"special"}),T=oe({list:O,type:"rare"}),P=oe({list:O,type:"mercenaries"}),B=oe({list:O,type:"allies"}),W=te({type:"lords",armyPoints:O.points,points:_}),L=te({type:"heroes",armyPoints:O.points,points:y}),q=te({type:"characters",armyPoints:O.points,points:M}),D=function(e){var t=e.type,n=e.armyPoints,a=e.points,c=n/100*ee[t].minPercent;return{points:Math.floor(c),overLimit:a<=c,diff:a<=c?Math.ceil(c-a):0}}({type:"core",armyPoints:O.points,points:C}),A=te({type:"special",armyPoints:O.points,points:F}),U=te({type:"rare",armyPoints:O.points,points:T}),z=te({type:"mercenaries",armyPoints:O.points,points:P}),G=te({type:"allies",armyPoints:O.points,points:B}),R=[{name:i.formatMessage({id:"misc.edit"}),icon:"edit",to:"/editor/".concat(c,"/edit")},{name:i.formatMessage({id:"misc.duplicate"}),icon:"duplicate",to:"/editor/".concat(c,"/duplicate")},{name:i.formatMessage({id:"misc.export"}),icon:"export",to:"/editor/".concat(c,"/export")},{name:i.formatMessage({id:"misc.print"}),icon:"print",to:"/print/".concat(c)},{name:i.formatMessage({id:"misc.delete"}),icon:"delete",callback:function(){s(Z(c)),function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("owb.lists",JSON.stringify(t))}(c),j(!0)}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===O||void 0===O?void 0:O.name)})}),t&&Object(N.jsx)(S,{to:"/",headline:O.name,subheadline:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{className:v()("magic__header-points",g>O.points&&"magic__header-points--error"),children:[g,"\xa0"]}),"/ ".concat(O.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:g>O.points,moreButton:R}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/",headline:O.name,subheadline:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{className:v()("magic__header-points",g>O.points&&"magic__header-points--error"),children:[g,"\xa0"]}),"/ ".concat(O.points," ").concat(i.formatMessage({id:"app.points"}))]}),hasPointsError:g>O.points,moreButton:R}),O.lords&&Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.lords"})}),Object(N.jsx)("p",{className:"editor__points",children:W.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:W.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:W.points-_}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.lords.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/lords/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/lords"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),O.heroes&&Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.heroes"})}),Object(N.jsx)("p",{className:"editor__points",children:L.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:L.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:L.points-y}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.heroes.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/heroes/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/heroes"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),O.characters&&Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.characters"})}),Object(N.jsx)("p",{className:"editor__points",children:q.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:q.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:q.points-M}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.characters.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/characters/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/characters"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.core"})}),Object(N.jsx)("p",{className:"editor__points",children:D.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:D.diff}),Object(N.jsx)(f.a,{id:"editor.missingPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:C})," / ".concat(D.points," "),Object(N.jsx)(f.a,{id:"app.points"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.core.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/core/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(N.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/core"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.special"})}),Object(N.jsx)("p",{className:"editor__points",children:A.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:A.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:A.points-F}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.special.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/special/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(N.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/special"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.rare"})}),Object(N.jsx)("p",{className:"editor__points",children:U.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:U.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:U.points-T}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.rare.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/rare/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[e.strength||e.minimum?Object(N.jsx)("span",{children:"".concat(e.strength||e.minimum)}):null,Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/rare"),icon:"add",spaceTop:!0,children:Object(N.jsx)(f.a,{id:"editor.add"})})]}),O.mercenaries&&Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.mercenaries"})}),Object(N.jsx)("p",{className:"editor__points",children:z.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:z.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:z.points-P}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.mercenaries.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/mercenaries/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)("p",{className:"editor__soon",children:"Coming soon"})]}),O.allies&&Object(N.jsxs)("section",{className:"editor__section",children:[Object(N.jsxs)("header",{className:"editor__header",children:[Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"editor.allies"})}),Object(N.jsx)("p",{className:"editor__points",children:G.diff>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:G.diff}),Object(N.jsx)(f.a,{id:"editor.tooManyPoints"}),Object(N.jsx)(k,{symbol:"error",color:"red"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:G.points-B}),Object(N.jsx)(f.a,{id:"editor.availablePoints"}),Object(N.jsx)(k,{symbol:"check"})]})})]}),Object(N.jsx)("ul",{children:O.allies.map((function(e,t){return Object(N.jsxs)(ne,{to:"/editor/".concat(c,"/allies/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:e["name_".concat(h)]}),Object(N.jsx)("i",{children:"".concat(ce(e)," ").concat(i.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(N.jsx)("p",{className:"editor__soon",children:"Coming soon"})]})]})]})}),me=n(73),je=Object(A.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),ue=je.actions.setArmy,be=je.reducer,he=Object(A.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),pe=he.actions.setItems,Oe=he.reducer,xe=n.p+"static/media/the-empire.d3620178.svg",fe=n.p+"static/media/dwarfs.d1515ee2.svg",ge=n.p+"static/media/greenskins.ea460b46.svg",_e=n.p+"static/media/beastmen.6a9fce0f.svg",ve=n.p+"static/media/chaos-deamons.1f26ab65.svg",ye=n.p+"static/media/chaos-warriors.95dbc8c2.svg",Ne=n.p+"static/media/dark-elves.9d17a9e4.svg",ke=n.p+"static/media/high-elves.446a07c8.svg",we=n.p+"static/media/lizardmen.1864459d.svg",Me=n.p+"static/media/ogres.8b76905b.svg",Ce=n.p+"static/media/skaven.76cb48b7.svg",Se=n.p+"static/media/tomb-kings.9b30c541.svg",Fe=n.p+"static/media/vampire-counts.fd13d874.svg",Ie=n.p+"static/media/wood-elves.2b1066f8.svg",Te=n.p+"static/media/chaos-dwarfs.ee5f1bd3.svg",Pe=n.p+"static/media/bretonnia.e5c3a1d0.svg",Ee=(n(112),{"the-empire":xe,dwarfs:fe,greenskins:ge,"empire-of-man":xe,"orc-and-goblin-tribes":ge,"dwarfen-mountain-holds":fe,"warriors-of-chaos":ye,"kingdom-of-bretonnia":Pe,"beastmen-brayherds":_e,"wood-elf-realms":Ie,"tomb-kings-of-khemri":Se,"high-elf-realms":ke,"dark-elves":Ne,skaven:Ce,"vampire-counts":Fe,"daemons-of-chaos":ve,"ogre-kingdoms":Me,lizardmen:we,"chaos-dwarfs":Te}),Be=function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(o.c)((function(e){return e.lists})),i=Object(p.g)(),s=Object(o.b)(),r=function(){s(ue(null)),s(pe(null))};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder - Army builder for Warhammer Fantasy and Warhammer: The Old World"})}),t&&Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(n,{children:[!c.length&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("img",{src:xe,alt:"",width:"100",height:"100",className:"home__logo"}),Object(N.jsx)("i",{className:"home__empty",children:Object(N.jsx)(f.a,{id:"home.empty"})})]}),Object(N.jsx)("ul",{children:c.map((function(e,t){var n=e.id,a=e.name,c=e.description,s=e.points,o=e.game,l=e.army,d=Object(me.a)(e,["id","name","description","points","game","army"]);return Object(N.jsxs)(ne,{to:"/editor/".concat(n),active:i.pathname.includes(n),onClick:r,children:[Object(N.jsxs)("span",{className:"home__list-item",children:[Object(N.jsx)("h2",{className:"home__headline",children:a}),c&&Object(N.jsx)("p",{className:"home__description",children:c}),Object(N.jsxs)("p",{className:"home__points",children:[re(Object(g.a)(Object(g.a)({},d),{},{points:s}))," ","/ ",s," ",Object(N.jsx)(f.a,{id:"app.points"})]})]}),Object(N.jsxs)("div",{className:"home__info",children:[Object(N.jsx)("img",{width:"70",src:"warhammer-fantasy"===o?Q:$,alt:"warhammer-fantasy"===o?"Warhammer Fantasy":"Warhammer: The Old World",className:"home__game"}),Object(N.jsx)("img",{height:"40",width:"40",src:Ee[l],alt:""})]})]},t)}))}),Object(N.jsx)(w,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,onClick:r,children:Object(N.jsx)(f.a,{id:"home.newList"})}),Object(N.jsx)(w,{centered:!0,to:"/import",type:"text",icon:"import",color:"dark",spaceTop:!0,spaceBottom:!0,onClick:r,children:Object(N.jsx)(f.a,{id:"home.import"})})]})]})},We=(n(113),function(e){var t=e.url,n=e.onSuccess,a=e.onError;L=new AbortController,fetch("".concat("/").concat(t,".json?v=").concat("0.6.11"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:L.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){a&&a(e)}))}),Le={greenskins:{name_de:"Glitzakram",name_en:"Shiny Stuff"},"the-empire":{name_de:"Magische Erbst\xfccke",name_en:"Heirlooms of Magic"},heirlooms:{name_de:"Erbst\xfccke",name_en:"Ancestral Heirlooms"},dwarfs:{name_de:"Zwergenrunen",name_en:"Runic Items"},general:{name_de:"Gew\xf6hnliche Magische Gegenst\xe4nde",name_en:"Common Magic Items"},weapon:{name_de:"Magische Waffen",name_en:"Magic Weapons"},armor:{name_de:"Magische R\xfcstungen",name_en:"Magic Armour"},"armor-mages":{name_de:"Magische R\xfcstungen",name_en:"Magic Armour"},talisman:{name_de:"Talismane",name_en:"Talismans"},banner:{name_de:"Magische Standarten",name_en:"Magic Standards"},artifact:{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"arcane-item":{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"enchanted-item":{name_de:"Verzauberte Gegenst\xe4nde",name_en:"Enchanted Items"},"weapon-runes":{name_de:"Waffenrunen",name_en:"Weapon Runes"},"armor-runes":{name_de:"R\xfcstungsrunen",name_en:"Armour Runes"},"banner-runes":{name_de:"Standartenrunen",name_en:"Banner Runes"},"talismanic-runes":{name_de:"Talismanrunen",name_en:"Talismanic Runes"},"engineering-runes":{name_de:"Maschinenrunen",name_en:"Engineering Runes"},triptych:{name_de:"Triptych",name_en:"Triptych"},"kingdom-of-bretonnia":{name_de:"Kingdom of Bretonnia",name_en:"Kingdom of Bretonnia"},"chaos-mutations":{name_de:"Chaos Mutations",name_en:"Chaos Mutations"},"chaos-mutation":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-character":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"chaos-mutation-chieftain":{name_de:"Chaos Mutation",name_en:"Chaos Mutation"},"gifts-of-chaos":{name_de:"Gifts of Chaos",name_en:"Gifts of Chaos"},"gift-of-chaos":{name_de:"Gift of Chaos",name_en:"Gift of Chaos"},"forest-spites":{name_de:"Forest Spites",name_en:"Forest Spites"},"forest-spite":{name_de:"Forest Spite",name_en:"Forest Spite"},"beastmen-brayherds":{name_de:"Beastmen Brayherds",name_en:"Beastmen Brayherds"},"orc-and-goblin-tribes":{name_de:"Orc & Goblin Tribes",name_en:"Orc & Goblin Tribes"},"dwarfen-mountain-holds":{name_de:"Zwergenrunen",name_en:"Runic Items"},"empire-of-man":{name_de:"Empire of Man",name_en:"Empire of Man"},"wood-elf-realms":{name_de:"Wood Elf Realms",name_en:"Wood Elf Realms"},"high-elf-realms":{name_de:"High Elf Realms",name_en:"High Elf Realms"},"tomb-kings-of-khemri":{name_de:"Tomb Kings of Khemri",name_en:"Tomb Kings of Khemri"},"warriors-of-chaos":{name_de:"Warriors of Chaos",name_en:"Warriors of Chaos"},"knightly-virtues":{name_de:"Knightly Virtues",name_en:"Knightly Virtues"},"knightly-virtue":{name_de:"Knightly Virtue",name_en:"Knightly Virtue"},"knightly-virtue-character":{name_de:"Knightly Virtue (Characters only)",name_en:"Knightly Virtue (Characters only)"},"elven-honours":{name_de:"Elven Honours",name_en:"Elven Honours"},"elven-honour":{name_de:"Elven Honour",name_en:"Elven Honour"}},qe=(n(114),function(e){var t,n,c,i,s,r,d,m,j,u,b,h,_,y=e.isMobile,k=y?E:a.Fragment,w=Object(p.g)(),M=I().language,C=Object(x.a)(),F=Object(p.h)(),T=F.listId,P=F.type,B=F.unitId,L=F.command,D=F.group,A=Object(o.b)(),U=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return T===t}))})),z=U&&q.find((function(e){return e.id===U.game})).armies.find((function(e){var t=e.id;return U.army===t})),G=Object(o.c)((function(e){return e.items})),R=U?U[P]:null,H=R&&R.find((function(e){return e.id===B})),J=0,V=function(e,t,n){var a,c=e.target.type;if(a=e.target.checked?n?"radio"===c?[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]:[].concat(Object(O.a)(H.command[L].magic.selected||[]),[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]):"radio"===c?[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]:[].concat(Object(O.a)(H.items[D].selected||[]),[Object(g.a)(Object(g.a)({},t),{},{id:e.target.value})]):n?H.command[L].magic.selected.filter((function(t){return t.id!==e.target.value})):H.items[D].selected.filter((function(t){return t.id!==e.target.value})),n){var i=H.command.map((function(e,t){return t===Number(L)?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{selected:a})}):e}));A(K({listId:T,type:P,unitId:B,command:i}))}else{var s=H.items.map((function(e,t){return t===Number(D)?Object(g.a)(Object(g.a)({},e),{},{selected:a}):e}));A(K({listId:T,type:P,unitId:B,items:s}))}},Z=function(e){var t,n=e.event,a=e.parentId,c=e.isCommand;if(t=c?(H.command[L].magic.selected||[]).map((function(e){return e.id===a?Object(g.a)(Object(g.a)({},e),{},{amount:n.target.value}):e})):(H.items[D].selected||[]).map((function(e){return e.id===a?Object(g.a)(Object(g.a)({},e),{},{amount:n.target.value}):e})),c){var i=H.command.map((function(e,n){return n===Number(L)?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{selected:t})}):e}));A(K({listId:T,type:P,unitId:B,command:i}))}else{var s=H.items.map((function(e,n){return n===Number(D)?Object(g.a)(Object(g.a)({},e),{},{selected:t}):e}));A(K({listId:T,type:P,unitId:B,items:s}))}};if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[w.pathname]),Object(a.useEffect)((function(){U&&le(U)}),[U]),Object(a.useEffect)((function(){z&&U&&!G&&We({url:"games/".concat(U.game,"/magic-items"),onSuccess:function(e){var t=z.items.map((function(t){return{items:e[t],name_de:Le[t].name_de,name_en:Le[t].name_en,id:t}}));A(pe(function(e){return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{items:e.items.map((function(e,t){return e.conditional?Object(g.a)(Object(g.a)({},e),{},{id:t,conditional:e.conditional.map((function(e,n){return Object(g.a)(Object(g.a)({},e),{},{id:"".concat(t,"-").concat(n)})}))}):Object(g.a)(Object(g.a)({},e),{},{id:t})}))})}))}(t)))}})}),[z,U,G,A]),!H||!z||!G)return y?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(T,"/").concat(P,"/").concat(B)}),Object(N.jsx)(E,{loading:!0})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(T,"/").concat(P,"/").concat(B),isSection:!0}),Object(N.jsx)(E,{loading:!0})]});var Y=function(e){var t,n,a,c,i=e.unit,s=e.magicItem,o=e.itemGroup,r=e.isConditional,l=!1,d=!1;if((null===i||void 0===i?void 0:i.command)&&i.command[L]&&(null===(t=i.command[L])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)){var m=(i.command[L].magic.selected||[]).find((function(e){return e.id==="".concat(o.id,"-").concat(s.id)}));l=Boolean(m),d=!0,c=(null===m||void 0===m?void 0:m.amount)||1}else if(null===i||void 0===i||null===(a=i.items)||void 0===a?void 0:a.length){var j=i.items[D].selected.find((function(e){return e.id==="".concat(o.id,"-").concat(s.id)}));l=Boolean(j),c=(null===j||void 0===j?void 0:j.amount)||1}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:v()("checkbox",r&&"checkbox--conditional"),children:[Object(N.jsx)("input",{type:"checkbox",id:"".concat(o.id,"-").concat(s.id),value:"".concat(o.id,"-").concat(s.id),onChange:function(e){return V(e,s,d)},checked:l,className:"checkbox__input"}),Object(N.jsxs)("label",{htmlFor:"".concat(o.id,"-").concat(s.id),className:"checkbox__label",children:["de"===M?s.name_de:s.name_en,Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(s.points," ").concat(C.formatMessage({id:"app.points"}))})]})]},s.id),s.stackable&&l&&Object(N.jsx)(W,{id:"".concat(o.id,"-").concat(s.id,"-amount"),min:1,max:s.maximum,value:c,onChange:function(e){Z({parentId:"".concat(o.id,"-").concat(s.id),event:e,isCommand:d})}})]})},Q=function(e){var t,n,a,c=e.unit,i=e.magicItem,s=e.itemGroup,o=!1,r=!1;return(null===c||void 0===c?void 0:c.command)&&c.command[L]&&(null===(t=c.command[L])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)?(o=(c.command[L].magic.selected||[]).find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1,r=!0):(null===c||void 0===c||null===(a=c.items)||void 0===a?void 0:a.length)&&(o=c.items[D].selected.find((function(e){return e.id==="".concat(s.id,"-").concat(i.id)}))||!1),Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"".concat(s.id,"-").concat(i.id),value:"".concat(s.id,"-").concat(i.id),onChange:function(e){return V(e,i,r)},checked:o,name:s.id,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"".concat(s.id,"-").concat(i.id),className:"radio__label",children:["de"===M?i.name_de:i.name_en,Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(C.formatMessage({id:"app.points"}))})]})]},i.id)},$=!1,X=0,ee=Boolean((null===H||void 0===H?void 0:H.command)&&H.command[L]&&(null===(t=H.command[L])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)),te=Boolean(null===H||void 0===H||null===(c=H.items)||void 0===c?void 0:c.length);return ee?(J=H.command[L].magic.maxPoints,$=(X=ie({selected:H.command[L].magic.selected}))>J):te&&(J=H.items[D].maxPoints,$=(X=ie({selected:H.items[D].selected}))>J&&J>0),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===U||void 0===U?void 0:U.name)})}),y&&Object(N.jsx)(S,{to:"/editor/".concat(T,"/").concat(P,"/").concat(B),headline:"de"===M?(null===H||void 0===H||null===(i=H.items)||void 0===i?void 0:i.length)&&!(null===H||void 0===H||null===(s=H.command)||void 0===s?void 0:s.length)?H.items[D].name_de:C.formatMessage({id:"unit.magicItems"}):(null===H||void 0===H||null===(r=H.items)||void 0===r?void 0:r.length)&&!(null===H||void 0===H||null===(d=H.command)||void 0===d?void 0:d.length)?H.items[D].name_en:C.formatMessage({id:"unit.magicItems"}),subheadline:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{className:v()("magic__header-points",$&&"magic__header-points--error"),children:["".concat(X),"\xa0"]}),J>0&&"/ ".concat(J," "),Object(N.jsx)(f.a,{id:"app.points"})]}),hasPointsError:$}),Object(N.jsxs)(k,{children:[!y&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(T,"/").concat(P,"/").concat(B),headline:"de"===M?(null===H||void 0===H||null===(m=H.items)||void 0===m?void 0:m.length)&&!(null===H||void 0===H||null===(j=H.command)||void 0===j?void 0:j.length)?H.items[D].name_de:C.formatMessage({id:"unit.magicItems"}):(null===H||void 0===H||null===(u=H.items)||void 0===u?void 0:u.length)&&!(null===H||void 0===H||null===(b=H.command)||void 0===b?void 0:b.length)?H.items[D].name_en:C.formatMessage({id:"unit.magicItems"}),subheadline:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{className:v()("magic__header-points",$&&"magic__header-points--error"),children:["".concat(X),"\xa0"]}),J>0&&"/ ".concat(J," "),Object(N.jsx)(f.a,{id:"app.points"})]}),hasPointsError:$}),G.map((function(e){var t=e.items.filter((function(e){return ee&&H.command[L].magic.types.includes(e.type)})),n=e.items.filter((function(e){return te&&!L&&H.items[D].types.includes(e.type)})),c=ee?t:n;return c.length>0&&(h=null,_=!1),Object(N.jsxs)(a.Fragment,{children:[c.length>0&&Object(N.jsx)("h2",{className:"unit__subline",children:"de"===M?e.name_de:e.name_en}),c.map((function(t){h!==t.type?(h=t.type,_=!0):_=!1;var n=!1,c=!1;return ee?(n=(H.command[L].magic.selected||[]).find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,c=H.command[L].magic.mutuallyExclusive):te&&(n=H.items[D].selected.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1,c=H.items[D].mutuallyExclusive),Object(N.jsxs)(a.Fragment,{children:[_&&Object(N.jsx)("h3",{className:"magic__type",children:Le[t.type]["name_".concat(M)]}),c?Q({unit:H,magicItem:t,itemGroup:e}):Y({unit:H,magicItem:t,itemGroup:e}),t.conditional&&n?t.conditional.map((function(t){return Y({unit:H,magicItem:t,itemGroup:e,isConditional:!0})})):null]},t.name_de)}))]},e.name_de)}))]})]})}),De=(n(115),function(e){var t,n=e.isMobile,c=n?E:a.Fragment,i=Object(p.h)(),s=i.listId,r=i.type,d=i.unitId,m=Object(o.b)(),j=I().language,u=Object(a.useState)(null),h=Object(b.a)(u,2),_=h[0],y=h[1],F=Object(p.g)(),T=Object(x.a)(),P=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))})),B=P?P[r]:null,L=B&&B.find((function(e){return e.id===d})),q=Object(o.c)((function(e){return e.army})),D=q&&q.core.filter((function(e){return e.detachment}));if(Object(a.useEffect)((function(){window.scrollTo(0,0)}),[F.pathname]),Object(a.useEffect)((function(){P&&le(P)}),[P]),Object(a.useEffect)((function(){P&&!q&&We({url:"games/".concat(P.game,"/").concat(P.army),onSuccess:function(e){m(ue({lords:C(e.lords),heroes:C(e.heroes),characters:C(e.characters),core:C(e.core),special:C(e.special),rare:C(e.rare),mercenaries:C(e.mercenaries),allies:C(e.allies)}))}})}),[P,q,m]),!0===_)return Object(N.jsx)(p.a,{to:"/editor/".concat(s)});if(!L||!q)return n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(s)}),Object(N.jsx)(E,{loading:!0})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(s),isSection:!0}),Object(N.jsx)(E,{loading:!0})]});var A=[{name:T.formatMessage({id:"misc.rename"}),icon:"edit",to:"/editor/".concat(s,"/").concat(r,"/").concat(L.id,"/rename")},{name:T.formatMessage({id:"misc.duplicate"}),icon:"duplicate",callback:function(){return function(e){m(J({listId:s,type:r,unitId:e})),y(!0)}(L.id)}},{name:T.formatMessage({id:"misc.remove"}),icon:"delete",callback:function(){return function(e){m(H({listId:s,type:r,unitId:e})),y(!0)}(L.id)}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===P||void 0===P?void 0:P.name)})}),n&&Object(N.jsx)(S,{to:"/editor/".concat(s),moreButton:A,headline:L["name_".concat(j)],subheadline:"".concat(ce(L)," ").concat(T.formatMessage({id:"app.points"}))}),Object(N.jsxs)(c,{children:[!n&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(s),moreButton:A,headline:L["name_".concat(j)],subheadline:"".concat(ce(L)," ").concat(T.formatMessage({id:"app.points"}))}),!L.minimum&&(!L.command||L.command&&!L.command.length)&&(!L.equipment||L.equipment&&!L.equipment.length)&&(!L.armor||L.armor&&!L.armor.length)&&(!L.mounts||L.mounts&&!L.mounts.length)&&(!L.magic||L.magic&&!L.magic.maxPoints&&!(null===(t=L.items)||void 0===t?void 0:t.length))&&(!L.options||L.options&&!L.options.length)&&Object(N.jsx)("i",{className:"unit__empty",children:Object(N.jsx)(f.a,{id:"unit.noOptions"})}),L.minimum?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(N.jsx)(f.a,{id:"unit.unitSize"})}),Object(N.jsx)(W,{id:"strength",min:L.minimum,max:L.maximum,value:L.strength,onChange:function(e){m(K({listId:s,type:r,unitId:d,strength:e.target.value}))}})]}):null,L.command&&L.command.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.command"})}),L.command.map((function(e,t){var n=e.name_de,c=e.name_en,i=e.points,o=e.perModel,l=e.id,u=e.active,b=void 0!==u&&u,h=e.magic,p=ie({selected:null===h||void 0===h?void 0:h.selected});return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"command-".concat(l),value:l,onChange:function(){return function(e){var t,n=(null===(t=L.magic)||void 0===t?void 0:t.items)||[],a=L.command.map((function(t,a){return t.id===e?(t.active&&(n=n.filter((function(e){return e.command!==a}))),Object(g.a)(Object(g.a)({},t),{},{active:!t.active})):t}));m(K({listId:s,type:r,unitId:d,command:a,magic:Object(g.a)(Object(g.a)({},L.magic),{},{items:n})}))}(l)},checked:b,className:"checkbox__input"}),Object(N.jsxs)("label",{htmlFor:"command-".concat(l),className:"checkbox__label",children:["de"===j?n:c,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(i," ").concat(1===i?T.formatMessage({id:"app.point"}):T.formatMessage({id:"app.points"})),o&&" ".concat(T.formatMessage({id:"unit.perModel"}))]})]})]}),(null===h||void 0===h?void 0:h.maxPoints)&&b?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{className:"unit__hr"}),Object(N.jsxs)(ne,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/magic/").concat(t),className:"editor__list unit__link",active:F.pathname.includes("magic/".concat(t)),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:h.types.map((function(e){return Le[e]["name_".concat(j)]})).join(", ")}),Object(N.jsxs)("i",{className:"checkbox__points",children:[Object(N.jsx)("span",{className:v()(p>L.command[t].magic.maxPoints&&"editor__error"),children:p})," ","/ ",L.command[t].magic.maxPoints," ",Object(N.jsx)(f.a,{id:"app.points"})]}),p>L.command[t].magic.maxPoints&&Object(N.jsx)(k,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===h||void 0===h?void 0:h.selected)&&Object(N.jsx)("p",{children:h.selected.map((function(e){return e.amount>1?"".concat(e.amount,"x ")+e["name_".concat(j)]:e["name_".concat(j)]})).join(", ").replace(/\*/g,"")})]})]}):null]},l)}))]}),L.equipment&&L.equipment.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.equipment"})}),L.equipment.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"equipment-".concat(i),name:"equipment",value:i,onChange:function(){return function(e){var t=L.equipment.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(K({listId:s,type:r,unitId:d,equipment:t}))}(i)},checked:l,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"equipment-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?T.formatMessage({id:"app.point"}):T.formatMessage({id:"app.points"})),c&&" ".concat(T.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),L.armor&&L.armor.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.armor"})}),L.armor.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.perModel,i=e.id,o=e.active,l=void 0!==o&&o;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"armor-".concat(i),name:"armor",value:i,onChange:function(){return function(e){var t=L.armor.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(K({listId:s,type:r,unitId:d,armor:t}))}(i)},checked:l,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"armor-".concat(i),className:"radio__label",children:["de"===j?t:n,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(a," ").concat(1===a?T.formatMessage({id:"app.point"}):T.formatMessage({id:"app.points"})),c&&" ".concat(T.formatMessage({id:"unit.perModel"}))]})]})]},i)}))]}),L.options&&L.options.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.options"})}),L.options.map((function(e){var t=e.name_de,n=e.name_en,c=e.points,i=e.perModel,o=e.id,l=e.stackable,u=e.maximum,b=e.minimum,h=void 0===b?0:b,p=e.stackableCount,O=void 0===p?h||0:p,x=e.active,f=void 0!==x&&x;return l?Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)("label",{htmlFor:"options-".concat(o),className:"unit__special-option",children:["de"===j?t:n,":",Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(T.formatMessage({id:"app.points"})," ").concat(T.formatMessage({id:"unit.perModel"}))})]}),Object(N.jsx)(W,{id:"options-".concat(o),min:h,max:u,value:O,onChange:function(e){return function(e){var t=e.id,n=e.stackableCount,a=L.options.map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{stackableCount:n}):e}));m(K({listId:s,type:r,unitId:d,options:a}))}({id:o,stackableCount:e.target.value})}})]},o):Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"options-".concat(o),value:o,onChange:function(){return function(e){var t=L.options.map((function(t){return t.id===e?Object(g.a)(Object(g.a)({},t),{},{active:!t.active}):t}));m(K({listId:s,type:r,unitId:d,options:t}))}(o)},checked:f,className:"checkbox__input"}),Object(N.jsxs)("label",{htmlFor:"options-".concat(o),className:"checkbox__label",children:["de"===j?t:n,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?T.formatMessage({id:"app.point"}):T.formatMessage({id:"app.points"})),i&&" ".concat(T.formatMessage({id:"unit.perModel"}))]})]})]},o)}))]}),L.regimentalUnit&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(N.jsx)(f.a,{id:"unit.detachments"})}),D.map((function(e){var t=e.name_de,n=e.name_en,c=e.id;return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)("div",{className:"list",children:Object(N.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(N.jsx)("b",{className:"unit__magic-headline",children:"de"===j?t:n}),Object(N.jsx)(w,{onClick:function(){return function(e){var t=e.id,n=D.find((function(e){return e.id===t})),a=L.detachments?Object(O.a)(L.detachments):[];a.push({id:"".concat(t,".").concat(M()),name_de:n.name_de,name_en:n.name_en,points:n.points,strength:5}),m(K({listId:s,type:r,unitId:d,detachments:a}))}({id:c})},type:"secondary",icon:"add",label:T.formatMessage({id:"editor.add"}),size:"small"})]})}),L.detachments&&L.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,i=e.points;return Object(N.jsx)("div",{className:"list",children:Object(N.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(N.jsx)(W,{id:"strength-".concat(c),min:5,value:a,onChange:function(e){return function(e){var t=e.id,n=e.strength,a=Object(O.a)(L.detachments).map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{strength:n}):e}));m(K({listId:s,type:r,unitId:d,detachments:a}))}({id:c,strength:e.target.value})}}),Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"de"===j?t:n}),Object(N.jsx)("i",{children:"".concat(ce({strength:a,points:i})," ").concat(T.formatMessage({id:"app.points"}))})]}),Object(N.jsx)(w,{onClick:function(){return function(e){var t=e.id,n=Object(O.a)(L.detachments).filter((function(e){return e.id!==t}));m(K({listId:s,type:r,unitId:d,detachments:n}))}({id:c})},type:"secondary",icon:"close",label:T.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]},c)}))]}),L.mounts&&L.mounts.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.mount"})}),L.mounts.map((function(e){var t=e.name_de,n=e.name_en,a=e.points,c=e.id,i=e.active,o=void 0!==i&&i;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"mounts-".concat(c),name:"mounts",value:c,onChange:function(){return function(e){var t=L.mounts.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{active:t.id===e})}));m(K({listId:s,type:r,unitId:d,mounts:t}))}(c)},checked:o,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"radio__label",children:["de"===j?t:n,Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(a," ").concat(T.formatMessage({id:"app.points"}))})]})]},c)}))]}),L.items&&L.items.length?Object(N.jsx)("hr",{className:"unit__hr"}):null,L.items&&L.items.length?L.items.map((function(e,t){var n=ie({selected:e.selected});return Object(N.jsxs)(ne,{to:"/editor/".concat(s,"/").concat(r,"/").concat(d,"/items/").concat(t),className:"editor__list unit__link",active:F.pathname.includes("items/".concat(t)),children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{className:"unit__magic-headline",children:"de"===j?e.name_de:e.name_en}),Object(N.jsxs)("i",{className:"checkbox__points",children:[Object(N.jsx)("span",{className:v()(n>e.maxPoints&&e.maxPoints>0&&"editor__error"),children:n}),e.maxPoints>0&&Object(N.jsx)(N.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(N.jsx)(f.a,{id:"app.points"})]}),n>e.maxPoints&&e.maxPoints>0&&Object(N.jsx)(k,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),e.selected&&Object(N.jsx)("p",{children:e.selected.map((function(e){return e.amount>1?"".concat(e.amount,"x ")+e["name_".concat(j)]:e["name_".concat(j)]})).join(", ").replace(/\*/g,"")})]},t)})):null]})]})}),Ae=(n(116),function(e){var t=e.isMobile,n=Object(p.g)(),c=Object(x.a)(),i=t?E:a.Fragment,s=Object(p.h)().listId,r=Object(o.b)(),d=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){d&&le(d)}),[d]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),d?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===d||void 0===d?void 0:d.name)})}),t&&Object(N.jsx)(S,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(N.jsxs)(i,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(N.jsx)("label",{htmlFor:"name",className:"edit__label",children:Object(N.jsx)(f.a,{id:"misc.name"})}),Object(N.jsx)("input",{type:"text",id:"name",className:"input",value:d.name,onChange:function(e){r(V({listId:s,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"}),Object(N.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(N.jsx)(f.a,{id:"misc.description"})}),Object(N.jsx)("input",{type:"text",id:"description",className:"input",value:d.description,onChange:function(e){r(V({listId:s,description:e.target.value}))},autoComplete:"off",maxLength:"255"}),Object(N.jsx)("label",{htmlFor:"points",children:Object(N.jsx)(f.a,{id:"misc.points"})}),Object(N.jsx)(W,{id:"points",min:0,value:d.points,onChange:function(e){r(V({listId:s,points:Number(e.target.value)}))},required:!0})]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(N.jsx)(E,{})]})}),Ue=(n(117),function(){var e=Object(p.g)(),t=Object(x.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(a.useEffect)((function(){!function(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){t&&t()},n.onerror=function(){t&&t(new Error("Failed to load script "+e))},document.head.appendChild(n)}("https://www.paypalobjects.com/donate/sdk/donate-sdk.js",(function(){window.PayPal.Donation.Button({env:"production",hosted_button_id:"VU2Z6Q32Q656A",image:{src:"https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif",alt:"Donate with PayPal button",title:"PayPal - The safer, easier way to pay online!"}}).render("#donate-button")}))}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.about"}))})}),Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{compact:!0,children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsx)("h2",{className:"page-headline",children:Object(N.jsx)(f.a,{id:"about.title"})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"about.text",values:{owb:Object(N.jsx)("i",{children:"Old World Builder"})}})}),Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"about.support"})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"about.text3",values:{owb:Object(N.jsx)("i",{children:"Old World Builder"}),datasets:Object(N.jsx)(h.b,{to:"/datasets",children:"/datasets"}),discord:Object(N.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"about.donation"})}),Object(N.jsx)("div",{id:"donate-button-container",className:"about__donation",children:Object(N.jsx)("div",{id:"donate-button"})}),Object(N.jsx)("h2",{children:"Credits"}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"about.text2",values:{github:Object(N.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"})}})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"about.credits",values:{gameIcons:Object(N.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"}),license:Object(N.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"})}})}),Object(N.jsx)("p",{children:Object(N.jsx)("b",{children:Object(N.jsx)(f.a,{id:"about.disclaimer"})})})]})]})}),ze=function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(p.h)(),i=c.listId,s=c.type,r=Object(o.b)(),d=Object(a.useState)(null),m=Object(b.a)(d,2),j=m[0],u=m[1],h=Object(x.a)(),O=Object(p.g)(),f=I().language,_=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return i===t}))})),v=Object(o.c)((function(e){return e.army}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[O.pathname]),Object(a.useEffect)((function(){_&&!v&&We({url:"games/".concat(_.game,"/").concat(_.army),onSuccess:function(e){r(ue({lords:C(e.lords),heroes:C(e.heroes),characters:C(e.characters),core:C(e.core),special:C(e.special),rare:C(e.rare),mercenaries:C(e.mercenaries),allies:C(e.allies)}))}})}),[_,v,r]),j?Object(N.jsx)(p.a,{to:"/editor/".concat(i,"/").concat(s,"/").concat(j.id)}):v?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===_||void 0===_?void 0:_.name)})}),t&&Object(N.jsx)(S,{to:"/editor/".concat(i),headline:h.formatMessage({id:"add.title"})}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(i),headline:h.formatMessage({id:"add.title"})}),Object(N.jsx)("ul",{children:v[s].map((function(e){var t=e.name_de,n=e.name_en,a=e.id,c=e.minimum,o=e.points;return Object(N.jsxs)(ne,{onClick:function(){return function(e){var t=Object(g.a)(Object(g.a)({},v[s].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(M())});r(R({listId:i,type:s,unit:t})),u(t)}(a)},children:[Object(N.jsxs)("span",{className:"unit__name",children:[c?"".concat(c," "):null,Object(N.jsx)("b",{children:"de"===f?t:n})]}),Object(N.jsx)("i",{className:"unit__points",children:"".concat(c?o*c:o," ").concat(h.formatMessage({id:"app.points"}))})]},a)}))})]})]}):t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(i)}),Object(N.jsx)(E,{loading:!0})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(i),isSection:!0}),Object(N.jsx)(E,{loading:!0})]})},Ge=function(){var e=Object(p.g)(),t=Object(x.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.help"}))})}),Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{compact:!0,children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsx)("h2",{className:"page-headline",children:Object(N.jsx)(f.a,{id:"help.title"})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"help.text",values:{github:Object(N.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"}),discord:Object(N.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})})]})]})},Re=n(36),Ke=n.n(Re),He=n(43),Je=(n(119),function(e){var t=e.className,n=e.headline,a=e.children,c=e.notBold,i=e.open,s=e.onClick,o=e.noMargin;return Object(N.jsxs)("details",{className:v()("expandable",o&&"expandable--no-margin",t),open:i,children:[Object(N.jsx)("summary",{className:v()("expandable__summary",c&&"expandable__summary--normal"),onClick:s,children:n}),a]})});Je.defaultProps={open:!1,notBold:!1};var Ve=function(e){var t=e.units,n=e.isShowList,a=e.isCompactList,c=e.intl,i=e.language;return t.map((function(e){var t=ae(e,{asString:!0,noMagic:n}),s="";return t&&(s=a?"(".concat(t,")\n"):"- ".concat(t.split(", ").join("\n- "),"\n")),"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(i)]).concat(n?"":" ["+ce(e)+" "+c.formatMessage({id:"app.points"})+"]","\n").concat(s,"\n")})).join("")},Ze=(n(120),function(e){var t=e.list,n=e.listText,a=e.asText,c="".concat(null===t||void 0===t?void 0:t.name.toLowerCase().replace(/ /g,"-").replace(/,/g,""),".").concat(a?"txt":"owb.json"),i=new File([a?n:JSON.stringify(t)],c,{type:a?"text/plain":"application/json"});return{file:i,fileUrl:URL.createObjectURL(i),fileName:c}}),Ye=function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(x.a)(),i=Object(p.g)(),s=I().language,r=Object(p.h)().listId,d=Object(a.useState)(!1),m=Object(b.a)(d,2),j=m[0],u=m[1],h=Object(a.useState)(!1),O=Object(b.a)(h,2),g=O[0],_=O[1],v=Object(a.useState)(!1),y=Object(b.a)(v,2),k=y[0],M=y[1],C=Object(a.useState)(!1),F=Object(b.a)(C,2),T=F[0],P=F[1],B=Object(a.useState)(!1),W=Object(b.a)(B,2),L=W[0],D=W[1],A=Object(a.useState)(!1),U=Object(b.a)(A,2),z=U[0],G=U[1],R=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return r===t}))})),K=R?function(e){var t,n,a,c,i,s=e.list,o=e.isShowList,r=e.isCompactList,l=e.intl,d=e.language,m=re(s),j=oe({list:s,type:"lords"}),u=oe({list:s,type:"heroes"}),b=oe({list:s,type:"characters"}),h=oe({list:s,type:"core"}),p=oe({list:s,type:"special"}),O=oe({list:s,type:"rare"}),x=oe({list:s,type:"mercenaries"}),f=oe({list:s,type:"allies"}),g=q.find((function(e){return e.id===s.game})),_=g.armies.find((function(e){return e.id===s.army}))["name_".concat(d)],v="";return r||(v+="===\n".concat(s.name).concat(o?"":" ["+m+" "+l.formatMessage({id:"app.points"})+"]","\n").concat(g.name,", ").concat(_,"\n===\n\n")),(null===(t=s.characters)||void 0===t?void 0:t.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.characters"})).concat(o?"":" ["+b+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.characters,isShowList:o,intl:l,language:d}))),(null===(n=s.lords)||void 0===n?void 0:n.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.lords"})).concat(o?"":" ["+j+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.lords,isShowList:o,intl:l,language:d}))),(null===(a=s.heroes)||void 0===a?void 0:a.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.heroes"})).concat(o?"":" ["+u+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.heroes,isShowList:o,intl:l,language:d}))),s.core.length&&(v+="++ ".concat(l.formatMessage({id:"editor.core"})).concat(o?"":" ["+h+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.core,isShowList:o,intl:l,language:d}))),s.special.length&&(v+="++ ".concat(l.formatMessage({id:"editor.special"})).concat(o?"":" ["+p+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.special,isShowList:o,intl:l,language:d}))),s.rare.length&&(v+="++ ".concat(l.formatMessage({id:"editor.rare"})).concat(o?"":" ["+O+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.rare,isShowList:o,intl:l,language:d}))),(null===(c=s.mercenaries)||void 0===c?void 0:c.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.mercenaries"})).concat(o?"":" ["+x+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.mercenaries,isShowList:o,intl:l,language:d}))),(null===(i=s.allies)||void 0===i?void 0:i.length)&&(v+="++ ".concat(l.formatMessage({id:"editor.allies"})).concat(o?"":" ["+f+" "+l.formatMessage({id:"app.points"})+"]"," ++\n"),v+=r?"":"\n",v+="".concat(Ve({isCompactList:r,units:s.allies,isShowList:o,intl:l,language:d}))),v+"---\n".concat(l.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]')}({list:R,isShowList:L,isCompactList:z,intl:c,language:s}):"",H=Ze({list:R}),J=H.file,V=H.fileUrl,Z=H.fileName,Y=Ze({list:R,listText:K,asText:!0}),Q=Y.fileName,$=Y.fileUrl,X=function(){var e=Object(He.a)(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.asText,a={},n?M(!1):P(!1),n?a.text=K:(a.title=R.name,a.files=[J],a.text=R.description),navigator.canShare){e.next=7;break}return n?M(!0):P(!0),e.abrupt("return");case 7:return e.prev=7,e.next=10,navigator.share(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),n?M(!0):P(!0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),R?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===R||void 0===R?void 0:R.name)})}),t&&Object(N.jsx)(S,{to:"/editor/".concat(r),headline:c.formatMessage({id:"export.title"})}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(r),headline:c.formatMessage({id:"export.title"})}),Object(N.jsx)("h2",{className:"export__subtitle",children:Object(N.jsx)(f.a,{id:"export.copyTitle"})}),Object(N.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return D(!L)},checked:L,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(N.jsx)(f.a,{id:"export.visibleList"})})]}),Object(N.jsx)("p",{className:"export__description",children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"export.visibleListDescription"})})}),Object(N.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"compact",onChange:function(){return G(!z)},checked:z,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"compact",className:"checkbox__label",children:Object(N.jsx)(f.a,{id:"export.compactList"})})]}),Object(N.jsx)("p",{className:"export__description",children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"export.compactListDescription"})})}),Object(N.jsx)(Je,{headline:Object(N.jsx)(f.a,{id:"export.preview"}),children:Object(N.jsx)("textarea",{className:"export__text",value:K,readOnly:!0})}),Object(N.jsx)(w,{icon:"share",onClick:function(){return X({asText:!0})},children:Object(N.jsx)(f.a,{id:"export.shareText"})}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"export.shareDescription"})})}),k&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"export.error"})}),Object(N.jsx)(w,{icon:j?"check":"copy",onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(K).then((function(){u(!0)}),(function(){_(!0)}))},spaceTop:!0,spaceBottom:!0,children:j?c.formatMessage({id:"export.copied"}):c.formatMessage({id:"export.copy"})}),Object(N.jsx)("br",{}),g&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"export.error"})}),Object(N.jsx)(w,{icon:"download",href:$,download:Q,children:Object(N.jsx)(f.a,{id:"export.downloadAsText"})}),Object(N.jsx)("h2",{className:"export__subtitle",children:Object(N.jsx)(f.a,{id:"export.owbTitle"})}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"export.dowloadInfo"})})}),Object(N.jsx)(w,{icon:"download",href:V,download:Z,spaceBottom:!0,spaceTop:!0,children:Object(N.jsx)(f.a,{id:"export.download"})}),Object(N.jsx)("br",{}),Object(N.jsx)(w,{icon:"share",onClick:X,children:Object(N.jsx)(f.a,{id:"export.shareOwb"})}),Object(N.jsx)("p",{className:"export__description",children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"export.shareDescription"})})}),T&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"export.error"})})]})]}):null},Qe=(n(121),function(){var e=Object(p.h)().listId,t=I().language,n=Object(a.useState)(!1),c=Object(b.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(!1),l=Object(b.a)(r,2),d=l[0],m=l[1],j=Object(o.c)((function(t){return t.lists.find((function(t){var n=t.id;return e===n}))}));if(!j)return null;var u=re(j),h=oe({list:j,type:"lords"}),O=oe({list:j,type:"heroes"}),x=oe({list:j,type:"characters"}),g=oe({list:j,type:"core"}),_=oe({list:j,type:"special"}),v=oe({list:j,type:"rare"}),y=oe({list:j,type:"mercenaries"}),k=oe({list:j,type:"allies"}),M=q.find((function(e){return e.id===j.game})),C=M.armies.find((function(e){return e.id===j.army}))["name_".concat(t)];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"hide-for-printing",children:[Object(N.jsx)(w,{to:"/editor/".concat(e),centered:!0,icon:"back",spaceTop:!0,spaceBottom:!0,children:Object(N.jsx)(f.a,{id:"header.back"})}),i?Object(N.jsx)("p",{className:"print-info",children:Object(N.jsx)(f.a,{id:"print.printing"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"checkbox print-checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return m(!d)},checked:d,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(N.jsx)(f.a,{id:"export.visibleList"})})]}),Object(N.jsx)("p",{className:"print-checkbox-description",children:Object(N.jsxs)("i",{children:["(",Object(N.jsx)(f.a,{id:"export.visibleListDescription"}),")"]})}),Object(N.jsx)(w,{onClick:function(){s(!0),document.title="".concat(j.name," - Old World Builder"),window.onafterprint=function(){document.title="Old World Builder",s(!1)},window.print()},centered:!0,icon:"print",spaceTop:!0,spaceBottom:!0,children:Object(N.jsx)(f.a,{id:"misc.print"})})]})]}),Object(N.jsxs)("main",{className:"print",children:[Object(N.jsxs)("h1",{children:[j.name," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",u," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsxs)("p",{className:"print__subheader",children:[M.name,", ",C]}),"the-old-world"===j.game?Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.characters"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",x," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.characters.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.lords"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",h," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.lords.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.heroes"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",O," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.heroes.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]})]}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.core"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",g," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.core.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.special"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",_," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.special.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.rare"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",v," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.rare.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),"the-old-world"===j.game&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.mercenaries"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",y," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.mercenaries.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("h2",{children:[Object(N.jsx)(f.a,{id:"editor.allies"})," ",!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",k," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),Object(N.jsx)("ul",{children:j.allies.map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,!d&&Object(N.jsxs)("span",{className:"print__points",children:["[",ce(e)," ",Object(N.jsx)(f.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]})]})]}),Object(N.jsxs)("footer",{className:"print-footer",children:[Object(N.jsxs)("p",{children:[Object(N.jsx)(f.a,{id:"export.createdWith"})," ",Object(N.jsx)("b",{children:'"Old World Builder"'})]}),Object(N.jsxs)("p",{children:["[",Object(N.jsx)("a",{href:"https://old-world-builder.com",children:Object(N.jsx)("i",{children:"old-world-builder.com"})}),"]"]})]})]})}),$e=(n(122),function(e){var t=e.isMobile,n=Object(p.g)(),c=Object(x.a)(),i=t?E:a.Fragment,s=Object(p.h)().listId,r=Object(o.b)(),d=Object(a.useState)(""),m=Object(b.a)(d,2),j=m[0],u=m[1],h=Object(a.useState)(2e3),_=Object(b.a)(h,2),v=_[0],y=_[1],k=Object(a.useState)(""),C=Object(b.a)(k,2),F=C[0],I=C[1],T=Object(a.useState)(null),P=Object(b.a)(T,2),B=P[0],L=P[1],q=Object(o.c)((function(e){return e.lists})),D=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),Object(a.useEffect)((function(){D&&(u("".concat(c.formatMessage({id:"duplicate.copyOf"})," ").concat(null===D||void 0===D?void 0:D.name)),y(D.points),I(D.description))}),[D,c]),D?Object(N.jsxs)(N.Fragment,{children:[B&&Object(N.jsx)(p.a,{to:"/editor/".concat(B)}),Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===D||void 0===D?void 0:D.name)})}),t&&Object(N.jsx)(S,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(N.jsxs)(i,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(N.jsxs)("form",{onSubmit:function(e){var t=M(),n=[].concat(Object(O.a)(q),[Object(g.a)(Object(g.a)({},D),{},{name:j,points:v,description:F,id:t})]);e.preventDefault(),localStorage.setItem("owb.lists",JSON.stringify(n)),r(G(n)),L(t)},className:"duplicate",children:[Object(N.jsx)("label",{htmlFor:"name",children:Object(N.jsx)(f.a,{id:"misc.name"})}),Object(N.jsx)("input",{type:"text",id:"name",className:"input",value:j,onChange:function(e){u(e.target.value)},autoComplete:"off",required:!0,maxLength:"100"}),Object(N.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(N.jsx)(f.a,{id:"misc.description"})}),Object(N.jsx)("input",{type:"text",id:"description",className:"input",value:F,onChange:function(e){I(e.target.value)},autoComplete:"off",maxLength:"255"}),Object(N.jsx)("label",{htmlFor:"points",children:Object(N.jsx)(f.a,{id:"misc.points"})}),Object(N.jsx)(W,{id:"points",min:0,value:v,onChange:function(e){y(e.target.value)},required:!0}),Object(N.jsx)(w,{centered:!0,icon:"duplicate",submitButton:!0,children:Object(N.jsx)(f.a,{id:"misc.duplicate"})})]})]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(N.jsx)(E,{})]})}),Xe=(n(123),function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(p.g)(),i=Object(x.a)(),s=I().language,r=Object(p.h)(),d=r.listId,m=r.type,j=r.unitId,u=Object(o.b)(),b=Object(o.c)((function(e){return e.lists.find((function(e){var t=e.id;return d===t}))})),h=b?b[m]:null,O=h&&h.find((function(e){return e.id===j})),g=O?O["de"===s?"name_de":"name_en"]:"";return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(a.useEffect)((function(){b&&le(b)}),[b]),b?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(null===b||void 0===b?void 0:b.name)})}),t&&Object(N.jsx)(S,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(N.jsx)("label",{htmlFor:"name",className:"rename__label",children:Object(N.jsx)(f.a,{id:"misc.name"})}),Object(N.jsx)("input",{type:"text",id:"name",className:"input",value:g,onChange:function(e){u(K({listId:d,type:m,unitId:j,name:e.target.value}))},autoComplete:"off",required:!0,maxLength:"100"})]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{to:"/editor/".concat(d,"/").concat(m,"/").concat(j),headline:i.formatMessage({id:"rename.title"})}),Object(N.jsx)(E,{})]})}),et=(n(124),{name_en:"",name_de:"",id:"",points:1,minimum:0,maximum:0,regimentalUnit:!1,detachment:!1,command:[],equipment:[],armor:[],options:[],mounts:[],items:[]}),tt=["weapon","armor","armor-mages","talisman","banner","arcane-item","enchanted-item","weapon-runes","armor-runes","banner-runes","talismanic-runes","engineering-runes","triptych","knightly-virtue","knightly-virtue-character","chaos-mutation","chaos-mutation-character","chaos-mutation-chieftain","gift-of-chaos","forest-spite"],nt=function(e){var t=e.onSubmit,n=e.type,c=e.unit,i=(Math.random().toString(36)+Math.random().toString(36)).replace(/[^a-z]+/g,""),s=Object(a.useState)(c?Object(g.a)(Object(g.a)({},et),c):et),o=Object(b.a)(s,2),r=o[0],l=o[1],d=function(e){var t=e.target.id.split("-")[0];l(Object(g.a)(Object(g.a)({},r),{},Object(D.a)({},t,"number"===e.target.type?Number(e.target.value):e.target.value)))},m=function(e){var t=e.field,n=e.value;l(Object(g.a)(Object(g.a)({},r),{},Object(D.a)({},t,n)))},j=function(e){var t=e.key,n=e.field,a=e.value,c=e.index,i=r[t].map((function(e,t){return c===t?Object(g.a)(Object(g.a)({},e),{},Object(D.a)({},n,a)):e}));l(Object(g.a)(Object(g.a)({},r),{},Object(D.a)({},t,i)))},u=function(e){var t=e.index,n=e.key;l(Object(g.a)(Object(g.a)({},r),{},Object(D.a)({},n,r[n].filter((function(e,n){return n!==t})))))},h=function(e){var t=e.index,n=e.value,a=e.key,c=r[a].map((function(e,a){return a===t?Object(g.a)(Object(g.a)({},e),{},{name_de:e.name_de?e.name_de:n}):e}));l(Object(g.a)(Object(g.a)({},r),{},Object(D.a)({},a,c)))};return Object(a.useEffect)((function(){l(c?Object(g.a)(Object(g.a)({},et),c):et)}),[c]),Object(N.jsxs)("form",{onSubmit:function(e){var a=!Boolean(c);e.preventDefault(),t({unit:Object(g.a)(Object(g.a)({},r),{},{id:a?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id}),type:n,isNew:a}),a&&l(et)},children:[Object(N.jsx)("label",{htmlFor:"name_en-".concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"name_en-".concat(i),className:"input",value:r.name_en,onChange:d,autoComplete:"off",required:!0,onBlur:function(){var e=!Boolean(c);l(Object(g.a)(Object(g.a)({},r),{},{id:e?r.name_en.toLowerCase().replace(/ /g,"-").replace(/,/g,""):r.id,name_de:r.name_de?r.name_de:r.name_en}))}}),Object(N.jsx)("label",{htmlFor:"name_de-".concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"name_de-".concat(i),className:"input",value:r.name_de,onChange:d,autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"id-".concat(i),className:"edit__label",children:"ID"}),Object(N.jsx)("input",{type:"text",id:"id-".concat(i),className:"input",value:r.id,autoComplete:"off",pattern:"(([a-z]*-[a-z]*)|[a-z]*)*",disabled:!0,readOnly:!0,placeholder:"Automatically filled",required:!0}),Object(N.jsx)("label",{htmlFor:"points-".concat(i),children:"characters"===n?"Points":"Points per model"}),Object(N.jsx)(W,{id:"points-".concat(i),min:1,value:r.points,onChange:d,required:!0}),"characters"!==n&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:"minimum-".concat(i),children:"Minimum number of models"}),Object(N.jsx)(W,{id:"minimum-".concat(i),min:0,value:r.minimum,onChange:d,required:!0}),Object(N.jsx)("label",{htmlFor:"maximum-".concat(i),children:"Maximum number of models"}),Object(N.jsx)(W,{id:"maximum-".concat(i),min:0,value:r.maximum,onChange:d,required:!0}),Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"regimentalUnit-".concat(i),onChange:function(){return m({field:"regimentalUnit",value:!r.regimentalUnit})},checked:r.regimentalUnit,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"regimentalUnit-".concat(i),className:"checkbox__label",children:"Unit can have detachments"})]}),Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"detachment-".concat(i),onChange:function(){return m({field:"detachment",value:!r.detachment})},checked:r.detachment,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"detachment-".concat(i),className:"checkbox__label",children:"Unit is a detachment"})]})]}),"characters"!==n&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"Command"}),Object(N.jsx)("p",{className:"datasets__paragraph",children:"All command options are NOT mutually exclusive."}),r.command.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"command-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"command-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"command",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"command",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"command-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"command-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"command",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"command-points".concat(t,"-").concat(i),children:"Points"}),Object(N.jsx)(W,{id:"command-points".concat(t,"-").concat(i),value:e.points,onChange:function(e){return j({index:t,key:"command",field:"points",value:Number(e.target.value)})},required:!0}),Object(N.jsxs)(Je,{headline:"Allowed magic item categories",children:[tt.map((function(n,a){return Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"".concat(n).concat(a,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.item,a=e.index,c=r.command.map((function(e,c){return c===a?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{types:"on"===t?[].concat(Object(O.a)(e.magic.types),[n]):e.magic.types.filter((function(e){return e!==n}))})}):e}));l(Object(g.a)(Object(g.a)({},r),{},{command:c}))}({index:t,value:e.magic.types.includes(n)?"off":"on",item:n})},checked:e.magic.types.includes(n),className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"".concat(n).concat(a,"-").concat(i),className:"checkbox__label",children:n})]},n)})),Object(N.jsx)("label",{htmlFor:"command-magic-points-".concat(t,"-").concat(i),children:"Max. magic item points"}),Object(N.jsx)(W,{id:"command-magic-points-".concat(t,"-").concat(i),min:0,value:e.magic.maxPoints,onChange:function(e){return function(e){var t=e.value,n=e.index,a=r.command.map((function(e,a){return a===n?Object(g.a)(Object(g.a)({},e),{},{magic:Object(g.a)(Object(g.a)({},e.magic),{},{maxPoints:t})}):e}));l(Object(g.a)(Object(g.a)({},r),{},{command:a}))}({index:t,value:Number(e.target.value)})}})]}),c?Object(N.jsx)(w,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",onClick:function(){return u({index:t,key:"command"})},children:"Remove entry"}):null]},t)})),Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{command:[].concat(Object(O.a)(r.command),[{name_en:"",name_de:"",points:1,magic:{types:[],maxPoints:0}}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New entry"})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"Weapon"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["All weapon options are mutually exclusive and please add a default weapon.",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:'(e.g. "Hand weapon" or "Great weapon")'})]}),r.equipment.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"equipment-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"equipment-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"equipment",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"equipment",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"equipment-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"equipment-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"equipment",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"equipment-points".concat(t,"-").concat(i),children:"Points"}),Object(N.jsx)(W,{id:"equipment-points".concat(t,"-").concat(i),value:e.points,onChange:function(e){return j({index:t,key:"equipment",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"equipment-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"equipment-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"equipment-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"equipment",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"equipment-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:'(e.g. when "Hand weapon" is the default equipment)'})}),c?Object(N.jsx)(w,{type:"text",color:"dark",spaceBottom:!0,icon:"delete",spaceTop:!0,onClick:function(){return u({index:t,key:"equipment"})},children:"Remove entry"}):null]},t)})),Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{equipment:[].concat(Object(O.a)(r.equipment),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New weapon"}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"Armor"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["All armor options are mutually exclusive and please add a default armor.",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:'(e.g. "Light armour" or "Heavy armour")'})]}),r.armor.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"armor-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"armor-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"armor",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"armor",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"armor-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"armor-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"armor",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"armor-points".concat(t,"-").concat(i),children:"Points"}),Object(N.jsx)(W,{id:"armor-points".concat(t,"-").concat(i),value:e.points,onChange:function(e){return j({index:t,key:"armor",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"armor-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"armor-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"armor-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"armor",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"armor-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:'(e.g. when "Light armour" is the default equipment)'})}),c?Object(N.jsx)(w,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"armor"})},children:"Remove entry"}):null]},t)})),Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{armor:[].concat(Object(O.a)(r.armor),[{name_en:"",name_de:"",points:1,perModel:!0,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New armor"}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"Options"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["All options are NOT mutually exclusive.",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:'(e.g. "Shield")'})]}),r.options.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"options-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"options-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"options",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"options",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"options-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"options-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"options",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"options-points".concat(t,"-").concat(i),children:"Points"}),Object(N.jsx)(W,{id:"options-points".concat(t,"-").concat(i),value:e.points,onChange:function(e){return j({index:t,key:"options",field:"points",value:Number(e.target.value)})},required:!0}),"characters"!==n?Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"options-perModel".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"perModel",value:!e.perModel})},checked:e.perModel,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"options-perModel".concat(t,"-").concat(i),className:"checkbox__label",children:"Points count for each model"})]}):null,Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"options-stackable".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"options",field:"stackable",value:!e.stackable})},checked:e.stackable,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"options-stackable".concat(t,"-").concat(i),className:"checkbox__label",children:"Allow multiple selections"})]}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:"(e.g. for Nightgoblin Fanatics)"})}),e.stackable&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)("label",{htmlFor:"options-minimum".concat(t,"-").concat(i),children:"Minimum"}),Object(N.jsx)(W,{id:"options-minimum".concat(t,"-").concat(i),min:0,value:e.minimum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0}),Object(N.jsx)("label",{htmlFor:"options-maximum".concat(t,"-").concat(i),children:"Maximum"}),Object(N.jsx)(W,{id:"options-maximum".concat(t,"-").concat(i),min:0,value:e.maximum,onChange:function(e){return j({index:t,key:"options",field:"stackable",value:Number(e.target.value)})},required:!0})]}),c?Object(N.jsx)(w,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"options"})},children:"Remove entry"}):null]},t)})),Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{options:[].concat(Object(O.a)(r.options),[{name_en:"",name_de:"",points:1,perModel:!0,stackable:!1,minimum:0,maximum:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New option"}),"characters"===n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"Mounts"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["All mount options are mutually exclusive and please add a default mount.",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:'(e.g. "On foot" or "Hippogryph")'})]}),r.mounts.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"mounts-name_en".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"mounts-name_en".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"mounts",field:"name_en",value:e.target.value})},onBlur:function(e){return h({index:t,key:"mounts",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"mounts-name_de".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"mounts-name_de".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"mounts",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"mounts-points".concat(t,"-").concat(i),children:"Points"}),Object(N.jsx)(W,{id:"mounts-points".concat(t,"-").concat(i),value:e.points,onChange:function(e){return j({index:t,key:"mounts",field:"points",value:Number(e.target.value)})},required:!0}),Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"mounts-active".concat(t,"-").concat(i),onChange:function(){return j({index:t,key:"mounts",field:"active",value:!e.active})},checked:e.active,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"mounts-active".concat(t,"-").concat(i),className:"checkbox__label",children:"Selected by default"})]}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:'(e.g. when "On foot" is the default mount)'})}),c?Object(N.jsx)(w,{type:"text",color:"dark",spaceBottom:!0,spaceTop:!0,icon:"delete",onClick:function(){return u({index:t,key:"mounts"})},children:"Remove entry"}):null]},t)})),Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{mounts:[].concat(Object(O.a)(r.mounts),[{name_en:"",name_de:"",points:1,active:!1}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New mount"})]}):null,Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"(Magic) items"}),Object(N.jsx)("p",{className:"datasets__paragraph",children:"Specify what types of items are allowed. Can also be used for chaos mutations, knightly vitues or similar."}),r.items&&r.items.length?r.items.map((function(e,t){return Object(N.jsxs)("div",{className:"entity__second-level",children:[Object(N.jsx)("label",{htmlFor:"magic-name_en-".concat(t,"-").concat(i),children:"Name English"}),Object(N.jsx)("input",{type:"text",id:"magic-name_en-".concat(t,"-").concat(i),className:"input",value:e.name_en,onChange:function(e){return j({index:t,key:"items",field:"name_en",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)("label",{htmlFor:"magic-name_de-".concat(t,"-").concat(i),children:"Name German"}),Object(N.jsx)("input",{type:"text",id:"magic-name_de-".concat(t,"-").concat(i),className:"input",value:e.name_de,onChange:function(e){return j({index:t,key:"items",field:"name_de",value:e.target.value})},autoComplete:"off",required:!0}),Object(N.jsx)(Je,{headline:"Allowed (magic) item types",children:tt.map((function(n,a){return Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),onChange:function(){return function(e){var t=e.value,n=e.type,a=e.itemIndex,c=r.items.map((function(e,c){return a===c?Object(g.a)(Object(g.a)({},e),{},{types:"on"===t?[].concat(Object(O.a)(r.items[a].types),[n]):r.items[a].types.filter((function(e){return e!==n}))}):e}));l(Object(g.a)(Object(g.a)({},r),{},{items:c}))}({value:e.types.includes(n)?"off":"on",type:n,itemIndex:t})},checked:e.types.includes(n),className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"".concat(n,"-").concat(a,"-").concat(t,"-").concat(i),className:"checkbox__label",children:n})]},n)}))}),Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"mutually-exclusive-".concat(t,"-").concat(i),onChange:function(n){return j({index:t,key:"items",field:"mutuallyExclusive",value:!e.mutuallyExclusive})},checked:e.mutuallyExclusive,className:"checkbox__input"}),Object(N.jsx)("label",{htmlFor:"mutually-exclusive-".concat(t,"-").concat(i),className:"checkbox__label",children:"Mutually exclusive"})]}),Object(N.jsx)("label",{htmlFor:"magic-points-".concat(i),children:"Max. points"}),Object(N.jsx)(W,{id:"magic-points-".concat(t,"-").concat(i),min:0,value:e.maxPoints,onChange:function(e){return j({index:t,key:"items",field:"maxPoints",value:Number(e.target.value)})}})]},t)})):null,Object(N.jsx)(w,{type:"secondary",icon:"add",onClick:function(){l(Object(g.a)(Object(g.a)({},r),{},{items:[].concat(Object(O.a)(r.items),[{name_en:"Magic Items",name_de:"Magische Gegenst\xe4nde",types:[],selected:[],mutuallyExclusive:!1,maxPoints:0}])}))},spaceBottom:!0,className:"entity__second-level-button",children:"New category"}),Object(N.jsx)(w,{submitButton:!0,spaceBottom:!0,icon:c?"add-list":"new-list",children:c?"Update unit":"Add unit"})]})},at=(n(125),function(e){var t=e.unit,n=e.coreUnits,c=e.onClose,i=I().language,s=Object(x.a)(),o=n.filter((function(e){return e.detachment}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("button",{onClick:c,className:"unit-preview-background"}),Object(N.jsx)("div",{className:"unit-preview",children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{isSection:!0,headline:t["name_".concat(i)],subheadline:"".concat(ce(t)," ").concat(s.formatMessage({id:"app.points"}))}),Object(N.jsx)(w,{className:"unit-preview__close",icon:"close",type:"text",label:"Close preview",color:"dark",onClick:c}),!t.minimum&&(!t.command||t.command&&!t.command.length)&&(!t.equipment||t.equipment&&!t.equipment.length)&&(!t.armor||t.armor&&!t.armor.length)&&(!t.mounts||t.mounts&&!t.mounts.length)&&(!t.magic||t.magic&&!t.magic.maxPoints)&&(!t.items||t.items&&!t.items.length)&&(!t.options||t.options&&!t.options.length)&&Object(N.jsx)("i",{className:"unit__empty",children:Object(N.jsx)(f.a,{id:"unit.noOptions"})}),t.minimum?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(N.jsx)(f.a,{id:"unit.unitSize"})}),Object(N.jsx)(W,{id:"strength",min:t.minimum,max:t.maximum,value:t.strength,onChange:function(){}})]}):null,t.command&&t.command.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.command"})}),t.command.map((function(e,n){var c,o,r=e.name_de,l=e.name_en,d=e.points,m=e.perModel,j=e.active,u=void 0!==j&&j,b=e.magic,h=0;return t.magic&&t.magic.items&&t.magic.items.filter((function(e){return e.command===n})).forEach((function(e){var t=e.points;h+=t})),Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"command-".concat(n),defaultChecked:u,className:"checkbox__input"}),Object(N.jsxs)("label",{htmlFor:"command-".concat(n),className:"checkbox__label",children:["de"===i?r:l,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(d," ").concat(1===d?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),m&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]}),(null===b||void 0===b?void 0:b.maxPoints)&&u?Object(N.jsxs)(ne,{className:"editor__list unit__link",active:!1,children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{children:b.types.map((function(e){return Le[e]["name_".concat(i)]})).join(", ")}),Object(N.jsxs)("i",{className:"checkbox__points",children:[Object(N.jsx)("span",{className:v()(h>t.command[n].magic.maxPoints&&"editor__error"),children:se(null===t||void 0===t||null===(c=t.magic)||void 0===c?void 0:c.selected.filter((function(e){return e.command===n})))})," ","/ ",t.command[n].magic.maxPoints," ",Object(N.jsx)(f.a,{id:"app.points"})]}),h>t.command[n].magic.maxPoints&&Object(N.jsx)(k,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===t||void 0===t||null===(o=t.magic)||void 0===o?void 0:o.items)&&Object(N.jsx)("p",{children:t.magic.items.filter((function(e){return e.command===n})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]}):null]},n)}))]}),t.equipment&&t.equipment.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.equipment"})}),t.equipment.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"equipment-".concat(t),name:"equipment",defaultChecked:l,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"equipment-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.armor&&t.armor.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.armor"})}),t.armor.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.perModel,r=e.active,l=void 0!==r&&r;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"armor-".concat(t),name:"armor",defaultChecked:l,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"armor-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),o&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.options&&t.options.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.options"})}),t.options.map((function(e,t){var n=e.name_de,c=e.name_en,o=e.points,r=e.perModel,l=e.stackable,d=e.maximum,m=e.minimum,j=void 0===m?0:m,u=e.stackableCount,b=void 0===u?j||0:u,h=e.active,p=void 0!==h&&h;return l?Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)("label",{htmlFor:"options-".concat(t),className:"unit__special-option",children:["de"===i?n:c,":",Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(o," ").concat(s.formatMessage({id:"app.points"})," ").concat(s.formatMessage({id:"unit.perModel"}))})]}),Object(N.jsx)(W,{id:"options-".concat(t),min:j,max:d,value:b,onChange:function(){}})]},t):Object(N.jsxs)("div",{className:"checkbox",children:[Object(N.jsx)("input",{type:"checkbox",id:"options-".concat(t),defaultChecked:p,className:"checkbox__input"}),Object(N.jsxs)("label",{htmlFor:"options-".concat(t),className:"checkbox__label",children:["de"===i?n:c,Object(N.jsxs)("i",{className:"checkbox__points",children:["".concat(o," ").concat(1===o?s.formatMessage({id:"app.point"}):s.formatMessage({id:"app.points"})),r&&" ".concat(s.formatMessage({id:"unit.perModel"}))]})]})]},t)}))]}),t.regimentalUnit&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(N.jsx)(f.a,{id:"unit.detachments"})}),o.map((function(e){var n=e.name_de,a=e.name_en,c=e.id;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"list",children:Object(N.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(N.jsx)("b",{className:"unit__magic-headline",children:"de"===i?n:a}),Object(N.jsx)(w,{type:"secondary",icon:"add",label:s.formatMessage({id:"editor.add"}),size:"small"})]})},c),t.detachments&&t.detachments.filter((function(e){return e.id.split(".")[0]===c.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,a=e.strength,c=e.id,o=e.points;return Object(N.jsx)("div",{className:"list",children:Object(N.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(N.jsx)(W,{id:"strength-".concat(c),min:5,value:a,onChange:function(){}}),Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"de"===i?t:n}),Object(N.jsx)("i",{children:"".concat(ce({strength:a,points:o})," ").concat(s.formatMessage({id:"app.points"}))})]}),Object(N.jsx)(w,{type:"secondary",icon:"close",label:s.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]})}))]}),t.mounts&&t.mounts.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"unit__subline",children:Object(N.jsx)(f.a,{id:"unit.mount"})}),t.mounts.map((function(e,t){var n=e.name_de,a=e.name_en,c=e.points,o=e.active,r=void 0!==o&&o;return Object(N.jsxs)("div",{className:"radio",children:[Object(N.jsx)("input",{type:"radio",id:"mounts-".concat(t),name:"mounts",defaultChecked:r,className:"radio__input"}),Object(N.jsxs)("label",{htmlFor:"mounts-".concat(t),className:"radio__label",children:["de"===i?n:a,Object(N.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(s.formatMessage({id:"app.points"}))})]})]},t)}))]}),t.items&&t.items.length?Object(N.jsx)("hr",{className:"unit__hr"}):null,t.items&&t.items.length?t.items.map((function(e,t){return Object(N.jsxs)(ne,{className:"editor__list unit__link",active:!1,children:[Object(N.jsxs)("div",{className:"editor__list-inner",children:[Object(N.jsx)("b",{className:"unit__magic-headline",children:e.name_en}),Object(N.jsxs)("i",{className:"checkbox__points",children:[Object(N.jsx)("span",{children:0}),e.maxPoints>0&&Object(N.jsx)(N.Fragment,{children:" / ".concat(e.maxPoints)})," ",Object(N.jsx)(f.a,{id:"app.points"})]})]}),e.items&&Object(N.jsx)("p",{children:e.items.map((function(e){var t=e.name_de,n=e.name_en;return"de"===i?t:n})).join(", ")})]},t)})):null]})})]})}),ct=(n(126),function(e){e.isMobile;var t=Object(p.g)(),n=Object(a.useState)(!1),c=Object(b.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(null),r=Object(b.a)(o,2),d=r[0],m=r[1],j=Object(a.useState)(""),u=Object(b.a)(j,2),h=u[0],_=u[1],v=Object(a.useState)(!1),y=Object(b.a)(v,2),k=y[0],M=y[1],C=Object(a.useState)(!1),I=Object(b.a)(C,2),T=I[0],P=I[1],W=Object(a.useState)("empire-of-man"),L=Object(b.a)(W,2),A=L[0],U=L[1],z="the-old-world",G=localStorage.getItem("owb.dataset"),R=Object(a.useState)({characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[]}),K=Object(b.a)(R,2),H=K[0],J=K[1],V=Object(x.a)(),Z=function(e){var t=e.unit,n=e.isNew,a=e.type;if(n){var c=Object(g.a)(Object(g.a)({},H),{},Object(D.a)({},a,[].concat(Object(O.a)(H[a]),[t])));J(c),localStorage.setItem("owb.dataset",JSON.stringify(c,null,2))}else{var i=Object(g.a)(Object(g.a)({},H),{},Object(D.a)({},a,H[a].map((function(e){return e.id===t.id?t:e}))));J(i),localStorage.setItem("owb.dataset",JSON.stringify(i,null,2))}window.scrollTo(0,0)},Y=function(e){var t=e.id,n=e.type,a=Object(g.a)(Object(g.a)({},H),{},Object(D.a)({},n,H[n].filter((function(e){return e.id!==t}))));J(a),localStorage.setItem("owb.dataset",JSON.stringify(a,null,2)),window.scrollTo(0,0)},Q=function(e){var t=e.unit;m(t)};return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(V.formatMessage({id:"footer.datasets"}))})}),Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{className:"datasets",children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,spaceBottom:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsxs)("div",{className:"datasets__info",children:[Object(N.jsx)("h2",{className:"page-headline",children:"Datasets Editor"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["Thank you for taking the time to improve the"," ",Object(N.jsx)("i",{children:"Old World Builder"}),"! You can expand existing army data, add missing translations or create a new army dataset."]}),Object(N.jsx)("h3",{children:"What is a dataset?"}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["A datasets contains the data of all units required to create an army list in the ",Object(N.jsx)("i",{children:"Old World Builder"}),". The datasets for each army are defined in a"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON",children:"JSON format"})," ","(although you don't have to edit these manually)."]}),Object(N.jsx)("h3",{children:"Notes before you get started"}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:'Currently only datasets for "Warhammer: The Old World" can be created on this page'}),Object(N.jsx)("li",{children:"Translate texts from the army books very carefully and exactly as they appear in the book"}),Object(N.jsx)("li",{children:"Proofread after you're done"}),Object(N.jsxs)("li",{children:["If a special rule cannot be mapped, write to us in"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/87nUyjUxTU",children:"Discord"})]})]})]}),Object(N.jsxs)("div",{className:"datasets__columns",children:[Object(N.jsxs)("section",{className:"column datasets__column",children:[Object(N.jsx)("header",{className:"editor__header",children:Object(N.jsx)("h2",{children:"Load a dataset"})}),Object(N.jsx)(B,{options:q.filter((function(e){return e.id===z}))[0].armies,onChange:function(e){U(e)},selected:"empire-of-man",spaceTop:!0,spaceBottom:!0,required:!0}),Object(N.jsx)(w,{onClick:function(){s(!0),We({url:"games/".concat(z,"/").concat(A),onSuccess:function(e){J(e),localStorage.setItem("owb.dataset",JSON.stringify(e,null,2)),s(!1)}})},children:"Load existing dataset"}),Object(N.jsx)("hr",{}),Object(N.jsx)("input",{type:"text",name:"army",className:"input",autoComplete:"off",value:h,onChange:function(e){_(e.target.value)},placeholder:"Paste your .json file"}),Object(N.jsx)(w,{onClick:function(){try{J(JSON.parse(h)),localStorage.setItem("owb.dataset",h),_("")}catch(e){console.log(e)}},children:"Load from .json"}),Object(N.jsx)("hr",{}),Object(N.jsx)(w,{disabled:!Boolean(G),onClick:function(){try{J(JSON.parse(localStorage.getItem("owb.dataset")))}catch(e){console.log(e)}},spaceBottom:!0,children:"Load local dataset"}),Object(N.jsx)("p",{children:"The most current dataset is always saved locally, so you can continue working on it even after a reload."})]}),Object(N.jsxs)("section",{className:"column datasets__column",children:[Object(N.jsx)("header",{className:"editor__header",children:Object(N.jsx)("h2",{children:"Edit units"})}),i?Object(N.jsx)(F,{}):Object(N.jsxs)(N.Fragment,{children:[H.characters.length>0&&Object(N.jsx)("h3",{className:"datasets__edit-headline",children:"Characters"}),Object(N.jsx)("ul",{children:H.characters.map((function(e,t){return Object(N.jsx)(Je,{headline:Object(N.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(N.jsxs)("span",{children:[Object(N.jsx)(w,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Y({type:"characters",id:e.id})}}),Object(N.jsx)(w,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return Q({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(N.jsx)(nt,{unit:e,type:"characters",onSubmit:Z})},t)}))}),H.core.length>0&&Object(N.jsx)("h3",{className:"datasets__edit-headline",children:"Core Units"}),Object(N.jsx)("ul",{children:H.core.map((function(e,t){return Object(N.jsx)(Je,{headline:Object(N.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(N.jsxs)("span",{children:[Object(N.jsx)(w,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Y({type:"core",id:e.id})}}),Object(N.jsx)(w,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return Q({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(N.jsx)(nt,{unit:e,type:"core",onSubmit:Z,onDelete:Y})},t)}))}),H.special.length>0&&Object(N.jsx)("h3",{className:"datasets__edit-headline",children:"Special Units"}),Object(N.jsx)("ul",{children:H.special.map((function(e,t){return Object(N.jsx)(Je,{headline:Object(N.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(N.jsxs)("span",{children:[Object(N.jsx)(w,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Y({type:"special",id:e.id})}}),Object(N.jsx)(w,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return Q({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(N.jsx)(nt,{unit:e,type:"special",onSubmit:Z,onDelete:Y})},t)}))}),H.rare.length>0&&Object(N.jsx)("h3",{className:"datasets__edit-headline",children:"Rare Units"}),Object(N.jsx)("ul",{children:H.rare.map((function(e,t){return Object(N.jsx)(Je,{headline:Object(N.jsxs)("span",{className:"dataset__unit-header",children:[e.name_en,Object(N.jsxs)("span",{children:[Object(N.jsx)(w,{icon:"delete",type:"text",label:"Delete unit",color:"dark",onClick:function(){return Y({type:"rare",id:e.id})}}),Object(N.jsx)(w,{icon:"preview",type:"text",label:"Preview unit",color:"dark",onClick:function(){return Q({unit:e})}})]})]}),noMargin:!0,className:"datasets__unit-type datasets__unit",children:Object(N.jsx)(nt,{unit:e,type:"rare",onSubmit:Z,onDelete:Y})},t)}))})]})]}),Object(N.jsxs)("section",{className:"column datasets__column",children:[Object(N.jsx)("header",{className:"editor__header",children:Object(N.jsx)("h2",{children:"Add new unit"})}),Object(N.jsx)(Je,{headline:"Character",noMargin:!0,className:"datasets__unit-type",children:Object(N.jsx)(nt,{type:"characters",onSubmit:Z})}),Object(N.jsx)(Je,{headline:"Core Unit",noMargin:!0,className:"datasets__unit-type",children:Object(N.jsx)(nt,{type:"core",onSubmit:Z})}),Object(N.jsx)(Je,{headline:"Special Unit",noMargin:!0,className:"datasets__unit-type",children:Object(N.jsx)(nt,{type:"special",onSubmit:Z})}),Object(N.jsx)(Je,{headline:"Rare Unit",noMargin:!0,className:"datasets__unit-type",children:Object(N.jsx)(nt,{type:"rare",onSubmit:Z})})]}),Object(N.jsxs)("section",{className:"column datasets__column",children:[Object(N.jsx)("header",{className:"editor__header",children:Object(N.jsx)("h2",{children:"JSON output"})}),Object(N.jsx)(w,{icon:k?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(H,null,2)).then((function(){M(!0)}),(function(){P(!0)}))},children:k?"Copied":"Copy JSON"}),T&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"export.error"})}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["When you're done editing, copy the text and post it in the"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.com/channels/1120710419108085780/1120720528068583434",children:'"Datasets Contribution" Discord Channel'}),"."]}),Object(N.jsxs)("p",{className:"datasets__paragraph",children:["If you're a bit tech-savvy, you can also create a pull request directly in"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/nthiebes/old-world-builder/pulls",children:"GitHub"}),"."]}),Object(N.jsx)("textarea",{className:"datasets__output",rows:"10",spellCheck:"false","data-gramm":"false",value:JSON.stringify(H,null,2),onChange:function(){}})]})]}),d?Object(N.jsx)(at,{unit:Object(g.a)(Object(g.a)({},d),{},{strength:0}),onClose:function(){return m(null)},coreUnits:H.core}):null]})]})}),it=function(){var e=Object(p.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | 404"})}),Object(N.jsx)(S,{headline:"Old World Builder"}),Object(N.jsxs)(E,{compact:!0,children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsx)("h2",{children:Object(N.jsx)(f.a,{id:"404.title"})}),Object(N.jsx)("p",{children:Object(N.jsx)(f.a,{id:"404.title"})})]})]})},st=function(){var e=Object(p.g)(),t=Object(x.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.privacy"}))})}),Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{compact:!0,children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsx)("h2",{className:"page-headline",children:Object(N.jsx)(f.a,{id:"footer.privacy"})}),Object(N.jsx)("p",{children:'The "Old World Builder" is built as an Open Source app. This SERVICE is provided by at no cost and is intended for use as is.'}),Object(N.jsx)("p",{children:"This page is used to inform visitors regarding my policies with the collection, use, and disclosure of Personal Information if anyone decided to use my Service."}),Object(N.jsx)("p",{children:"If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy."}),Object(N.jsx)("h3",{children:"Information Collection and Use"}),Object(N.jsx)("p",{children:"This app does not collect or store personal data."}),Object(N.jsx)("p",{children:"The app does use third-party services that may collect information used to identify you."}),Object(N.jsx)("p",{children:"Links to the privacy policy of third-party service providers used by the app:"}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)("a",{href:"https://www.google.com/policies/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Google Play Services"})}),Object(N.jsx)("li",{children:Object(N.jsx)("a",{href:"https://sentry.io/privacy/",target:"_blank",rel:"noopener noreferrer",children:"Sentry"})})]}),Object(N.jsx)("br",{}),Object(N.jsx)("h3",{children:"Log Data"}),Object(N.jsx)("p",{children:"I want to inform you that whenever you use my Service, in a case of an error in the app I collect data and information (through third-party products) on your phone called Log Data. This Log Data may include information such as your device Internet Protocol (\u201cIP\u201d) address, device name, operating system version, the configuration of the app when utilizing my Service, the time and date of your use of the Service, and other statistics."}),Object(N.jsx)("h3",{children:"Cookies"}),Object(N.jsx)("p",{children:"Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory."}),Object(N.jsx)("p",{children:"This Service does not use these \u201ccookies\u201d."}),Object(N.jsx)("h3",{children:"Links to Other Sites"}),Object(N.jsx)("p",{children:"This Service contains links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),Object(N.jsx)("h3",{children:"Changes to This Privacy Policy"}),Object(N.jsx)("p",{children:"I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page."}),Object(N.jsx)("p",{children:"This policy is effective as of 2024-01-04."}),Object(N.jsx)("h3",{children:"Contact Us"}),Object(N.jsxs)("p",{children:["If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at"," ",Object(N.jsx)(h.b,{to:"/help",children:"old-world-builder.com/help"}),"."]})]})]})},ot=n(15),rt=(n(127),function(){var e=Object(p.g)(),t=Object(x.a)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.changelog"}))})}),Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{compact:!0,className:"changelog",children:[Object(N.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(N.jsx)(f.a,{id:"misc.startpage"})}),Object(N.jsx)("h2",{className:"page-headline",children:Object(N.jsx)(f.a,{id:"changelog.title"})}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"v0.6.11"}),Object(N.jsx)("p",{children:Object(N.jsx)("time",{children:Object(N.jsx)("i",{children:Object(N.jsx)(ot.a,{value:new Date("2024-01-17 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(N.jsxs)("ul",{className:"changelog__list",children:[Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change9",values:{b:function(e){return Object(N.jsx)("b",{children:e})}}})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change10",values:{b:function(e){return Object(N.jsx)("b",{children:e})},about:Object(N.jsx)(h.b,{to:"/about",children:Object(N.jsx)(f.a,{id:"footer.about"})})}})})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"v0.6.0"}),Object(N.jsx)("p",{children:Object(N.jsx)("time",{children:Object(N.jsx)("i",{children:Object(N.jsx)(ot.a,{value:new Date("2024-01-14 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(N.jsx)("ul",{className:"changelog__list",children:Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change8",values:{b:function(e){return Object(N.jsx)("b",{children:e})}}})})}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"v0.5.0"}),Object(N.jsx)("p",{children:Object(N.jsx)("time",{children:Object(N.jsx)("i",{children:Object(N.jsx)(ot.a,{value:new Date("2024-01-13 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(N.jsxs)("ul",{className:"changelog__list",children:[Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change4",values:{b:function(e){return Object(N.jsx)("b",{children:e})}}})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change5",values:{b:function(e){return Object(N.jsx)("b",{children:e})}}})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change6",values:{b:function(e){return Object(N.jsx)("b",{children:e})}}})})]}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:Object(N.jsx)(f.a,{id:"changelog.change7",values:{discord:Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/87nUyjUxTU",children:"Discord"})}})})}),Object(N.jsx)("hr",{}),Object(N.jsx)("h3",{children:"v0.4.2"}),Object(N.jsx)("p",{children:Object(N.jsx)("time",{children:Object(N.jsx)("i",{children:Object(N.jsx)(ot.a,{value:new Date("2024-01-07 11:11:11"),month:"long",day:"2-digit",year:"numeric"})})})}),Object(N.jsxs)("ul",{className:"changelog__list",children:[Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change0",values:{datasets:Object(N.jsx)(h.b,{to:"/datasets",children:Object(N.jsx)(f.a,{id:"footer.datasets"})})}})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change1"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.a,{id:"changelog.change2",values:{privacy:Object(N.jsx)(h.b,{to:"/privacy",children:Object(N.jsx)(f.a,{id:"footer.privacy"})})}})})]})]})]})}),lt=(n(128),function(e){var t=e.isMobile,n=t?E:a.Fragment,c=Object(p.g)(),i=Object(o.b)(),s=Object(x.a)(),r=Object(o.c)((function(e){return e.lists})),l=Object(a.useState)(null),d=Object(b.a)(l,2),m=d[0],j=d[1],u=Object(a.useState)(!1),h=Object(b.a)(u,2),_=h[0],v=h[1],y=Object(a.useState)(!1),k=Object(b.a)(y,2),C=k[0],F=k[1],I=Object(a.useState)(null),T=Object(b.a)(I,2),P=T[0],B=T[1],W=Object(a.createRef)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(N.jsxs)(N.Fragment,{children:[P&&Object(N.jsx)(p.a,{to:"/editor/".concat(P)}),t&&Object(N.jsx)(S,{to:"/",headline:s.formatMessage({id:"import.title"})}),Object(N.jsxs)(n,{children:[!t&&Object(N.jsx)(S,{isSection:!0,to:"/",headline:s.formatMessage({id:"import.title"})}),Object(N.jsxs)("form",{onSubmit:function(e){var t=new FileReader;v(!1),t.readAsText(m,"UTF-8"),t.onload=function(e){var t=M(),n=Object(g.a)(Object(g.a)({},JSON.parse(e.target.result)),{},{id:t}),a=[].concat(Object(O.a)(r),[n]);localStorage.setItem("owb.lists",JSON.stringify(a)),i(G(a)),B(n.id)},t.onerror=function(){v(!0)},e.preventDefault()},className:"import",children:[Object(N.jsx)("label",{htmlFor:"list",children:Object(N.jsx)(f.a,{id:"import.description"})}),Object(N.jsx)("input",{type:"file",accept:".json, application/json",id:"list",className:"input",onChange:function(){var e=W.current.files;e.length>0&&("application/json"===e[0].type?(F(!1),j(e[0])):F(!0))},autoComplete:"off",required:!0,ref:W}),C&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"import.typeError"})}),_&&Object(N.jsx)("p",{className:"export__error",children:Object(N.jsx)(f.a,{id:"export.error"})}),Object(N.jsx)(w,{centered:!0,icon:"add-list",submitButton:!0,spaceTop:!0,children:Object(N.jsx)(f.a,{id:"import.button"})})]})]})]})}),dt=(n(129),function(){var e=Object(o.b)(),t=Object(a.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(b.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("owb.lists");e(G(JSON.parse(t)))}),[e]),Object(a.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return i(e.matches)}))}),[]),Object(N.jsx)(h.a,{children:c?Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{path:"/editor/:listId/edit",children:Object(N.jsx)(Ae,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/export",children:Object(N.jsx)(Ye,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/duplicate",children:Object(N.jsx)($e,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/add/:type",children:Object(N.jsx)(ze,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(N.jsx)(qe,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(N.jsx)(Xe,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(N.jsx)(qe,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId",children:Object(N.jsx)(De,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/editor/:listId",children:Object(N.jsx)(de,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/import",children:Object(N.jsx)(lt,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/new",children:Object(N.jsx)(X,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/about",children:Object(N.jsx)(Ue,{})}),Object(N.jsx)(p.b,{path:"/help",children:Object(N.jsx)(Ge,{})}),Object(N.jsx)(p.b,{path:"/privacy",children:Object(N.jsx)(st,{})}),Object(N.jsx)(p.b,{path:"/datasets",children:Object(N.jsx)(ct,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"/changelog",children:Object(N.jsx)(rt,{})}),Object(N.jsx)(p.b,{path:"/print/:listId",children:Object(N.jsx)(Qe,{})}),Object(N.jsx)(p.b,{path:"/",exact:!0,children:Object(N.jsx)(Be,{isMobile:!0})}),Object(N.jsx)(p.b,{path:"*",children:Object(N.jsx)(it,{})})]}):Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{path:"/about",children:Object(N.jsx)(Ue,{})}),Object(N.jsx)(p.b,{path:"/help",children:Object(N.jsx)(Ge,{})}),Object(N.jsx)(p.b,{path:"/privacy",children:Object(N.jsx)(st,{})}),Object(N.jsx)(p.b,{path:"/datasets",children:Object(N.jsx)(ct,{})}),Object(N.jsx)(p.b,{path:"/changelog",children:Object(N.jsx)(rt,{})}),Object(N.jsx)(p.b,{path:"/print/:listId",children:Object(N.jsx)(Qe,{})}),Object(N.jsxs)(p.b,{path:"/",children:[Object(N.jsx)(S,{headline:"Old World Builder",hasMainNavigation:!0}),Object(N.jsxs)(E,{isDesktop:!0,children:[Object(N.jsx)("section",{className:"column",children:Object(N.jsx)(Be,{})}),Object(N.jsx)("section",{className:"column",children:Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{path:"/new",children:Object(N.jsx)(X,{})}),Object(N.jsx)(p.b,{path:"/import",children:Object(N.jsx)(lt,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId",children:Object(N.jsx)(de,{})})]})}),Object(N.jsx)("section",{className:"column",children:Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{path:"/editor/:listId/edit",children:Object(N.jsx)(Ae,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/export",children:Object(N.jsx)(Ye,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/duplicate",children:Object(N.jsx)($e,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/add/:type",children:Object(N.jsx)(ze,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId",children:Object(N.jsx)(De,{})})]})}),Object(N.jsx)("section",{className:"column",children:Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(N.jsx)(qe,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(N.jsx)(Xe,{})}),Object(N.jsx)(p.b,{path:"/editor/:listId/:type/:unitId/items/:group",children:Object(N.jsx)(qe,{})})]})})]})]})]})})}),mt=Object(A.b)({name:"errors",initialState:[],reducers:{setErrors:function(e,t){return t.payload||[]},addError:function(e,t){var n=t.payload;return[].concat(Object(O.a)(e),[n])}}}),jt=mt.actions,ut=(jt.setErrors,jt.addError,mt.reducer),bt=Object(A.a)({reducer:{lists:Y,army:be,items:Oe,errors:ut}}),ht=n(69),pt=n(70);d.a({dsn:"https://3947feb62e2f5348c1759e8d4d9ed084@o314295.ingest.sentry.io/4506569636642816",integrations:[],environment:"production",release:"booky@".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.6.11"}).VERSION)});var Ot,xt=(localStorage.getItem("lang")||navigator.language||navigator.userLanguage).slice(0,2),ft=-1===["en","de"].indexOf(xt)?"en":xt;localStorage.setItem("lang",ft),document.documentElement.setAttribute("lang",ft),document.querySelector("meta[name=description]").setAttribute("content",{de:"Armeebauer f\xfcr Warhammer: The Old World und Warhammer Fantasy.",en:"Army builder for Warhammer: The Old World and Warhammer Fantasy Battles."}[ft]),Ot="de"===ft?pt:ht,s.a.render(Object(N.jsx)(r.a,{locale:xt,messages:Ot,children:Object(N.jsx)(o.a,{store:bt,children:Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(l.b,{children:Object(N.jsx)(dt,{})})})})}),document.getElementById("root")),m(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");j?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):u(t,e)}))}}()},27:function(e){e.exports=JSON.parse('[{"id":"the-old-world","name":"Warhammer: The Old World","armies":[{"id":"empire-of-man","name_de":"Empire of Man","name_en":"Empire of Man","items":["general","empire-of-man"]},{"id":"orc-and-goblin-tribes","name_de":"Orc & Goblin Tribes","name_en":"Orc & Goblin Tribes","items":["general","orc-and-goblin-tribes"]},{"id":"dwarfen-mountain-holds","name_de":"Dwarfen Mountain Holds","name_en":"Dwarfen Mountain Holds","items":["dwarfen-mountain-holds"]},{"id":"warriors-of-chaos","name_de":"Warriors of Chaos","name_en":"Warriors of Chaos","items":["general","warriors-of-chaos","gifts-of-chaos","chaos-mutations"]},{"id":"kingdom-of-bretonnia","name_de":"Kingdom of Bretonnia","name_en":"Kingdom of Bretonnia","allies":["dwarfen-mountain-holds","empire-of-man","high-elf-realms","wood-elf-realms"],"items":["general","kingdom-of-bretonnia","knightly-virtues"]},{"id":"beastmen-brayherds","name_de":"Beastmen Brayherds","name_en":"Beastmen Brayherds","items":["general","beastmen-brayherds","chaos-mutations"]},{"id":"wood-elf-realms","name_de":"Wood Elf Realms","name_en":"Wood Elf Realms","items":["general","wood-elf-realms","forest-spites"]},{"id":"tomb-kings-of-khemri","name_de":"Tomb Kings of Khemri","name_en":"Tomb Kings of Khemri","items":["general","tomb-kings-of-khemri"]},{"id":"high-elf-realms","name_de":"High Elf Realms","name_en":"High Elf Realms","items":["general","high-elf-realms","elven-honours"]},{"id":"dark-elves","name_de":"Dark Elves","name_en":"Dark Elves","items":["general"]},{"id":"skaven","name_de":"Skaven","name_en":"Skaven","items":["general"]},{"id":"vampire-counts","name_de":"Vampire Counts","name_en":"Vampire Counts","items":["general"]},{"id":"daemons-of-chaos","name_de":"Daemons of Chaos","name_en":"Daemons of Chaos","items":["general"]},{"id":"ogre-kingdoms","name_de":"Ogre Kingdoms","name_en":"Ogre Kingdoms","items":["general"]},{"id":"lizardmen","name_de":"Lizardmen","name_en":"Lizardmen","items":["general"]},{"id":"chaos-dwarfs","name_de":"Chaos Dwarfs","name_en":"Chaos Dwarfs","items":["general"]}]},{"id":"warhammer-fantasy","name":"Warhammer Fantasy","armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Orcs & Goblins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["heirlooms","dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]}]')},69:function(e){e.exports=JSON.parse('{"header.back":"Back","header.close":"Close","header.more":"More options","footer.about":"About OWB","footer.help":"Help","footer.datasets":"Datasets","footer.privacy":"Privacy Policy","footer.changelog":"News","app.point":"pt","app.points":"pts","home.empty":"Create your first list.","home.newList":"New list","home.import":"Import list","new.title":"New list","new.army":"Army:","new.create":"Create list","misc.name":"Name:","misc.description":"Description (optional):","misc.points":"Points:","misc.increase":"Increase","misc.decrease":"Decrease","misc.duplicate":"Duplicate","misc.rename":"Rename","misc.edit":"Edit","misc.delete":"Delete","misc.export":"Export","misc.print":"Print","misc.remove":"Remove","misc.startpage":"To home page","editor.add":"Add","editor.lords":"Lords","editor.heroes":"Heroes","editor.characters":"Characters","editor.core":"Core Units","editor.special":"Special Units","editor.rare":"Rare Units","editor.mercenaries":"Mercenaries","editor.allies":"Allies","editor.tooManyPoints":"pts too many","editor.availablePoints":"pts available","editor.missingPoints":"pts missing","add.title":"Select unit","duplicate.copyOf":"Copy of","duplicate.title":"Duplicate list","edit.title":"Edit list","export.title":"Export list","export.copy":"Copy as text","export.copied":"Text copied!","export.copyTitle":"As readable text","export.forumText":"Format as forum text","export.forumTextDescription":"(with BBCode formatting)","export.compactList":"Compact list","export.compactListDescription":"(saves space thanks to fewer lines)","export.download":"Download as .owb.json","export.downloadAsText":"Download as text","export.shareOwb":"Share as .owb.json","export.shareText":"Share as text","export.shareDescription":"(via the share function on your device)","export.dowloadInfo":"(can be reimported on another device)","export.error":"That unfortunately did not work :(.","export.visibleList":"Visible list","export.visibleListDescription":"(no points and hidden items)","export.createdWith":"Created with","export.owbTitle":"As .owb.json file","export.preview":"Show preview","import.title":"Import list","import.button":"Import","import.description":"Select an .owb.json file:","import.typeError":"Incorrect file type. Please upload an .owb.json file.","print.printing":"Printing...","unit.perModel":"per model","unit.noOptions":"No options available.","unit.unitSize":"Unit size:","unit.command":"Command:","unit.equipment":"Weapons:","unit.armor":"Armor:","unit.options":"Options:","unit.mount":"Mount:","unit.magicItems":"Magic Items","unit.detachments":"Detachments","help.title":"Help","help.text":"If you have any questions or problems, you can create an issue on {github} or join our {discord}.","about.title":"What\'s the \\"Old World Builder\\"?","about.text":"The {owb} is an army builder for the Games Workshop tabletop games Warhammer Fantasy and Warhammer: The Old World.","about.text2":"The project is open source ({github}) and is being developed by Nico Thiebes.","about.text3":"The {owb} is open source. You can help to complete or translate missing or incomplete army datasets. You can find more details under {datasets} or on our {discord}.","about.support":"Your support","about.donation":"If you like the \\"Old World Builder\\", you are also welcome to support me with a \\"coffee\\" :).","about.disclaimer":"This web site is completely unofficial and in no way endorsed by Games Workshop Limited.","about.credits":"Fantasy icons from {gameIcons} ({license}).","rename.title":"Rename unit","404.title":"404 - Page not found","changelog.title":"What\'s new?","changelog.change0":"New {datasets} editor for easier contribution. You can expand existing army data, add missing translations or create a new army dataset.","changelog.change1":"Printing a list without points or magic items is now possible.","changelog.change2":"{privacy} added. Although we don\'t collect any personal data, we need it for the upcoming release of our Android app.","changelog.change4":"Most <b>Warhammer: The Old World armies</b> are already fully* <b>available</b> thanks to our great community!","changelog.change5":"Army lists can be <b>exported/shared</b> as a \'.owb.json\' file and <b>imported</b> again on another device.","changelog.change6":"Army lists can now be shared or downloaded as text using your device\'s <b>share feature</b>.","changelog.change7":"* Since we don\'t have access to all the books yet, there may of course still be errors and some options are not yet available. If you find something that doesn\'t fit yet, please let us know in {discord}!","changelog.change8":"Lists can be <b>exported</b> in a <b>compact</b>/space-saving manner.","changelog.change9":"<b>Magic items</b> can be selected <b>multiple</b> times.","changelog.change10":"<b>Donate button</b> on the {about} page."}')},70:function(e){e.exports=JSON.parse('{"header.back":"Zur\xfcck","header.close":"Schlie\xdfen","header.more":"Mehr Optionen","footer.about":"\xdcber OWB","footer.help":"Hilfe","footer.datasets":"Datens\xe4tze","footer.privacy":"Datenschutzerkl\xe4rung","footer.changelog":"Neuigkeiten","app.point":"Pkt.","app.points":"Pkte.","home.empty":"Erstelle jetzt deine erste Liste.","home.newList":"Neue Liste","home.import":"Liste importieren","new.title":"Neue Liste","new.army":"Armee:","new.create":"Liste anlegen","misc.name":"Name:","misc.description":"Beschreibung (optional):","misc.points":"Punkte:","misc.increase":"Erh\xf6hen","misc.decrease":"Verringern","misc.duplicate":"Duplizieren","misc.rename":"Umbenennen","misc.edit":"Bearbeiten","misc.delete":"L\xf6schen","misc.export":"Exportieren","misc.print":"Drucken","misc.remove":"Entfernen","misc.startpage":"Zur Startseite","editor.add":"Hinzuf\xfcgen","editor.lords":"Kommandanten","editor.heroes":"Helden","editor.characters":"Charaktere","editor.core":"Kerneinheiten","editor.special":"Eliteeinheiten","editor.rare":"Seltene Einheiten","editor.mercenaries":"S\xf6ldner","editor.allies":"Verb\xfcndete","editor.tooManyPoints":" Pkte. zu viel","editor.availablePoints":" Pkte. verf\xfcgbar","editor.missingPoints":" Pkte. fehlen","add.title":"Einheit ausw\xe4hlen","duplicate.copyOf":"Kopie von","duplicate.title":"Liste duplizieren","edit.title":"Liste bearbeiten","export.title":"Liste exportieren","export.copy":"Kopieren als Text","export.copied":"Text kopiert!","export.copyTitle":"Als lesbarer Text","export.forumText":"Als Forentext formatieren","export.forumTextDescription":"(mit BBCode-Formatierung)","export.compactList":"Kompakte Liste","export.compactListDescription":"(platzsparend durch weniger Zeilen)","export.download":"Download als .owb.json","export.downloadAsText":"Download als Text","export.shareOwb":"Teilen als .owb.json","export.shareText":"Teilen als Text","export.shareDescription":"(\xfcber die Teilen-Funktion deines Ger\xe4tes)","export.dowloadInfo":"(kann auf einem anderen Ger\xe4t wieder importiert werden)","export.error":"Das hat leider nicht geklappt :(.","export.visibleList":"Sichtbare Liste","export.visibleListDescription":"(keine Punkte und versteckte Gegenst\xe4nde)","export.createdWith":"Erstellt mit","export.owbTitle":"Als .owb.json Datei","export.preview":"Vorschau anzeigen","import.title":"Liste importieren","import.button":"Importieren","import.description":"W\xe4hle eine .owb.json Datei:","import.typeError":"Falscher Dateityp. Bitte lade eine .owb.json Datei hoch.","print.printing":"Druckt...","unit.perModel":"pro Modell","unit.noOptions":"Keine Optionen verf\xfcgbar.","unit.unitSize":"Einheitengr\xf6\xdfe:","unit.command":"Kommandoabteilung:","unit.equipment":"Waffen:","unit.armor":"R\xfcstung:","unit.options":"Optionen:","unit.mount":"Reittier:","unit.magicItems":"Magische Gegenst\xe4nde","unit.detachments":"Abteilungen","help.title":"Hilfe","help.text":"Bei Fragen oder Problemen kannst du ein Issue auf {github} erstellen oder unserem {discord} beitreten.","about.title":"Was ist der \\"Old World Builder\\"?","about.text":"Der {owb} ist ein Armeeplaner f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World.","about.text2":"Das Projekt ist Open-Source ({github}) und wird entwickelt von Nico Thiebes.","about.text3":"Der {owb} wird Open-Source entwickelt. Ihr k\xf6nnt dabei helfen, fehlende bzw. unvollst\xe4ndige Datensets der Armeen zu erg\xe4nzen und \xfcbersetzen. Details dazu Ihr findet ihr unter {datasets} oder auf unserem {discord}.","about.support":"Eure Unterst\xfctzung","about.donation":"Falls euch der \\"Old World Builder\\" gef\xe4llt, k\xf6nnt ihr mich auch gerne mit einem \\"Kaffee\\" unterst\xfctzen :).","about.disclaimer":"Diese Website ist v\xf6llig inoffiziell und wird in keiner Weise von Games Workshop Limited unterst\xfctzt.","about.credits":"Fantasy icons von {gameIcons} ({license}).","rename.title":"Einheit umbenennen","404.title":"404 - Seite nicht gefunden","changelog.title":"Was gibt\'s Neues?","changelog.change0":"Neuer {datasets} Editor f\xfcr einfachere Mitarbeit. Du kannst vorhandene Armeedaten erweitern, fehlende \xdcbersetzungen hinzuf\xfcgen oder einen neuen Armeedatensatz erstellen.","changelog.change1":"Das Drucken einer Liste ohne Punkte oder magische Gegenst\xe4nde ist jetzt m\xf6glich.","changelog.change2":"{privacy} hinzugef\xfcgt. Obwohl wir keine personenbezogenen Daten sammeln, ben\xf6tigen wir diese f\xfcr die bevorstehende Ver\xf6ffentlichung unserer Android-App.","changelog.change4":"Die meisten <b>Warhammer: The Old World Armeen</b> sind dank unserer tollen Community bereits vollst\xe4ndig* <b>verf\xfcgbar</b>!","changelog.change5":"Armee-Listen k\xf6nnen als \'.owb.json\'-Datei <b>exportiert/geteilt</b> und auf einem anderen Ger\xe4t wieder <b>importiert</b> werden.","changelog.change6":"Armee-Listen k\xf6nnen jetzt als Text \xfcber die <b>Teilen-Funktion</b> eures Ger\xe4tes geteilt oder heruntergeladen werden.","changelog.change7":"* Da wir noch keinen Zugriff auf alle B\xfccher haben, kann es nat\xfcrlich noch Fehler geben und manche Optionen sind noch nicht verf\xfcgbar. Wenn ihr etwas findet, was noch nicht passt, gebt uns gerne in {discord} Bescheid!","changelog.change8":"Listen lassen sich <b>kompakt</b>/platzsparend <b>exportieren</b>.","changelog.change9":"<b>Magischen Gegest\xe4nden</b> k\xf6nnen <b>mehrfach</b> ausgew\xe4hlt werden.","changelog.change10":"<b>Spenden Button</b> auf der {about} Seite."}')}},[[130,1,2]]]);
//# sourceMappingURL=main.cb1d8321.chunk.js.map
//# debugId=822fa48d-3895-5ffe-9a62-4ddd05569d51
