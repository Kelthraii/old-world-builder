(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],[,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":"warhammer-fantasy","name":"Warhammer Fantasy","enabled":true,"armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Greenskins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]},{"id":"the-old-world","name_de":"Warhammer: The Old World","enabled":false,"armies":[]}]')},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(20),r=n.n(a),s=n(3),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))},l=n(7),d=n(6),j=n(4),u=n(8),b=n(2),m=n(12),h=n.n(m),O=(n(37),n(0)),p=function(e){var t=e.className,n=e.symbol,c=e.color;return Object(O.jsx)("svg",{focusable:"false",className:h()("icon",c&&"icon--".concat(c),t),children:Object(O.jsx)("use",{xlinkHref:"/symbol-defs.svg#icon-".concat(n)})})},x=(n(39),function(e){var t=e.className,n=e.type,c=e.to,i=e.onClick,a=e.children,r=e.spaceBottom,s=e.spaceTop,o=e.fullWidth,l=e.label,j=e.icon,u=e.centered,m=e.color,x=e.submitButton,f=c?d.b:"button",g={};return c||(g.type=x?"submit":"button"),Object(O.jsxs)(f,Object(b.a)(Object(b.a)({className:h()("button","button--".concat(n),"button--".concat(m),r&&"button--spaceBottom",s&&"button--spaceTop",o&&"button--fullWidth",u&&"button--centered",t),onClick:i,to:c,"aria-label":l,title:l},g),{},{children:[j&&Object(O.jsx)(p,{className:h()(a&&"button__icon"),symbol:j}),a&&a]}))});x.defaultProps={type:"primary"};var f,g=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},_=(n(41),function(){return Object(O.jsx)(p,{symbol:"spinner",className:"spinner"})}),v=(n(42),function(e){var t=e.className,n=e.headline,i=e.subheadline,a=e.moreButton,r=e.to,s=e.isSection,o=Object(j.g)(),d=Object(c.useState)(!1),u=Object(l.a)(d,2),b=u[0],m=u[1],p=s?"section":"header";return Object(c.useEffect)((function(){m(!1)}),[o.pathname]),Object(O.jsxs)(p,{className:h()(s?"column-header":"header",t),children:[r?Object(O.jsx)(x,{type:"text",to:r,label:s?"Schlie\xdfen":"Zur\xfcck",color:s?"dark":"light",icon:s?"close":"back"}):Object(O.jsx)(O.Fragment,{children:a&&Object(O.jsx)("div",{className:"header__empty-icon"})}),Object(O.jsxs)("div",{className:"header__text",children:[n&&Object(O.jsx)("h1",{className:"header__name",children:n}),i&&Object(O.jsx)("p",{className:"header__points",children:i})]}),a?Object(O.jsx)(x,{type:"text",color:s?"dark":"light",label:"Mehr Optionen",icon:"more",onClick:function(){m(!b)}}):Object(O.jsx)(O.Fragment,{children:r&&Object(O.jsx)("div",{className:"header__empty-icon"})}),b&&Object(O.jsx)("ul",{className:"header__more",children:a.map((function(e){var t=e.callback,n=e.name_de,c=e.icon,i=e.to;return Object(O.jsx)("li",{children:Object(O.jsx)(x,{type:"text",onClick:t,to:i,icon:c,children:n})},n)}))})]})}),k=function(e){var t=e.className,n=e.children,c=e.isDesktop,i=e.compact,a=e.loading;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:h()("main",c?"main--desktop":"main--mobile",i&&"main--compact",t),children:[n,a&&Object(O.jsx)(_,{})]}),!a&&Object(O.jsx)("footer",{className:"footer",children:Object(O.jsxs)("nav",{children:[Object(O.jsx)(d.b,{to:"/about",children:"\xdcber OWB"}),Object(O.jsx)(d.b,{to:"/help",children:"Hilfe"}),Object(O.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder/issues",target:"_blank",rel:"noreferrer",children:"Fehler melden"})]})})]})},N=(n(43),function(e){var t=e.options,n=e.className,c=e.id,i=e.name,a=e.required,r=e.selected,s=e.disabled,o=e.value,l=e.onChange,d=e.spaceBottom;return Object(O.jsx)("select",{id:c,name:i,required:a,onChange:function(e){l(e.target.value)},value:o,defaultValue:r,disabled:s,className:h()("select",d&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.id;return Object(O.jsx)("option",{value:n,children:t},n)}))})}),y=(n(44),function(e){return Object(O.jsxs)("div",{className:"number-input",children:[Object(O.jsx)("input",Object(b.a)(Object(b.a)({},e),{},{type:"number"})),Object(O.jsx)(x,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)+1}})},type:"secondary",icon:"up",label:"Erh\xf6hen",className:"number-input__button number-input__button--up"}),Object(O.jsx)(x,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)-1}})},type:"secondary",icon:"down",label:"Verringern",className:"number-input__button number-input__button--down"})]})}),F=n(14),w=n(15),I=n(13),S=Object(I.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,c=n.listId,i={name:n.name,points:n.points};return Object.keys(i).forEach((function(e){return void 0===i[e]?delete i[e]:{}})),e.map((function(e){var t=e.id;return c===t?Object(b.a)(Object(b.a)({},e),i):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unit,r=Object(b.a)(Object(b.a)({},a),{},{strength:a.minimum});return e.map((function(e){var t=e.id;return c===t?Object(b.a)(Object(b.a)({},e),{},Object(w.a)({},i,[].concat(Object(u.a)(e[i]),[r]))):e}))},duplicateUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unitId,r=e.find((function(e){return e.id===c}))[i].find((function(e){return e.id===a}));return e.map((function(e){var t=e.id;return c===t?Object(b.a)(Object(b.a)({},e),{},Object(w.a)({},i,[].concat(Object(u.a)(e[i]),[Object(b.a)(Object(b.a)({},r),{},{id:"".concat(r.id.split(".")[0],".").concat(g())})]))):e}))},editUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.strength,r=n.unitId,s={strength:a,options:n.options,equipment:n.equipment,command:n.command,mounts:n.mounts,magic:n.magic},o=e.find((function(e){return e.id===c}))[i].find((function(e){return e.id===r}));Object.keys(s).forEach((function(e){return void 0===s[e]?delete s[e]:{}}));var l=Object(b.a)(Object(b.a)({},o),s);return e.map((function(e){var t=e.id;return c===t?Object(b.a)(Object(b.a)({},e),{},Object(w.a)({},i,e[i].map((function(e){return e.id===o.id?l:e})))):e}))},removeUnit:function(e,t){var n=t.payload,c=n.listId,i=n.type,a=n.unitId;return e.map((function(e){var t=e.id;return c===t?Object(b.a)(Object(b.a)({},e),{},Object(w.a)({},i,e[i].filter((function(e){return e.id!==a})))):e}))}}}),P=S.actions,E=P.setLists,C=P.addUnit,M=P.editUnit,q=P.removeUnit,B=P.duplicateUnit,L=P.updateList,T=P.deleteList,W=S.reducer,z=(n(45),function(e){var t=e.isMobile,n=t?k:c.Fragment,i=Object(j.g)(),a=Object(s.b)(),r=Object(s.c)((function(e){return e.lists})),o=Object(c.useState)(F[0].id),d=Object(l.a)(o,2),b=d[0],m=d[1],h=Object(c.useState)(F[0].armies[0].id),p=Object(l.a)(h,2),f=p[0],_=p[1],w=Object(c.useState)(""),I=Object(l.a)(w,2),S=I[0],P=I[1],C=Object(c.useState)(2e3),M=Object(l.a)(C,2),q=M[0],B=M[1],L=Object(c.useState)(null),T=Object(l.a)(L,2),W=T[0],z=T[1],D=function(e){m(e.target.value),_(F.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(O.jsxs)(O.Fragment,{children:[W&&Object(O.jsx)(j.a,{to:"/editor/".concat(W)}),t&&Object(O.jsx)(v,{to:"/",headline:"Neue Liste"}),Object(O.jsxs)(n,{children:[!t&&Object(O.jsx)(v,{isSection:!0,to:"/",headline:"Neue Liste"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=g(),t={name:S,game:b,points:q,army:f,lords:[],heroes:[],core:[],special:[],rare:[],id:e},n=[].concat(Object(u.a)(r),[t]);localStorage.setItem("lists",JSON.stringify(n)),a(E(n)),z(e)}()},className:"new-list",children:[F.map((function(e){var t=e.name,n=e.id,c=e.enabled;return Object(O.jsxs)("div",{className:"radio",children:[Object(O.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:D,defaultChecked:"warhammer-fantasy"===n,className:"radio__input",disabled:!c}),Object(O.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(O.jsx)("img",{height:"20",src:"/".concat(n,".png"),alt:t}),"the-old-world"===n&&Object(O.jsx)("img",{height:"35",src:"/".concat(n,".png"),alt:t})]})]},n)})),Object(O.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(O.jsx)("input",{type:"text",id:"name",className:"input",value:S,onChange:function(e){P(e.target.value)},autoComplete:"off",required:!0}),Object(O.jsx)("label",{htmlFor:"points",children:"Punkte:"}),Object(O.jsx)(y,{id:"points",className:"input",min:0,value:q,onChange:function(e){B(e.target.value)},required:!0}),Object(O.jsx)("label",{htmlFor:"army",children:"Armee:"}),Object(O.jsx)(N,{id:"army",options:F.filter((function(e){return e.id===b}))[0].armies,onChange:function(e){_(e)},selected:"warhammer-fantasy",spaceBottom:!0,required:!0}),Object(O.jsx)(x,{centered:!0,icon:"add-list",submitButton:!0,children:"Liste anlegen"})]})]})]})}),D={lords:{maxPercent:25},heroes:{maxPercent:25},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4}},H=function(e){var t=e.type,n=e.armyPoints,c=e.points,i=n/100*D[t].maxPercent;return{points:Math.floor(i),overLimit:c>i,diff:c>i?Math.ceil(c-i):0}},G=function(e){var t,n=0;return n=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(t){t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.equipment&&e.equipment.forEach((function(t){t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.command&&e.command.forEach((function(e){e.active&&(n+=e.points)})),e.mounts&&e.mounts.forEach((function(e){e.active&&(n+=e.points)})),(null===e||void 0===e||null===(t=e.magic)||void 0===t?void 0:t.items)&&e.magic.items.forEach((function(e){n+=e.points})),n},J=(n(46),function(e){var t=e.to,n=e.onClick,c=e.children,i=e.className,a=e.active,r=t?d.b:"button";return Object(O.jsx)("li",{className:h()("list",a&&"list--active",i),children:Object(O.jsx)(r,{to:t,className:"list__inner",onClick:n,children:c})})}),U=(n(47),function(e){var t=e.mounts,n=e.equipment,c=e.options,i=e.command,a=e.magic,r=t?t.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],s=n?n.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],o=c?c.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],l=i?i.filter((function(e){return e.active})).map((function(e){return e.name_de})):[],d=(null===a||void 0===a?void 0:a.items)?a.items.map((function(e){return e.name_de})):[],j=[].concat(Object(u.a)(l),Object(u.a)(s),Object(u.a)(r),Object(u.a)(o),Object(u.a)(d)).join(", ");return j?Object(O.jsx)("p",{children:j}):null}),A=function(e){var t=e.isMobile,n=t?k:c.Fragment,i=Object(j.h)().listId,a=Object(s.b)(),r=Object(c.useState)(!1),o=Object(l.a)(r,2),d=o[0],u=o[1],b=Object(j.g)(),m=Object(s.c)((function(e){return e.errors})),h=Object(s.c)((function(e){return e.lists.find((function(e){var t=e.id;return i===t}))})),f=function(e){var t=0;return h[e].forEach((function(e){t+=G(e)})),t},g=function(){a(T(i)),function(e){var t=JSON.parse(localStorage.getItem("lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("lists",JSON.stringify(t))}(i),u(!0)};if(Object(c.useEffect)((function(){window.scrollTo(0,0)}),[b.pathname]),Object(c.useEffect)((function(){h&&function(e){var t=JSON.parse(localStorage.getItem("lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("lists",JSON.stringify(t))}(h)}),[h]),d)return Object(O.jsx)(j.a,{to:"/"});if(!h)return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/"}),Object(O.jsx)(k,{loading:!0})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/",isSection:!0}),Object(O.jsx)(k,{loading:!0})]});var _=f("lords"),N=f("heroes"),y=f("core"),F=f("special"),w=f("rare"),I=_+N+y+F+w,S=H({type:"lords",armyPoints:h.points,points:_}),P=H({type:"heroes",armyPoints:h.points,points:N}),E=function(e){var t=e.type,n=e.armyPoints,c=e.points,i=n/100*D[t].minPercent;return{points:Math.floor(i),overLimit:c<=i,diff:c<=i?Math.ceil(i-c):0}}({type:"core",armyPoints:h.points,points:y}),C=H({type:"special",armyPoints:h.points,points:F}),M=H({type:"rare",armyPoints:h.points,points:w});return Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)(v,{to:"/",headline:h.name,subheadline:"".concat(I," / ").concat(h.points," Pkte."),moreButton:[{name_de:"Bearbeiten",icon:"edit",to:"/editor/".concat(i,"/edit")},{name_de:"L\xf6schen",icon:"delete",callback:g}]}),Object(O.jsxs)(n,{children:[!t&&Object(O.jsx)(v,{isSection:!0,to:"/",headline:h.name,subheadline:"".concat(I," / ").concat(h.points," Pkte."),moreButton:[{name_de:"Bearbeiten",icon:"edit",to:"/editor/".concat(i,"/edit")},{name_de:"L\xf6schen",icon:"delete",callback:g}]}),Object(O.jsx)("section",{children:m.map((function(){return Object(O.jsxs)("span",{children:[Object(O.jsx)("strong",{children:E.diff})," Pkte. fehlen",Object(O.jsx)(p,{symbol:"error",color:"red"})]})}))}),Object(O.jsxs)("section",{className:"editor__section",children:[Object(O.jsxs)("header",{className:"editor__header",children:[Object(O.jsx)("h2",{children:"Kommandanten"}),Object(O.jsx)("p",{className:"editor__points",children:S.diff>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:S.diff}),"Punkte zu viel",Object(O.jsx)(p,{symbol:"error",color:"red"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:S.points-_}),"Pkte. verf\xfcgbar",Object(O.jsx)(p,{symbol:"check"})]})})]}),Object(O.jsx)("ul",{children:h.lords.map((function(e,t){return Object(O.jsxs)(J,{to:"/editor/".concat(i,"/lords/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsx)("b",{children:e.name_de}),Object(O.jsx)("i",{children:"".concat(G(e)," Pkte.")})]}),U(e)]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/editor/".concat(i,"/add/lords"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(O.jsxs)("section",{className:"editor__section",children:[Object(O.jsxs)("header",{className:"editor__header",children:[Object(O.jsx)("h2",{children:"Helden"}),Object(O.jsx)("p",{className:"editor__points",children:P.diff>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:P.diff})," Pkte. zu viel",Object(O.jsx)(p,{symbol:"error",color:"red"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:P.points-N}),"Pkte. verf\xfcgbar",Object(O.jsx)(p,{symbol:"check"})]})})]}),Object(O.jsx)("ul",{children:h.heroes.map((function(e,t){return Object(O.jsxs)(J,{to:"/editor/".concat(i,"/heroes/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsx)("b",{children:e.name_de}),Object(O.jsx)("i",{children:"".concat(G(e)," Pkte.")})]}),U(e)]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/editor/".concat(i,"/add/heroes"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(O.jsxs)("section",{className:"editor__section",children:[Object(O.jsxs)("header",{className:"editor__header",children:[Object(O.jsx)("h2",{children:"Kerneinheiten"}),Object(O.jsx)("p",{className:"editor__points",children:E.diff>0?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:E.diff})," Pkte. fehlen",Object(O.jsx)(p,{symbol:"error",color:"red"})]})}):Object(O.jsx)(p,{symbol:"check"})})]}),Object(O.jsx)("ul",{children:h.core.map((function(e,t){return Object(O.jsxs)(J,{to:"/editor/".concat(i,"/core/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(O.jsx)("b",{children:e.name_de})]}),Object(O.jsx)("i",{children:"".concat(G(e)," Pkte.")})]}),U(e)]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/editor/".concat(i,"/add/core"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(O.jsxs)("section",{className:"editor__section",children:[Object(O.jsxs)("header",{className:"editor__header",children:[Object(O.jsx)("h2",{children:"Eliteeinheiten"}),Object(O.jsx)("p",{className:"editor__points",children:C.diff>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:C.diff})," Pkte. zu viel",Object(O.jsx)(p,{symbol:"error",color:"red"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:C.points-F})," Pkte. verf\xfcgbar ",Object(O.jsx)(p,{symbol:"check"})]})})]}),Object(O.jsx)("ul",{children:h.special.map((function(e,t){return Object(O.jsxs)(J,{to:"/editor/".concat(i,"/special/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(O.jsx)("b",{children:e.name_de})]}),Object(O.jsx)("i",{children:"".concat(G(e)," Pkte.")})]}),U(e)]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/editor/".concat(i,"/add/special"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]}),Object(O.jsxs)("section",{className:"editor__section",children:[Object(O.jsxs)("header",{className:"editor__header",children:[Object(O.jsx)("h2",{children:"Seltene Einheiten"}),Object(O.jsx)("p",{className:"editor__points",children:M.diff>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:M.diff})," Pkte. zu viel",Object(O.jsx)(p,{symbol:"error",color:"red"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:M.points-w})," Pkte. verf\xfcgbar",Object(O.jsx)(p,{symbol:"check"})]})})]}),Object(O.jsx)("ul",{children:h.rare.map((function(e,t){return Object(O.jsxs)(J,{to:"/editor/".concat(i,"/rare/").concat(e.id),className:"editor__list",active:b.pathname.includes(e.id),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(O.jsx)("b",{children:e.name_de})]}),Object(O.jsx)("i",{children:"".concat(G(e)," Pkte.")})]}),U(e)]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/editor/".concat(i,"/add/rare"),icon:"add",spaceTop:!0,children:"Hinzuf\xfcgen"})]})]})]})},K=(n(48),function(e){var t=e.isMobile,n=t?k:c.Fragment,i=Object(s.c)((function(e){return e.lists})),a=Object(j.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[a.pathname]),Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)(v,{headline:"Old World Builder"}),Object(O.jsxs)(n,{children:[!i.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:"/logo-dark.svg",alt:"",width:"100",height:"100",className:"home__logo"}),Object(O.jsx)("i",{className:"home__empty",children:"Erstelle jetzt deine erste Liste."})]}),Object(O.jsx)("ul",{children:i.map((function(e,t){var n=e.id,c=e.name,i=e.points,r=(e.game,e.army);return Object(O.jsxs)(J,{to:"/editor/".concat(n),active:a.pathname.includes(n),children:[Object(O.jsxs)("span",{className:"home__list-item",children:[Object(O.jsx)("h2",{className:"home__headline",children:c}),Object(O.jsxs)("p",{children:[i," Pkte."]})]}),Object(O.jsx)("img",{height:"40",width:"40",src:"/army-icons/".concat(r,".svg"),alt:""})]},t)}))}),Object(O.jsx)(x,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,children:"Neue Liste"})]})]})}),Z=(n(49),function(e){var t,n,i=e.isMobile,a=i?k:c.Fragment,r=Object(j.h)(),o=r.listId,d=r.type,u=r.unitId,m=Object(s.b)(),h=Object(c.useState)(null),p=Object(l.a)(h,2),x=p[0],f=p[1],g=Object(j.g)(),_=Object(s.c)((function(e){return e.lists.find((function(e){var t=e.id;return o===t}))})),N=_?_[d]:null,F=N&&N.find((function(e){return e.id===u})),w=0,I=function(e){m(q({listId:o,type:d,unitId:e})),f(!0)},S=function(e){m(B({listId:o,type:d,unitId:e})),f(!0)};return(null===F||void 0===F||null===(t=F.magic)||void 0===t?void 0:t.items)&&(null===F||void 0===F||null===(n=F.magic)||void 0===n||n.items.forEach((function(e){w+=e.points}))),Object(c.useEffect)((function(){window.scrollTo(0,0)}),[g.pathname]),!0===x?Object(O.jsx)(j.a,{to:"/editor/".concat(o)}):F?F?Object(O.jsxs)(O.Fragment,{children:[i&&Object(O.jsx)(v,{to:"/editor/".concat(o),moreButton:[{name_de:"Duplizieren",icon:"duplicate",callback:function(){return S(F.id)}},{name_de:"Entfernen",icon:"delete",callback:function(){return I(F.id)}}],headline:F.name_de,subheadline:"".concat(G(F)," Pkte.")}),Object(O.jsxs)(a,{children:[!i&&Object(O.jsx)(v,{isSection:!0,to:"/editor/".concat(o),headline:F.name_de,subheadline:"".concat(G(F)," Pkte."),moreButton:[{name_de:"Duplizieren",icon:"duplicate",callback:function(){return S(F.id)}},{name_de:"Entfernen",icon:"delete",callback:function(){return I(F.id)}}]}),!F.minimum&&!F.command&&!F.equipment&&!F.mounts&&!F.options&&Object(O.jsx)("i",{className:"unit__empty",children:"Keine Optionen verf\xfcgbar."}),F.minimum&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:"Einheitengr\xf6\xdfe:"}),Object(O.jsx)(y,{id:"strength",className:"input",min:F.minimum,value:F.strength,onChange:function(e){m(M({listId:o,type:d,unitId:u,strength:e.target.value}))},required:!0})]}),F.command&&F.command.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"unit__subline",children:"Kommandoabteilung:"}),F.command.map((function(e){var t=e.name_de,n=e.points,c=e.perModel,i=e.id,a=e.active;return Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"checkbox",id:"command-".concat(i),value:i,onChange:function(){return function(e){var t=F.command.map((function(t){return t.id===e?Object(b.a)(Object(b.a)({},t),{},{active:!t.active}):t}));m(M({listId:o,type:d,unitId:u,command:t}))}(i)},defaultChecked:a,className:"checkbox__input"}),Object(O.jsxs)("label",{htmlFor:"command-".concat(i),className:"checkbox__label",children:[t,Object(O.jsxs)("i",{className:"checkbox__points",children:["".concat(n," ").concat(1===n?"Pkt.":"Pkte."),c&&" pro Modell"]})]})]},i)}))]}),F.equipment&&F.equipment.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"unit__subline",children:"Ausr\xfcstung:"}),F.equipment.map((function(e){var t=e.name_de,n=e.points,c=e.perModel,i=e.id,a=e.active;return Object(O.jsxs)("div",{className:"radio",children:[Object(O.jsx)("input",{type:"radio",id:"equipment-".concat(i),name:"equipment",value:i,onChange:function(){return function(e){var t=F.equipment.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{active:t.id===e})}));m(M({listId:o,type:d,unitId:u,equipment:t}))}(i)},defaultChecked:a,className:"radio__input"}),Object(O.jsxs)("label",{htmlFor:"equipment-".concat(i),className:"radio__label",children:[t,Object(O.jsxs)("i",{className:"checkbox__points",children:["".concat(n," ").concat(1===n?"Pkt.":"Pkte."),c&&" pro Modell"]})]})]},i)}))]}),F.mounts&&F.mounts.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"unit__subline",children:"Reittier:"}),F.mounts.map((function(e){var t=e.name_de,n=e.points,c=e.id,i=e.active;return Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"checkbox",id:"mounts-".concat(c),value:c,onChange:function(){return function(e){var t=F.mounts.map((function(t){return t.id===e?Object(b.a)(Object(b.a)({},t),{},{active:!t.active}):t}));m(M({listId:o,type:d,unitId:u,mounts:t}))}(c)},defaultChecked:i,className:"checkbox__input"}),Object(O.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"checkbox__label",children:[t,Object(O.jsx)("i",{className:"checkbox__points",children:"".concat(n," Pkte.")})]})]},c)}))]}),F.options&&F.options.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"unit__subline",children:"Optionen:"}),F.options.map((function(e){var t=e.name_de,n=e.points,c=e.perModel,i=e.id,a=e.active;return Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"checkbox",id:"options-".concat(i),value:i,onChange:function(){return function(e){var t=F.options.map((function(t){return t.id===e?Object(b.a)(Object(b.a)({},t),{},{active:!t.active}):t}));m(M({listId:o,type:d,unitId:u,options:t}))}(i)},defaultChecked:a,className:"checkbox__input"}),Object(O.jsxs)("label",{htmlFor:"options-".concat(i),className:"checkbox__label",children:[t,Object(O.jsxs)("i",{className:"checkbox__points",children:["".concat(n," ").concat(1===n?"Pkt.":"Pkte."),c&&" pro Modell"]})]})]},i)}))]}),(null===F||void 0===F?void 0:F.magic)&&Object(O.jsxs)(J,{to:"/editor/".concat(o,"/").concat(d,"/").concat(u,"/magic"),className:"editor__list unit__link",active:g.pathname.includes("magic"),children:[Object(O.jsxs)("div",{className:"editor__list-inner",children:[Object(O.jsx)("b",{children:"Magische Gegenst\xe4nde"}),Object(O.jsx)("i",{className:"checkbox__points",children:"".concat(w," Pkte.")})]}),F.magic.items&&Object(O.jsx)("p",{children:F.magic.items.map((function(e){return e.name_de})).join(", ")})]})]})]}):void 0:i?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(o)}),Object(O.jsx)(k,{loading:!0})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(o),isSection:!0}),Object(O.jsx)(k,{loading:!0})]})}),V=(n(50),function(e){var t=e.isMobile,n=Object(j.g)(),i=t?k:c.Fragment,a=Object(j.h)().listId,r=Object(s.b)(),o=Object(s.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),o?Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)(v,{to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(O.jsxs)(i,{children:[!t&&Object(O.jsx)(v,{isSection:!0,to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(O.jsx)("label",{htmlFor:"name",className:"edit__label",children:"Name:"}),Object(O.jsx)("input",{type:"text",id:"name",className:"input",value:o.name,onChange:function(e){r(L({listId:a,name:e.target.value}))},autoComplete:"off",required:!0}),Object(O.jsx)("label",{htmlFor:"points",children:"Punkte:"}),Object(O.jsx)(y,{id:"points",className:"input",min:0,value:o.points,onChange:function(e){r(L({listId:a,points:e.target.value}))},required:!0})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(a),headline:"Liste bearbeiten"}),Object(O.jsx)(k,{})]})}),R=(n(51),function(e){var t=e.url,n=e.onSuccess,c=e.onError;f=new AbortController,fetch("/".concat(t,".json"),{signal:f.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){c&&c(e)}))}),Y=Object(I.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),Q=Y.actions.setItems,X=Y.reducer,$=(n(52),{greenskins:{name_de:"Glitzakram"},general:{name_de:"Magische Gegenst\xe4nde"}}),ee=function(e){var t=e.isMobile,n=t?k:c.Fragment,i=Object(j.g)(),a=Object(j.h)(),r=a.listId,o=a.type,l=a.unitId,d=Object(s.b)(),m=Object(s.c)((function(e){return e.lists.find((function(e){var t=e.id;return r===t}))})),h=m&&F.find((function(e){return e.id===m.game})).armies.find((function(){return m.army})),p=Object(s.c)((function(e){return e.items})),x=m?m[o]:null,f=x&&x.find((function(e){return e.id===l}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[i.pathname]),Object(c.useEffect)((function(){h&&!p&&R({url:"games/".concat(m.game,"/magic-items"),onSuccess:function(e){var t=h.items.map((function(t){return{items:e[t],name_de:$[t].name_de,id:t}}));d(Q(function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{id:t})}))})}))}(t)))}})}),[h,d,m,p]),p&&f?Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)(v,{to:"/editor/".concat(r,"/").concat(o,"/").concat(l),headline:"Magische Gegenst\xe4nde"}),Object(O.jsxs)(n,{children:[!t&&Object(O.jsx)(v,{isSection:!0,to:"/editor/".concat(r,"/").concat(o,"/").concat(l),headline:"Magische Gegenst\xe4nde"}),p.map((function(e){return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("h2",{className:"unit__subline",children:e.name_de}),e.items.map((function(t){var n;return Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"checkbox",id:"".concat(e.id,"-").concat(t.id),value:"".concat(e.id,"-").concat(t.id),onChange:function(e){return function(e,t){var n,c;n=e.target.checked?[].concat(Object(u.a)((null===f||void 0===f||null===(c=f.magic)||void 0===c?void 0:c.items)||[]),[Object(b.a)(Object(b.a)({},t),{},{id:e.target.value})]):f.magic.items.filter((function(t){return t.id!==e.target.value})),d(M({listId:r,type:o,unitId:l,magic:Object(b.a)(Object(b.a)({},f.magic),{},{items:n})}))}(e,t)},defaultChecked:!!(null===f||void 0===f||null===(n=f.magic)||void 0===n?void 0:n.items)&&f.magic.items.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)})),className:"checkbox__input"}),Object(O.jsxs)("label",{htmlFor:"".concat(e.id,"-").concat(t.id),className:"checkbox__label",children:[t.name_de,Object(O.jsx)("i",{className:"checkbox__points",children:"".concat(t.points," Pkte.")})]})]},t.id)}))]},e.name_de)}))]})]}):t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(r,"/").concat(o,"/").concat(l)}),Object(O.jsx)(k,{loading:!0})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(r,"/").concat(o,"/").concat(l),isSection:!0}),Object(O.jsx)(k,{loading:!0})]})},te=function(){var e=Object(j.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{headline:"Old World Builder"}),Object(O.jsxs)(k,{compact:!0,children:[Object(O.jsx)(x,{to:"/",icon:"home",centered:!0,children:"Zur Startseite"}),Object(O.jsx)("h2",{children:'Was ist der "Old World Builder"?'}),Object(O.jsxs)("p",{children:["Der ",Object(O.jsx)("i",{children:"Old World Builder"})," ist eine Armeebau-Hilfe f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World."]}),Object(O.jsxs)("p",{children:["Das Projekt ist Open-Source und wird entwickelt von Nico Thiebes (",Object(O.jsx)("a",{href:"https://twitter.com/_gscheid",target:"_blank",rel:"noreferrer",children:"@_gscheid"}),")."]}),Object(O.jsx)("h2",{children:"Credits"}),Object(O.jsxs)("p",{children:["Fantasy icons von"," ",Object(O.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"})," ","(",Object(O.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"}),")."]}),Object(O.jsx)("h2",{children:"Eure Unterst\xfctzung"}),Object(O.jsxs)("p",{children:["Der ",Object(O.jsx)("i",{children:"Old World Builder"})," ist Open-Source. Ihr findet das Projekt auf GitHub:"," ",Object(O.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"github.com/nthiebes/old-world-builder"})]})]})]})},ne=Object(I.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),ce=ne.actions.setArmy,ie=ne.reducer,ae=function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{id:t})})):null})}))},re=function(e){var t=e.isMobile,n=t?k:c.Fragment,i=Object(j.h)(),a=i.listId,r=i.type,o=Object(s.b)(),d=Object(c.useState)(null),u=Object(l.a)(d,2),m=u[0],h=u[1],p=Object(j.g)(),x=Object(s.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))})),f=Object(s.c)((function(e){return e.army}));return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[p.pathname]),Object(c.useEffect)((function(){x&&R({url:"games/".concat(x.game,"/").concat(x.army),onSuccess:function(e){o(ce({lords:ae(e.lords),heroes:ae(e.heroes),core:ae(e.core),special:ae(e.special),rare:ae(e.rare)}))}})}),[x,o]),m?Object(O.jsx)(j.a,{to:"/editor/".concat(a,"/").concat(r,"/").concat(m.id)}):f?Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)(v,{to:"/editor/".concat(a),headline:"Einheit ausw\xe4hlen"}),Object(O.jsxs)(n,{children:[!t&&Object(O.jsx)(v,{isSection:!0,to:"/editor/".concat(a),headline:"Einheit ausw\xe4hlen"}),Object(O.jsx)("ul",{children:f[r].map((function(e){var t=e.name_de,n=e.id,c=e.minimum,i=e.points;return Object(O.jsxs)(J,{onClick:function(){return function(e){var t=Object(b.a)(Object(b.a)({},f[r].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(g())});o(C({listId:a,type:r,unit:t})),h(t)}(n)},children:[Object(O.jsxs)("span",{className:"unit__name",children:[c&&"".concat(c," "),Object(O.jsx)("b",{children:t})]}),Object(O.jsx)("i",{className:"unit__points",children:"".concat(c?i*c:i," Pkte.")})]},n)}))})]})]}):t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(a)}),Object(O.jsx)(k,{loading:!0})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{to:"/editor/".concat(a),isSection:!0}),Object(O.jsx)(k,{loading:!0})]})},se=function(){var e=Object(j.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{headline:"Old World Builder"}),Object(O.jsxs)(k,{compact:!0,children:[Object(O.jsx)(x,{to:"/",icon:"home",centered:!0,children:"Zur Startseite"}),Object(O.jsx)("h2",{children:"Hilfe"}),Object(O.jsxs)("p",{children:["Falls du Fragen zum OWL hast, kannst du diese im OWL Thema des"," ",Object(O.jsx)("a",{href:"https://www.gw-fanworld.net",target:"_blank",rel:"noreferrer",children:"GW-Fanworld.net Forums"})," ","stellen."]}),Object(O.jsxs)("p",{children:["Alternativ kannst du auch direkt eine E-Mail schreiben an"," ",Object(O.jsx)("a",{href:"mailto:hello@old-world-builder.com",children:"hello@old-world-builder.com"}),"."]})]})]})},oe=(n(53),function(){var e=Object(s.b)(),t=Object(c.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(l.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){var t=localStorage.getItem("lists");e(E(JSON.parse(t)))}),[e]),Object(c.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return a(e.matches)}))}),[]),Object(O.jsx)(d.a,{children:i?Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/editor/:listId/edit",children:Object(O.jsx)(V,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/editor/:listId/add/:type",children:Object(O.jsx)(re,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(O.jsx)(ee,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/editor/:listId/:type/:unitId",children:Object(O.jsx)(Z,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/editor/:listId",children:Object(O.jsx)(A,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/new",children:Object(O.jsx)(z,{isMobile:!0})}),Object(O.jsx)(j.b,{path:"/about",children:Object(O.jsx)(te,{})}),Object(O.jsx)(j.b,{path:"/help",children:Object(O.jsx)(se,{})}),Object(O.jsx)(j.b,{path:"/",children:Object(O.jsx)(K,{isMobile:!0})})]}):Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/about",children:Object(O.jsx)(te,{})}),Object(O.jsx)(j.b,{path:"/help",children:Object(O.jsx)(se,{})}),Object(O.jsxs)(j.b,{path:"/",children:[Object(O.jsx)(v,{headline:"Old World Builder"}),Object(O.jsxs)(k,{isDesktop:!0,children:[Object(O.jsx)("section",{className:"column",children:Object(O.jsx)(K,{})}),Object(O.jsx)("section",{className:"column",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/new",children:Object(O.jsx)(z,{})}),Object(O.jsx)(j.b,{path:"/editor/:listId",children:Object(O.jsx)(A,{})})]})}),Object(O.jsx)("section",{className:"column",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/editor/:listId/edit",children:Object(O.jsx)(V,{})}),Object(O.jsx)(j.b,{path:"/editor/:listId/add/:type",children:Object(O.jsx)(re,{})}),Object(O.jsx)(j.b,{path:"/editor/:listId/:type/:unitId",children:Object(O.jsx)(Z,{})})]})}),Object(O.jsx)("section",{className:"column",children:Object(O.jsx)(j.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(O.jsx)(ee,{})})})]})]})]})})}),le=Object(I.b)({name:"errors",initialState:[],reducers:{addError:function(e,t){var n=t.payload;return[].concat(Object(u.a)(e),[n])}}}),de=(le.actions.addError,le.reducer),je=Object(I.a)({reducer:{lists:W,army:ie,items:X,errors:de}});r.a.render(Object(O.jsx)(s.a,{store:je,children:Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(oe,{})})}),document.getElementById("root")),o()}],[[54,1,2]]]);
//# sourceMappingURL=main.f2868f4d.chunk.js.map