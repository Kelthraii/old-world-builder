(this["webpackJsonpold-world-builder"]=this["webpackJsonpold-world-builder"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('[{"id":"the-old-world","name":"Warhammer: The Old World","armies":[{"id":"kingdom-of-bretonnia","name_de":"Kingdom of Bretonnia","name_en":"Kingdom of Bretonnia","allies":["dwarfen-mountain-holds","empire-of-man","high-elf-realms","wood-elf-realms"],"items":["general","kingdom-of-bretonnia"]}]},{"id":"warhammer-fantasy","name":"Warhammer Fantasy","armies":[{"id":"greenskins","name_de":"Orks & Goblins","name_en":"Orcs & Goblins","items":["greenskins","general"]},{"id":"dwarfs","name_de":"Zwerge","name_en":"Dwarfs","items":["heirlooms","dwarfs"]},{"id":"the-empire","name_de":"Das Imperium","name_en":"The Empire","items":["the-empire","general"]}]}]')},45:function(e){e.exports=JSON.parse('{"header.back":"Back","header.close":"Close","header.more":"More options","footer.about":"About OWB","footer.help":"Help","footer.datasets":"Datasets","app.point":"pt","app.points":"pts","home.empty":"Create your first list.","home.newList":"New list","new.title":"New list","new.army":"Army:","new.create":"Create list","misc.name":"Name:","misc.description":"Description (optional):","misc.points":"Points:","misc.increase":"Increase","misc.decrease":"Decrease","misc.duplicate":"Duplicate","misc.rename":"Rename","misc.edit":"Edit","misc.delete":"Delete","misc.export":"Export","misc.print":"Print","misc.remove":"Remove","misc.startpage":"To home page","editor.add":"Add","editor.lords":"Lords","editor.heroes":"Heroes","editor.characters":"Characters","editor.core":"Core Units","editor.special":"Special Units","editor.rare":"Rare Units","editor.mercenaries":"Mercenaries","editor.allies":"Allies","editor.tooManyPoints":"pts too many","editor.availablePoints":"pts available","editor.missingPoints":"pts missing","add.title":"Select unit","duplicate.copyOf":"Copy of","duplicate.title":"Duplicate list","edit.title":"Edit list","export.title":"Export list","export.copy":"Copy as text","export.copied":"Text copied!","export.error":"That unfortunately did not work :(.","export.visibleList":"Visible list","export.visibleListDescription":"no points and hidden items","export.createdWith":"Created with","print.printing":"Printing...","unit.perModel":"per model","unit.noOptions":"No options available.","unit.unitSize":"Unit size:","unit.command":"Command:","unit.equipment":"Equipment:","unit.options":"Options:","unit.mount":"Mount:","unit.magicItems":"Magic Items","unit.detachments":"Detachments","help.title":"Help","help.text":"If you have any questions or problems, you can create an issue on {github}, write me on {twitter} or join our {discord}.","about.title":"What\'s the \\"Old World Builder\\"?","about.text":"The {owb} is an army builder for the Games Workshop tabletop games Warhammer Fantasy and Warhammer: The Old World (once released).","about.text2":"The project is open source and is being developed by Nico Thiebes ({twitter}).","about.text3":"The {owb} is open source. You can help to complete missing or incomplete army datasets. You can find more details on the {github} project page or on our {discord}.","about.support":"Your support","about.disclaimer":"This web site is completely unofficial and in no way endorsed by Games Workshop Limited.","about.credits":"Fantasy icons from {gameIcons} ({license}).","rename.title":"Rename unit","datasets.title":"Datasets editor","404.title":"404 - Page not found"}')},46:function(e){e.exports=JSON.parse('{"header.back":"Zur\xfcck","header.close":"Schlie\xdfen","header.more":"Mehr Optionen","footer.about":"\xdcber OWB","footer.help":"Hilfe","footer.datasets":"Datasets","app.point":"Pkt.","app.points":"Pkte.","home.empty":"Erstelle jetzt deine erste Liste.","home.newList":"Neue Liste","new.title":"Neue Liste","new.army":"Armee:","new.create":"Liste anlegen","misc.name":"Name:","misc.description":"Beschreibung (optional):","misc.points":"Punkte:","misc.increase":"Erh\xf6hen","misc.decrease":"Verringern","misc.duplicate":"Duplizieren","misc.rename":"Umbenennen","misc.edit":"Bearbeiten","misc.delete":"L\xf6schen","misc.export":"Exportieren","misc.print":"Drucken","misc.remove":"Entfernen","misc.startpage":"Zur Startseite","editor.add":"Hinzuf\xfcgen","editor.lords":"Kommandanten","editor.heroes":"Helden","editor.characters":"Charaktere","editor.core":"Kerneinheiten","editor.special":"Eliteeinheiten","editor.rare":"Seltene Einheiten","editor.mercenaries":"S\xf6ldner","editor.allies":"Verb\xfcndete","editor.tooManyPoints":" Pkte. zu viel","editor.availablePoints":" Pkte. verf\xfcgbar","editor.missingPoints":" Pkte. fehlen","add.title":"Einheit ausw\xe4hlen","duplicate.copyOf":"Kopie von","duplicate.title":"Liste duplizieren","edit.title":"Liste bearbeiten","export.title":"Liste exportieren","export.copy":"Als Text kopieren","export.copied":"Text kopiert!","export.error":"Das hat leider nicht geklappt :(.","export.visibleList":"Sichtbare Liste","export.visibleListDescription":"keine Punkte und versteckte Gegenst\xe4nde","export.createdWith":"Erstellt mit","print.printing":"Druckt...","unit.perModel":"pro Modell","unit.noOptions":"Keine Optionen verf\xfcgbar.","unit.unitSize":"Einheitengr\xf6\xdfe:","unit.command":"Kommandoabteilung:","unit.equipment":"Ausr\xfcstung:","unit.options":"Optionen:","unit.mount":"Reittier:","unit.magicItems":"Magische Gegenst\xe4nde","unit.detachments":"Abteilungen","help.title":"Hilfe","help.text":"Bei Fragen oder Problemen kannst du ein Issue auf {github} erstellen, mir auf {twitter} schreiben oder unserem {discord} beitreten.","about.title":"Was ist der \\"Old World Builder\\"?","about.text":"Der {owb} ist ein Armeeplaner f\xfcr die Games Workshop Tabletop Spiele Warhammer Fantasy und Warhammer: The Old World (sobald es erscheint).","about.text2":"Das Projekt ist Open-Source und wird entwickelt von Nico Thiebes ({twitter}).","about.text3":"Der {owb} wird Open-Source entwickelt. Ihr k\xf6nnt dabei helfen, fehlende bzw. unvollst\xe4ndige Datensets der Armeen zu vervollst\xe4ndigen. Details dazu Ihr findet ihr auf der {github} Projektseite oder auf unserem {discord}.","about.support":"Eure Unterst\xfctzung","about.disclaimer":"Diese Website ist v\xf6llig inoffiziell und wird in keiner Weise von Games Workshop Limited unterst\xfctzt.","about.credits":"Fantasy icons von {gameIcons} ({license}).","rename.title":"Einheit umbenennen","datasets.title":"Datasets Editor","404.title":"404 - Seite nicht gefunden"}')},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(30),s=n.n(a),r=n(5),o=n(84),d=n(8),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=n(7),u=n(9),h=n(13),p=n(11),O=n(44),x=n(83),f=n(3),g=n(10),_=n.n(g),v=n.p+"static/media/symbol-defs.220641f9.svg",y=(n(58),n(0)),N=function(e){var t=e.className,n=e.symbol,i=e.color;return Object(y.jsx)("svg",{focusable:"false",className:_()("icon",i&&"icon--".concat(i),t),children:Object(y.jsx)("use",{xlinkHref:"".concat(v,"#icon-").concat(n)})})},w=(n(60),function(e){var t=e.className,n=e.type,i=e.to,c=e.onClick,a=e.children,s=e.spaceBottom,r=e.spaceTop,o=e.fullWidth,d=e.label,l=e.icon,j=e.centered,m=e.color,b=e.submitButton,h=e.disabled,p=e.size,O=i?u.b:"button",x={};return i||(x.type=b?"submit":"button"),Object(y.jsxs)(O,Object(f.a)(Object(f.a)({className:_()("button","button--".concat(n),m&&"button--".concat(m),s&&"button--spaceBottom",r&&"button--spaceTop",o&&"button--fullWidth",j&&"button--centered",h&&"button--disabled","button--".concat(p),t),onClick:c,to:i,"aria-label":d,title:d,disabled:h},x),{},{children:[l&&Object(y.jsx)(N,{className:_()(a&&"button__icon"),symbol:l}),a&&a]}))});w.defaultProps={type:"primary",size:"large"};var M,k,I,S,F=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{command:e.command?e.command.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t})})):null,equipment:e.equipment?e.equipment.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t})})):null,mounts:e.mounts?e.mounts.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t})})):null,options:e.options?e.options.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t})})):null})}))},W=(n(62),function(e){var t=e.className,n=e.headline,c=e.subheadline,a=e.moreButton,s=e.to,r=e.isSection,o=e.hasPointsError,d=Object(O.a)(),l=Object(h.g)(),j=Object(i.useState)(!1),m=Object(b.a)(j,2),u=m[0],p=m[1],x=r?"section":"header";return Object(i.useEffect)((function(){p(!1)}),[l.pathname]),Object(y.jsxs)(x,{className:_()(r?"column-header":"header",t),children:[s?Object(y.jsx)(w,{type:"text",to:s,label:r?d.formatMessage({id:"header.close"}):d.formatMessage({id:"header.back"}),color:r?"dark":"light",icon:r?"close":"back"}):Object(y.jsx)(y.Fragment,{children:a&&Object(y.jsx)("div",{className:"header__empty-icon"})}),Object(y.jsxs)("div",{className:"header__text",children:[n&&Object(y.jsx)("h1",{className:"header__name",children:n}),c&&Object(y.jsxs)("p",{className:"header__points",children:[c," ",o&&Object(y.jsx)(N,{symbol:"error",color:"red"})]})]}),a?Object(y.jsx)(w,{type:"text",className:_()(u&&"header__more-button"),color:r?"dark":"light",label:d.formatMessage({id:"header.more"}),icon:"more",onClick:function(){p(!u)}}):Object(y.jsx)(y.Fragment,{children:s&&Object(y.jsx)("div",{className:"header__empty-icon"})}),u&&Object(y.jsx)("ul",{className:"header__more",children:a.map((function(e){var t=e.callback,n=e.name,i=e.icon,c=e.to;return Object(y.jsx)("li",{children:Object(y.jsx)(w,{type:"text",onClick:t,to:c,icon:i,children:n})},n)}))})]})}),C=(n(63),function(){return Object(y.jsx)(N,{symbol:"spinner",className:"spinner"})}),P=function(){return{language:localStorage.getItem("lang")}},B=n.p+"static/media/germany.d9625f93.svg",T=n.p+"static/media/usa.699fdb72.svg",L=(n(64),function(e){var t=e.className,n=e.children,i=e.isDesktop,c=e.compact,a=e.loading,s=P().language,r=function(e){localStorage.setItem("lang",e.target.value),window.location.reload()};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("main",{className:_()("main",i?"main--desktop":"main--mobile",c&&"main--compact",t),children:[n,a&&Object(y.jsx)(C,{})]}),!a&&Object(y.jsxs)("footer",{className:"footer",children:[Object(y.jsxs)("nav",{children:[Object(y.jsx)(u.b,{to:"/about",children:Object(y.jsx)(x.a,{id:"footer.about"})}),Object(y.jsx)(u.b,{to:"/help",children:Object(y.jsx)(x.a,{id:"footer.help"})})]}),Object(y.jsxs)("div",{className:"footer__languages",children:[Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"english",name:"languages",value:"en",onChange:r,defaultChecked:"en"===s,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"english",className:"radio__label",children:[Object(y.jsx)("img",{width:"24",alt:"",src:T,className:"footer__language-icon"}),"English"]})]}),Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"deutsch",name:"languages",value:"de",onChange:r,defaultChecked:"de"===s,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"deutsch",className:"radio__label",children:[Object(y.jsx)("img",{width:"24",alt:"",src:B,className:"footer__language-icon"}),"Deutsch"]})]})]})]})]})}),D=(n(65),function(e){var t=e.options,n=e.className,i=e.id,c=e.name,a=e.required,s=e.selected,r=e.disabled,o=e.value,d=e.onChange,l=e.spaceBottom,j=P().language;return Object(y.jsx)("select",{id:i,name:c,required:a,onChange:function(e){d(e.target.value)},value:o,defaultValue:s,disabled:r,className:_()("select",l&&"select--spaceBottom",n),children:t.map((function(e){var t=e.name_de,n=e.name_en,i=e.id;return Object(y.jsx)("option",{value:i,children:"de"===j?t:n},i)}))})}),q=(n(66),function(e){var t=Object(O.a)();return Object(y.jsxs)("div",{className:"number-input",children:[Object(y.jsx)("input",Object(f.a)(Object(f.a)({},e),{},{type:"number",pattern:"[0-9]*"})),Object(y.jsx)(w,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)+1,id:e.id}})},type:"secondary",icon:"up",label:t.formatMessage({id:"misc.increase"}),disabled:e.value>=e.max,className:"number-input__button number-input__button--up"}),Object(y.jsx)(w,{onClick:function(t){t.preventDefault(),e.onChange({target:{value:Number(e.value)-1,id:e.id}})},type:"secondary",icon:"down",label:t.formatMessage({id:"misc.decrease"}),disabled:e.value<=e.min,className:"number-input__button number-input__button--down"})]})}),A=n(22),z=n(25),U=n(23),G=Object(U.b)({name:"lists",initialState:[],reducers:{setLists:function(e,t){return t.payload||[]},updateList:function(e,t){var n=t.payload,i=n.listId,c={name:n.name,points:n.points,description:n.description};return Object.keys(c).forEach((function(e){return void 0===c[e]?delete c[e]:{}})),e.map((function(e){var t=e.id;return i===t?Object(f.a)(Object(f.a)({},e),c):e}))},deleteList:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},addUnit:function(e,t){var n=t.payload,i=n.listId,c=n.type,a=n.unit,s=Object(f.a)(Object(f.a)({},a),{},{strength:a.minimum});return e.map((function(e){var t=e.id;return i===t?Object(f.a)(Object(f.a)({},e),{},Object(z.a)({},c,[].concat(Object(p.a)(e[c]),[s]))):e}))},duplicateUnit:function(e,t){var n=t.payload,i=n.listId,c=n.type,a=n.unitId,s=e.find((function(e){return e.id===i}))[c].find((function(e){return e.id===a}));return e.map((function(e){var t=e.id;return i===t?Object(f.a)(Object(f.a)({},e),{},Object(z.a)({},c,[].concat(Object(p.a)(e[c]),[Object(f.a)(Object(f.a)({},s),{},{id:"".concat(s.id.split(".")[0],".").concat(F())})]))):e}))},editUnit:function(e,t){var n=t.payload,i=n.listId,c=n.type,a=n.strength,s=n.unitId,r=n.options,o=n.equipment,d=n.command,l=n.mounts,j=n.magic,m=n.name,b={strength:a,options:r,equipment:o,command:d,mounts:l,magic:j,detachments:n.detachments,name_de:m,name_en:m},u=e.find((function(e){return e.id===i}))[c].find((function(e){return e.id===s}));Object.keys(b).forEach((function(e){return void 0===b[e]?delete b[e]:{}}));var h=Object(f.a)(Object(f.a)({},u),b);return e.map((function(e){var t=e.id;return i===t?Object(f.a)(Object(f.a)({},e),{},Object(z.a)({},c,e[c].map((function(e){return e.id===u.id?h:e})))):e}))},removeUnit:function(e,t){var n=t.payload,i=n.listId,c=n.type,a=n.unitId;return e.map((function(e){var t=e.id;return i===t?Object(f.a)(Object(f.a)({},e),{},Object(z.a)({},c,e[c].filter((function(e){return e.id!==a})))):e}))}}}),R=G.actions,H=R.setLists,J=R.addUnit,K=R.editUnit,V=R.removeUnit,Y=R.duplicateUnit,Z=R.updateList,$=R.deleteList,Q=(R.duplicateList,G.reducer),X=n.p+"static/media/warhammer-fantasy.4a99fa99.png",ee=n.p+"static/media/the-old-world.6310c52f.png",te=(n(67),function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(h.g)(),a=Object(r.b)(),s=Object(O.a)(),o=Object(r.c)((function(e){return e.lists})),d=Object(i.useState)("the-old-world"),l=Object(b.a)(d,2),j=l[0],m=l[1],u=Object(i.useState)(A.find((function(e){return e.id===j})).armies[0].id),f=Object(b.a)(u,2),g=f[0],_=f[1],v=Object(i.useState)(""),N=Object(b.a)(v,2),M=N[0],k=N[1],I=Object(i.useState)(""),S=Object(b.a)(I,2),E=S[0],C=S[1],P=Object(i.useState)(2e3),B=Object(b.a)(P,2),T=B[0],z=B[1],U=Object(i.useState)(null),G=Object(b.a)(U,2),R=G[0],J=G[1],K=function(e){m(e.target.value),_(A.filter((function(t){return t.id===e.target.value}))[0].armies[0].id)};return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(y.jsxs)(y.Fragment,{children:[R&&Object(y.jsx)(h.a,{to:"/editor/".concat(R)}),t&&Object(y.jsx)(W,{to:"/",headline:s.formatMessage({id:"new.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/",headline:s.formatMessage({id:"new.title"})}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=F(),t={"warhammer-fantasy":{name:M,description:E,game:j,points:T,army:g,lords:[],heroes:[],core:[],special:[],rare:[],id:e},"the-old-world":{name:M,description:E,game:j,points:T,army:g,characters:[],core:[],special:[],rare:[],mercenaries:[],allies:[],id:e}},n=[].concat(Object(p.a)(o),[t[j]]);localStorage.setItem("owb.lists",JSON.stringify(n)),a(H(n)),J(e)}()},className:"new-list",children:[A.map((function(e){var t=e.name,n=e.id;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:n,name:"new-list",value:n,onChange:K,checked:n===j,className:"radio__input","aria-label":t}),Object(y.jsxs)("label",{htmlFor:n,className:"radio__label",children:["warhammer-fantasy"===n&&Object(y.jsx)("img",{height:"20",src:X,alt:t}),"the-old-world"===n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{height:"35",src:ee,alt:t}),Object(y.jsx)("p",{className:"new-list__beta",children:"Beta"})]})]})]},n)})),Object(y.jsx)("label",{htmlFor:"name",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:M,onChange:function(e){k(e.target.value)},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"description",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:E,onChange:function(e){C(e.target.value)},autoComplete:"off"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(q,{id:"points",className:"input",min:0,value:T,onChange:function(e){z(e.target.value)},required:!0}),Object(y.jsx)("label",{htmlFor:"army",children:Object(y.jsx)(x.a,{id:"new.army"})}),Object(y.jsx)(D,{id:"army",options:A.filter((function(e){return e.id===j}))[0].armies,onChange:function(e){_(e)},selected:"warhammer-fantasy",spaceBottom:!0,required:!0}),Object(y.jsx)(w,{centered:!0,icon:"add-list",submitButton:!0,children:Object(y.jsx)(x.a,{id:"new.create"})})]})]})]})}),ne={lords:{maxPercent:25},heroes:{maxPercent:25},characters:{maxPercent:50},core:{minPercent:25},special:{maxPercent:50,maxSame:3,maxSameLarge:6},rare:{maxPercent:25,maxSame:2,maxSameLarge:4},mercenaries:{maxPercent:20},allies:{maxPercent:25}},ie=function(e){var t=e.type,n=e.armyPoints,i=e.points,c=n/100*ne[t].maxPercent;return{points:Math.floor(c),overLimit:i>c,diff:i>c?Math.ceil(i-c):0}},ce=(n(68),function(e){var t=e.to,n=e.onClick,i=e.children,c=e.className,a=e.active,s=t?u.b:"button";return Object(y.jsx)("li",{className:_()("list",a&&"list--active",c),children:Object(y.jsx)(s,{to:t,className:"list__inner",onClick:n,children:i})})}),ae=function(e){var t=e.mounts,n=e.equipment,i=e.options,c=e.command,a=e.magic,s=e.detachments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.asString,d=r.noMagic,l=localStorage.getItem("lang"),j=c?c.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===l?t:n})):[],m=n?n.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===l?t:n})):[],b=i?i.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===l?t:n})):[],u=i?i.filter((function(e){return e.stackableCount>0})).map((function(e){var t=e.name_de,n=e.name_en,i=e.stackableCount;return"".concat(i," ").concat("de"===l?t:n)})):[],h=t?t.filter((function(e){return e.active})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===l?t:n})):[],O=(null===a||void 0===a?void 0:a.items)?a.items.map((function(e){var t=e.name_de,n=e.name_en;return"de"===l?t:n})):[],x=s?s.filter((function(e){return e.strength>0})).map((function(e){var t=e.name_de,n=e.name_en,i=e.strength;return"".concat(i," ").concat("de"===l?t:n)})):[],f=[].concat(Object(p.a)(m),Object(p.a)(b),Object(p.a)(u),Object(p.a)(j),Object(p.a)(h),Object(p.a)(d?[]:O),Object(p.a)(x)),g=f.join(", ");return g?o?g:Object(y.jsx)("p",{children:g}):null},se=function(e){var t,n=0;return n=e.strength?e.strength*e.points:e.points,e.options&&e.options.forEach((function(t){t.stackable?n+=(t.stackableCount||t.minimum||0)*t.points:t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.equipment&&e.equipment.forEach((function(t){t.active&&t.perModel?n+=e.strength*t.points:t.active&&(n+=t.points)})),e.command&&e.command.forEach((function(e){e.active&&(n+=e.points)})),e.mounts&&e.mounts.forEach((function(e){e.active&&(n+=e.points)})),(null===e||void 0===e||null===(t=e.magic)||void 0===t?void 0:t.items)&&e.magic.items.forEach((function(e){n+=e.points})),e.detachments&&e.detachments.forEach((function(e){n+=e.strength*e.points})),n},re=function(e){var t,n=e.unit,i=e.command,c=Number(i),a=0;return(null===n||void 0===n||null===(t=n.magic)||void 0===t?void 0:t.items)&&(c>=0?n.magic.items.forEach((function(e){e.command===c&&(a+=e.points)})):n.magic.items.forEach((function(e){a+=e.points}))),a},oe=function(e){var t=0;return e&&e.forEach((function(e){t+=e.points})),t},de=function(e){var t=e.type,n=e.list,i=0;return n[t]&&n[t].forEach((function(e){i+=se(e)})),i},le=function(e){return de({list:e,type:"lords"})+de({list:e,type:"heroes"})+de({list:e,type:"core"})+de({list:e,type:"special"})+de({list:e,type:"rare"})+de({list:e,type:"characters"})+de({list:e,type:"mercenaries"})+de({list:e,type:"allies"})},je=function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("owb.lists",JSON.stringify(t))},me=(n(69),function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(h.h)().listId,a=Object(O.a)(),s=Object(r.b)(),o=Object(i.useState)(!1),l=Object(b.a)(o,2),j=l[0],m=l[1],u=Object(h.g)(),p=P().language,f=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return c===t}))}));if(Object(i.useEffect)((function(){var e=function(){document.location.hash==="#".concat(u.pathname)&&sessionStorage.setItem("scrollPosition",window.pageYOffset)};return window.addEventListener("scroll",function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}(e,100)),window.scrollTo(0,Number(sessionStorage.getItem("scrollPosition"))||0),function(){return window.removeEventListener("scroll",e)}}),[u.pathname]),Object(i.useEffect)((function(){f&&je(f)}),[f]),j)return Object(y.jsx)(h.a,{to:"/"});if(!f)return t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/"}),Object(y.jsx)(L,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/",isSection:!0}),Object(y.jsx)(L,{loading:!0})]});var g=le(f),v=de({list:f,type:"lords"}),M=de({list:f,type:"heroes"}),k=de({list:f,type:"characters"}),I=de({list:f,type:"core"}),S=de({list:f,type:"special"}),F=de({list:f,type:"rare"}),E=de({list:f,type:"mercenaries"}),C=de({list:f,type:"allies"}),B=ie({type:"lords",armyPoints:f.points,points:v}),T=ie({type:"heroes",armyPoints:f.points,points:M}),D=ie({type:"characters",armyPoints:f.points,points:k}),q=function(e){var t=e.type,n=e.armyPoints,i=e.points,c=n/100*ne[t].minPercent;return{points:Math.floor(c),overLimit:i<=c,diff:i<=c?Math.ceil(c-i):0}}({type:"core",armyPoints:f.points,points:I}),A=ie({type:"special",armyPoints:f.points,points:S}),z=ie({type:"rare",armyPoints:f.points,points:F}),U=ie({type:"mercenaries",armyPoints:f.points,points:F}),G=ie({type:"allies",armyPoints:f.points,points:F}),R=[{name:a.formatMessage({id:"misc.edit"}),icon:"edit",to:"/editor/".concat(c,"/edit")},{name:a.formatMessage({id:"misc.duplicate"}),icon:"duplicate",to:"/editor/".concat(c,"/duplicate")},{name:a.formatMessage({id:"misc.delete"}),icon:"delete",callback:function(){s($(c)),function(e){var t=JSON.parse(localStorage.getItem("owb.lists")).filter((function(t){var n=t.id;return e!==n}));localStorage.setItem("owb.lists",JSON.stringify(t))}(c),m(!0)}},{name:a.formatMessage({id:"misc.export"}),icon:"export",to:"/editor/".concat(c,"/export")},{name:a.formatMessage({id:"misc.print"}),icon:"print",to:"/print/".concat(c)}];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(f.name)})}),t&&Object(y.jsx)(W,{to:"/",headline:f.name,subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",g>f.points&&"magic__header-points--error"),children:[g,"\xa0"]}),"/ ".concat(f.points," ").concat(a.formatMessage({id:"app.points"}))]}),hasPointsError:g>f.points,moreButton:R}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/",headline:f.name,subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",g>f.points&&"magic__header-points--error"),children:[g,"\xa0"]}),"/ ".concat(f.points," ").concat(a.formatMessage({id:"app.points"}))]}),hasPointsError:g>f.points,moreButton:R}),f.lords&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.lords"})}),Object(y.jsx)("p",{className:"editor__points",children:B.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:B.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:B.points-v}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.lords.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/lords/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/lords"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),f.heroes&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.heroes"})}),Object(y.jsx)("p",{className:"editor__points",children:T.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:T.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:T.points-M}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.heroes.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/heroes/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/heroes"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),f.characters&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.characters"})}),Object(y.jsx)("p",{className:"editor__points",children:D.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:D.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:D.points-k}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.characters.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/characters/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/characters"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.core"})}),Object(y.jsx)("p",{className:"editor__points",children:q.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:q.diff}),Object(y.jsx)(x.a,{id:"editor.missingPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:I})," / ".concat(q.points," "),Object(y.jsx)(x.a,{id:"app.points"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.core.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/core/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(y.jsx)("b",{children:e["name_".concat(p)]})]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/core"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.special"})}),Object(y.jsx)("p",{className:"editor__points",children:A.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:A.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:A.points-S}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.special.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/special/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(y.jsx)("b",{children:e["name_".concat(p)]})]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/special"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.rare"})}),Object(y.jsx)("p",{className:"editor__points",children:z.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:z.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:z.points-F}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.rare.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/rare/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsxs)("span",{children:[(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," "),Object(y.jsx)("b",{children:e["name_".concat(p)]})]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/editor/".concat(c,"/add/rare"),icon:"add",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"editor.add"})})]}),f.mercenaries&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.mercenaries"})}),Object(y.jsx)("p",{className:"editor__points",children:U.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:U.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:U.points-E}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.mercenaries.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/mercenaries/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)("p",{className:"editor__soon",children:"Coming soon"})]}),f.allies&&Object(y.jsxs)("section",{className:"editor__section",children:[Object(y.jsxs)("header",{className:"editor__header",children:[Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"editor.allies"})}),Object(y.jsx)("p",{className:"editor__points",children:G.diff>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:G.diff}),Object(y.jsx)(x.a,{id:"editor.tooManyPoints"}),Object(y.jsx)(N,{symbol:"error",color:"red"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("strong",{children:G.points-C}),Object(y.jsx)(x.a,{id:"editor.availablePoints"}),Object(y.jsx)(N,{symbol:"check"})]})})]}),Object(y.jsx)("ul",{children:f.allies.map((function(e,t){return Object(y.jsxs)(ce,{to:"/editor/".concat(c,"/allies/").concat(e.id),className:"editor__list",active:u.pathname.includes(e.id),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:e["name_".concat(p)]}),Object(y.jsx)("i",{children:"".concat(se(e)," ").concat(a.formatMessage({id:"app.points"}))})]}),ae(e)]},t)}))}),Object(y.jsx)("p",{className:"editor__soon",children:"Coming soon"})]})]})]})}),be=n(47),ue=n.p+"static/media/the-empire.d3620178.svg",he=n.p+"static/media/dwarfs.d1515ee2.svg",pe=n.p+"static/media/greenskins.ea460b46.svg",Oe=n.p+"static/media/beastmen.6a9fce0f.svg",xe=n.p+"static/media/chaos-deamons.1f26ab65.svg",fe=n.p+"static/media/chaos-warriors.95dbc8c2.svg",ge=n.p+"static/media/dark-elves.9d17a9e4.svg",_e=n.p+"static/media/high-elves.446a07c8.svg",ve=n.p+"static/media/lizardmen.1864459d.svg",ye=n.p+"static/media/ogres.8b76905b.svg",Ne=n.p+"static/media/skaven.76cb48b7.svg",we=n.p+"static/media/tomb-kings.9b30c541.svg",Me=n.p+"static/media/vampire-counts.fd13d874.svg",ke=n.p+"static/media/wood-elves.2b1066f8.svg",Ie=n.p+"static/media/chaos-dwarfs.ee5f1bd3.svg",Se=n.p+"static/media/bretonnia.e5c3a1d0.svg",Fe=(n(70),{"the-empire":ue,dwarfs:he,greenskins:pe,"empire-of-man":ue,"orc-and-goblins-tribes":pe,"dwarfen-mountain-holds":he,"warriors-of-chaos":fe,"kingdom-of-bretonnia":Se,"beastmen-brayherds":Oe,"wood-elf-realms":ke,"tomb-kings-of-khemri":we,"high-elf-realms":_e,"dark-elves":ge,skaven:Ne,"vampire-counts":Me,"daemons-of-chaos":xe,"ogre-kingdoms":ye,lizardmen:ve,"chaos-dwarfs":Ie}),Ee=function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(r.c)((function(e){return e.lists})),a=Object(h.g)();return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[a.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder - Army builder for Warhammer Fantasy and Warhammer: The Old World"})}),t&&Object(y.jsx)(W,{headline:"Old World Builder"}),Object(y.jsxs)(n,{children:[!c.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("img",{src:ue,alt:"",width:"100",height:"100",className:"home__logo"}),Object(y.jsx)("i",{className:"home__empty",children:Object(y.jsx)(x.a,{id:"home.empty"})})]}),Object(y.jsx)("ul",{children:c.map((function(e,t){var n=e.id,i=e.name,c=e.description,s=e.points,r=e.game,o=e.army,d=Object(be.a)(e,["id","name","description","points","game","army"]);return Object(y.jsxs)(ce,{to:"/editor/".concat(n),active:a.pathname.includes(n),children:[Object(y.jsxs)("span",{className:"home__list-item",children:[Object(y.jsx)("h2",{className:"home__headline",children:i}),c&&Object(y.jsx)("p",{className:"home__description",children:c}),Object(y.jsxs)("p",{className:"home__points",children:[le(Object(f.a)(Object(f.a)({},d),{},{points:s}))," ","/ ",s," ",Object(y.jsx)(x.a,{id:"app.points"})]})]}),Object(y.jsxs)("div",{className:"home__info",children:[Object(y.jsx)("img",{width:"70",src:"warhammer-fantasy"===r?X:ee,alt:"warhammer-fantasy"===r?"Warhammer Fantasy":"Warhammer: The Old World",className:"home__game"}),Object(y.jsx)("img",{height:"40",width:"40",src:Fe[o],alt:""})]})]},t)}))}),Object(y.jsx)(w,{centered:!0,to:"/new",icon:"new-list",spaceTop:!0,children:Object(y.jsx)(x.a,{id:"home.newList"})})]})]})},We=(n(71),function(e){var t=e.url,n=e.onSuccess,i=e.onError;M=new AbortController,fetch("".concat("/").concat(t,".json?v=").concat("0.2.0"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:M.signal}).then((function(e){return e.json()})).then((function(e){n&&n(e)})).catch((function(e){i&&i(e)}))}),Ce=Object(U.b)({name:"army",initialState:null,reducers:{setItems:function(e,t){return t.payload}}}),Pe=Ce.actions.setItems,Be=Ce.reducer,Te={greenskins:{name_de:"Glitzakram",name_en:"Shiny Stuff"},"the-empire":{name_de:"Magische Erbst\xfccke",name_en:"Heirlooms of Magic"},heirlooms:{name_de:"Erbst\xfccke",name_en:"Ancestral Heirlooms"},dwarfs:{name_de:"Zwergenrunen",name_en:"Runic Items"},general:{name_de:"Magische Gegenst\xe4nde",name_en:"Magic Items"},weapon:{name_de:"Magische Waffen",name_en:"Magic Weapons"},armor:{name_de:"Magische R\xfcstungen",name_en:"Magic Armour"},talisman:{name_de:"Talismane",name_en:"Talismans"},banner:{name_de:"Magische Standarten",name_en:"Magic Standards"},artifact:{name_de:"Arkane Artifakte",name_en:"Arcane Items"},"enchanted-item":{name_de:"Verzauberte Gegenst\xe4nde",name_en:"Enchanted Items"},"weapon-runes":{name_de:"Waffenrunen",name_en:"Weapon Runes"},"armor-runes":{name_de:"R\xfcstungsrunen",name_en:"Armour Runes"},"banner-runes":{name_de:"Standartenrunen",name_en:"Banner Runes"},"talismanic-runes":{name_de:"Talismanrunen",name_en:"Talismanic Runes"},"engineering-runes":{name_de:"Maschinenrunen",name_en:"Engineering Runes"},triptych:{name_de:"Triptych",name_en:"Triptych"},"kingdom-of-bretonnia":{name_de:"Kingdom of Bretonnia",name_en:"Kingdom of Bretonnia"}},Le=(n(72),function(e){var t,n,c=e.isMobile,a=c?L:i.Fragment,s=Object(h.g)(),o=P().language,l=Object(O.a)(),j=Object(i.useState)(!0),m=Object(b.a)(j,2),u=m[0],x=m[1],g=Object(h.h)(),v=g.listId,N=g.type,w=g.unitId,M=g.command,S=Object(r.b)(),F=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return v===t}))})),E=F&&A.find((function(e){return e.id===F.game})).armies.find((function(e){var t=e.id;return F.army===t})),C=Object(r.c)((function(e){return e.items})),B=F?F[N]:null,T=B&&B.find((function(e){return e.id===w})),D=T&&T.command&&T.command[M]&&(null===(t=T.command[M])||void 0===t||null===(n=t.magic)||void 0===n?void 0:n.maxPoints)||T&&T.magic.maxPoints,q=function(e,t){var n,i;e.target.checked?n=[].concat(Object(p.a)((null===T||void 0===T||null===(i=T.magic)||void 0===i?void 0:i.items)||[]),[Object(f.a)(Object(f.a)({},t),{},{command:Number(M),id:e.target.value})]):n=T.magic.items.filter((function(t){return t.id!==e.target.value}));S(K({listId:v,type:N,unitId:w,magic:Object(f.a)(Object(f.a)({},T.magic),{},{items:n})}))};if(Object(i.useEffect)((function(){window.scrollTo(0,0)}),[s.pathname]),Object(i.useEffect)((function(){F&&je(F)}),[F]),Object(i.useEffect)((function(){E&&We({url:"games/".concat(F.game,"/magic-items"),onSuccess:function(e){var t=E.items.map((function(t){return{items:e[t],name_de:Te[t].name_de,name_en:Te[t].name_en,id:t}}));S(Pe(function(e){return e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{items:e.items.map((function(e,t){return e.conditional?Object(f.a)(Object(f.a)({},e),{},{id:t,conditional:e.conditional.map((function(e,n){return Object(f.a)(Object(f.a)({},e),{},{id:"".concat(t,"-").concat(n)})}))}):Object(f.a)(Object(f.a)({},e),{},{id:t})}))})}))}(t))),x(!1)}})}),[E,S,F,x,T,o]),u)return c?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(v,"/").concat(N,"/").concat(w)}),Object(y.jsx)(L,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(v,"/").concat(N,"/").concat(w),isSection:!0}),Object(y.jsx)(L,{loading:!0})]});var z=function(e){var t,n=e.unit,i=e.magicItem,c=e.itemGroup,a=e.isConditional,s=(null===n||void 0===n||null===(t=n.magic)||void 0===t?void 0:t.items)&&n.magic.items.find((function(e){return e.id==="".concat(c.id,"-").concat(i.id)}))||!1;return Object(y.jsxs)("div",{className:_()("checkbox",a&&"checkbox--conditional"),children:[Object(y.jsx)("input",{type:"checkbox",id:"".concat(c.id,"-").concat(i.id),value:"".concat(c.id,"-").concat(i.id),onChange:function(e){return q(e,i)},checked:s,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"".concat(c.id,"-").concat(i.id),className:"checkbox__label",children:["de"===o?i.name_de:i.name_en,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(i.points," ").concat(l.formatMessage({id:"app.points"}))})]})]},i.id)},U=re({unit:T,command:M})>D;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(F.name)})}),c&&Object(y.jsx)(W,{to:"/editor/".concat(v,"/").concat(N,"/").concat(w),headline:l.formatMessage({id:"unit.magicItems"}),subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",U&&"magic__header-points--error"),children:["".concat(re({unit:T,command:M})),"\xa0"]}),"/ ".concat(D," ").concat(l.formatMessage({id:"app.points"}))]}),hasPointsError:U}),Object(y.jsxs)(a,{children:[!c&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(v,"/").concat(N,"/").concat(w),headline:l.formatMessage({id:"unit.magicItems"}),subheadline:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:_()("magic__header-points",U&&"magic__header-points--error"),children:["".concat(re({unit:T,command:M})),"\xa0"]}),"/ ".concat(D," ").concat(l.formatMessage({id:"app.points"}))]}),hasPointsError:U}),C.map((function(e){return Object(y.jsxs)(i.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:"de"===o?e.name_de:e.name_en}),e.items.map((function(t){var n,c;if(k!==t.type?(k=t.type,I=!0):I=!1,(null===T||void 0===T?void 0:T.command)&&(null===T||void 0===T?void 0:T.command[M])&&!T.command[M].magic.types.includes(t.type))return null;if((null===T||void 0===T||null===(n=T.magic)||void 0===n?void 0:n.types)&&!T.magic.types.includes(t.type))return null;var a=(null===T||void 0===T||null===(c=T.magic)||void 0===c?void 0:c.items)&&T.magic.items.find((function(n){return n.id==="".concat(e.id,"-").concat(t.id)}))||!1;return Object(y.jsxs)(i.Fragment,{children:[I&&Object(y.jsx)("h3",{className:"magic__type",children:Te[t.type]["name_".concat(o)]}),z({unit:T,magicItem:t,itemGroup:e}),t.conditional&&a?t.conditional.map((function(t){return z({unit:T,magicItem:t,itemGroup:e,isConditional:!0})})):null]},t.name_de)}))]},e.name_de)}))]})]})}),De=Object(U.b)({name:"army",initialState:null,reducers:{setArmy:function(e,t){return t.payload}}}),qe=De.actions.setArmy,Ae=De.reducer,ze=(n(73),function(e){var t,n,c,a=e.isMobile,s=a?L:i.Fragment,o=Object(h.h)(),l=o.listId,j=o.type,m=o.unitId,u=Object(r.b)(),g=P().language,v=Object(i.useState)(null),M=Object(b.a)(v,2),k=M[0],I=M[1],S=Object(h.g)(),C=Object(O.a)(),B=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return l===t}))})),T=B?B[j]:null,D=T&&T.find((function(e){return e.id===m})),A=Object(r.c)((function(e){return e.army})),z=A&&A.core.filter((function(e){return e.detachment})),U=0;if((null===D||void 0===D||null===(t=D.magic)||void 0===t?void 0:t.items)&&(null===D||void 0===D||null===(n=D.magic)||void 0===n||n.items.forEach((function(e){U+=e.points}))),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[S.pathname]),Object(i.useEffect)((function(){B&&je(B)}),[B]),Object(i.useEffect)((function(){B&&We({url:"games/".concat(B.game,"/").concat(B.army),onSuccess:function(e){u(qe({lords:E(e.lords),heroes:E(e.heroes),characters:E(e.characters),core:E(e.core),special:E(e.special),rare:E(e.rare),mercenaries:E(e.mercenaries),allies:E(e.allies)}))}})}),[B,u]),!0===k)return Object(y.jsx)(h.a,{to:"/editor/".concat(l)});if(!D||!A)return a?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(l)}),Object(y.jsx)(L,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(l),isSection:!0}),Object(y.jsx)(L,{loading:!0})]});var G=[{name:C.formatMessage({id:"misc.rename"}),icon:"edit",to:"/editor/".concat(l,"/").concat(j,"/").concat(D.id,"/rename")},{name:C.formatMessage({id:"misc.duplicate"}),icon:"duplicate",callback:function(){return function(e){u(Y({listId:l,type:j,unitId:e})),I(!0)}(D.id)}},{name:C.formatMessage({id:"misc.remove"}),icon:"delete",callback:function(){return function(e){u(V({listId:l,type:j,unitId:e})),I(!0)}(D.id)}}];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(B.name)})}),a&&Object(y.jsx)(W,{to:"/editor/".concat(l),moreButton:G,headline:D["name_".concat(g)],subheadline:"".concat(se(D)," ").concat(C.formatMessage({id:"app.points"}))}),Object(y.jsxs)(s,{children:[!a&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(l),moreButton:G,headline:D["name_".concat(g)],subheadline:"".concat(se(D)," ").concat(C.formatMessage({id:"app.points"}))}),!D.minimum&&!D.command&&!D.equipment&&!D.mounts&&!D.magic&&!D.options&&Object(y.jsx)("i",{className:"unit__empty",children:Object(y.jsx)(x.a,{id:"unit.noOptions"})}),D.minimum&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{htmlFor:"strength",className:"unit__strength",children:Object(y.jsx)(x.a,{id:"unit.unitSize"})}),Object(y.jsx)(q,{id:"strength",className:"input",min:D.minimum,max:D.maximum,value:D.strength,onChange:function(e){u(K({listId:l,type:j,unitId:m,strength:e.target.value}))}})]}),D.command&&D.command.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.command"})}),D.command.map((function(e,t){var n,c,a=e.name_de,s=e.name_en,r=e.points,o=e.perModel,d=e.id,b=e.active,h=void 0!==b&&b,p=e.magic,O=0;return D.magic&&D.magic.items.filter((function(e){return e.command===t})).forEach((function(e){var t=e.points;O+=t})),Object(y.jsxs)(i.Fragment,{children:[Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"command-".concat(d),value:d,onChange:function(){return function(e){var t,n=(null===(t=D.magic)||void 0===t?void 0:t.items)||[],i=D.command.map((function(t,i){return t.id===e?(t.active&&(n=n.filter((function(e){return e.command!==i}))),Object(f.a)(Object(f.a)({},t),{},{active:!t.active})):t}));u(K({listId:l,type:j,unitId:m,command:i,magic:Object(f.a)(Object(f.a)({},D.magic),{},{items:n})}))}(d)},checked:h,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"command-".concat(d),className:"checkbox__label",children:["de"===g?a:s,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(r," ").concat(1===r?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),o&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]}),p&&h&&Object(y.jsxs)(ce,{to:"/editor/".concat(l,"/").concat(j,"/").concat(m,"/magic/").concat(t),className:"editor__list unit__link",active:S.pathname.includes("magic"),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{children:p.types.map((function(e){return Te[e]["name_".concat(g)]})).join(", ")}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{className:_()(O>D.command[t].magic.maxPoints&&"editor__error"),children:oe(null===D||void 0===D||null===(n=D.magic)||void 0===n?void 0:n.items.filter((function(e){return e.command===t})))})," ","/ ",D.command[t].magic.maxPoints," ",Object(y.jsx)(x.a,{id:"app.points"})]}),O>D.command[t].magic.maxPoints&&Object(y.jsx)(N,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),(null===D||void 0===D||null===(c=D.magic)||void 0===c?void 0:c.items)&&Object(y.jsx)("p",{children:D.magic.items.filter((function(e){return e.command===t})).map((function(e){var t=e.name_de,n=e.name_en;return"de"===g?t:n})).join(", ")})]})]},d)}))]}),D.equipment&&D.equipment.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.equipment"})}),D.equipment.map((function(e){var t=e.name_de,n=e.name_en,i=e.points,c=e.perModel,a=e.id,s=e.active,r=void 0!==s&&s;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"equipment-".concat(a),name:"equipment",value:a,onChange:function(){return function(e){var t=D.equipment.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{active:t.id===e})}));u(K({listId:l,type:j,unitId:m,equipment:t}))}(a)},checked:r,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"equipment-".concat(a),className:"radio__label",children:["de"===g?t:n,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(i," ").concat(1===i?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),c&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]},a)}))]}),D.options&&D.options.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.options"})}),D.options.map((function(e){var t=e.name_de,n=e.name_en,c=e.points,a=e.perModel,s=e.id,r=e.stackable,o=e.maximum,d=e.minimum,b=void 0===d?0:d,h=e.stackableCount,p=void 0===h?b||0:h,O=e.active,x=void 0!==O&&O;return r?Object(y.jsxs)(i.Fragment,{children:[Object(y.jsxs)("label",{htmlFor:"options-".concat(s),className:"unit__special-option",children:["de"===g?t:n,":",Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(c," ").concat(C.formatMessage({id:"app.points"})," ").concat(C.formatMessage({id:"unit.perModel"}))})]}),Object(y.jsx)(q,{id:"options-".concat(s),className:"input",min:b,max:o,value:p,onChange:function(e){return function(e){var t=e.id,n=e.stackableCount,i=D.options.map((function(e){return e.id===t?Object(f.a)(Object(f.a)({},e),{},{stackableCount:n}):e}));u(K({listId:l,type:j,unitId:m,options:i}))}({id:s,stackableCount:e.target.value})}})]},s):Object(y.jsxs)("div",{className:"checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"options-".concat(s),value:s,onChange:function(){return function(e){var t=D.options.map((function(t){return t.id===e?Object(f.a)(Object(f.a)({},t),{},{active:!t.active}):t}));u(K({listId:l,type:j,unitId:m,options:t}))}(s)},checked:x,className:"checkbox__input"}),Object(y.jsxs)("label",{htmlFor:"options-".concat(s),className:"checkbox__label",children:["de"===g?t:n,Object(y.jsxs)("i",{className:"checkbox__points",children:["".concat(c," ").concat(1===c?C.formatMessage({id:"app.point"}):C.formatMessage({id:"app.points"})),a&&" ".concat(C.formatMessage({id:"unit.perModel"}))]})]})]},s)}))]}),D.regimentalUnit&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline unit__detachments-headline",children:Object(y.jsx)(x.a,{id:"unit.detachments"})}),z.map((function(e){var t=e.name_de,n=e.name_en,i=e.id;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments-header",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:"de"===g?t:n}),Object(y.jsx)(w,{onClick:function(){return function(e){var t=e.id,n=z.find((function(e){return e.id===t})),i=D.detachments?Object(p.a)(D.detachments):[];i.push({id:"".concat(t,".").concat(F()),name_de:n.name_de,name_en:n.name_en,points:n.points,strength:5}),u(K({listId:l,type:j,unitId:m,detachments:i}))}({id:i})},type:"secondary",icon:"add",label:C.formatMessage({id:"editor.add"}),size:"small"})]})},i),D.detachments&&D.detachments.filter((function(e){return e.id.split(".")[0]===i.split(".")[0]})).map((function(e){var t=e.name_de,n=e.name_en,i=e.strength,c=e.id,a=e.points;return Object(y.jsx)("div",{className:"list",children:Object(y.jsxs)("div",{className:"list__inner unit__detachments",children:[Object(y.jsx)(q,{id:"strength-".concat(c),className:"input",min:5,value:i,onChange:function(e){return function(e){var t=e.id,n=e.strength;console.log(t,n);var i=Object(p.a)(D.detachments).map((function(e){return e.id===t?Object(f.a)(Object(f.a)({},e),{},{strength:n}):e}));u(K({listId:l,type:j,unitId:m,detachments:i}))}({id:c,strength:e.target.value})}}),Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"de"===g?t:n}),Object(y.jsx)("i",{children:"".concat(se({strength:i,points:a})," ").concat(C.formatMessage({id:"app.points"}))})]}),Object(y.jsx)(w,{onClick:function(){return function(e){var t=e.id,n=Object(p.a)(D.detachments).filter((function(e){return e.id!==t}));u(K({listId:l,type:j,unitId:m,detachments:n}))}({id:c})},type:"secondary",icon:"close",label:C.formatMessage({id:"misc.remove"}),size:"small"})]})},c)}))]})}))]}),D.mounts&&D.mounts.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"unit__subline",children:Object(y.jsx)(x.a,{id:"unit.mount"})}),D.mounts.map((function(e){var t=e.name_de,n=e.name_en,i=e.points,c=e.id,a=e.active,s=void 0!==a&&a;return Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsx)("input",{type:"radio",id:"mounts-".concat(c),name:"mounts",value:c,onChange:function(){return function(e){var t=D.mounts.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{active:t.id===e})}));u(K({listId:l,type:j,unitId:m,mounts:t}))}(c)},checked:s,className:"radio__input"}),Object(y.jsxs)("label",{htmlFor:"mounts-".concat(c),className:"radio__label",children:["de"===g?t:n,Object(y.jsx)("i",{className:"checkbox__points",children:"".concat(i," ").concat(C.formatMessage({id:"app.points"}))})]})]},c)}))]}),(null===D||void 0===D||null===(c=D.magic)||void 0===c?void 0:c.maxPoints)&&Object(y.jsxs)(ce,{to:"/editor/".concat(l,"/").concat(j,"/").concat(m,"/magic"),className:"editor__list unit__link",active:S.pathname.includes("magic"),children:[Object(y.jsxs)("div",{className:"editor__list-inner",children:[Object(y.jsx)("b",{className:"unit__magic-headline",children:Object(y.jsx)(x.a,{id:"unit.magicItems"})}),Object(y.jsxs)("i",{className:"checkbox__points",children:[Object(y.jsx)("span",{className:_()(U>D.magic.maxPoints&&"editor__error"),children:U})," ","/ ",D.magic.maxPoints," ",Object(y.jsx)(x.a,{id:"app.points"})]}),U>D.magic.maxPoints&&Object(y.jsx)(N,{symbol:"error",color:"red",className:"unit__magic-icon"})]}),D.magic.items&&Object(y.jsx)("p",{children:D.magic.items.map((function(e){var t=e.name_de,n=e.name_en;return"de"===g?t:n})).join(", ")})]})]})]})}),Ue=(n(74),function(e){var t=e.isMobile,n=Object(h.g)(),c=Object(O.a)(),a=t?L:i.Fragment,s=Object(h.h)().listId,o=Object(r.b)(),l=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(i.useEffect)((function(){l&&je(l)}),[l]),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),l?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(l.name)})}),t&&Object(y.jsx)(W,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsxs)(a,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsx)("label",{htmlFor:"name",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:l.name,onChange:function(e){o(Z({listId:s,name:e.target.value}))},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:l.description,onChange:function(e){o(Z({listId:s,description:e.target.value}))},autoComplete:"off"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(q,{id:"points",className:"input",min:0,value:l.points,onChange:function(e){o(Z({listId:s,points:Number(e.target.value)}))},required:!0})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(s),headline:c.formatMessage({id:"edit.title"})}),Object(y.jsx)(L,{})]})}),Ge=function(){var e=Object(h.g)(),t=Object(O.a)();return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.about"}))})}),Object(y.jsx)(W,{headline:"Old World Builder"}),Object(y.jsxs)(L,{compact:!0,children:[Object(y.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"about.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text",values:{owb:Object(y.jsx)("i",{children:"Old World Builder"})}})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text2",values:{twitter:Object(y.jsx)("a",{href:"https://twitter.com/_gscheid",target:"_blank",rel:"noreferrer",children:"@_gscheid"})}})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"about.support"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.text3",values:{owb:Object(y.jsx)("i",{children:"Old World Builder"}),github:Object(y.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"}),discord:Object(y.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})}),Object(y.jsx)("h2",{children:"Credits"}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.credits",values:{gameIcons:Object(y.jsx)("a",{href:"https://game-icons.net",target:"_blank",rel:"noreferrer",children:"game-icons.net"}),license:Object(y.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noreferrer",children:"CC BY 3.0"})}})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"about.disclaimer"})})]})]})},Re=function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(h.h)(),a=c.listId,s=c.type,o=Object(r.b)(),l=Object(i.useState)(null),j=Object(b.a)(l,2),m=j[0],u=j[1],p=Object(O.a)(),x=Object(h.g)(),g=P().language,_=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return a===t}))})),v=Object(r.c)((function(e){return e.army}));return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[x.pathname]),Object(i.useEffect)((function(){_&&We({url:"games/".concat(_.game,"/").concat(_.army),onSuccess:function(e){o(qe({lords:E(e.lords),heroes:E(e.heroes),characters:E(e.characters),core:E(e.core),special:E(e.special),rare:E(e.rare),mercenaries:E(e.mercenaries),allies:E(e.allies)}))}})}),[_,o]),m?Object(y.jsx)(h.a,{to:"/editor/".concat(a,"/").concat(s,"/").concat(m.id)}):v?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(_.name)})}),t&&Object(y.jsx)(W,{to:"/editor/".concat(a),headline:p.formatMessage({id:"add.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(a),headline:p.formatMessage({id:"add.title"})}),Object(y.jsx)("ul",{children:v[s].map((function(e){var t=e.name_de,n=e.name_en,i=e.id,c=e.minimum,r=e.points;return Object(y.jsxs)(ce,{onClick:function(){return function(e){var t=Object(f.a)(Object(f.a)({},v[s].find((function(t){var n=t.id;return e===n}))),{},{id:"".concat(e,".").concat(F())});o(J({listId:a,type:s,unit:t})),u(t)}(i)},children:[Object(y.jsxs)("span",{className:"unit__name",children:[c&&"".concat(c," "),Object(y.jsx)("b",{children:"de"===g?t:n})]}),Object(y.jsx)("i",{className:"unit__points",children:"".concat(c?r*c:r," ").concat(p.formatMessage({id:"app.points"}))})]},i)}))})]})]}):t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(a)}),Object(y.jsx)(L,{loading:!0})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(a),isSection:!0}),Object(y.jsx)(L,{loading:!0})]})},He=function(){var e=Object(h.g)(),t=Object(O.a)();return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(t.formatMessage({id:"footer.help"}))})}),Object(y.jsx)(W,{headline:"Old World Builder"}),Object(y.jsxs)(L,{compact:!0,children:[Object(y.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"help.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"help.text",values:{github:Object(y.jsx)("a",{href:"https://github.com/nthiebes/old-world-builder",target:"_blank",rel:"noreferrer",children:"GitHub"}),twitter:Object(y.jsx)("a",{href:"https://twitter.com/_gscheid",target:"_blank",rel:"noreferrer",children:"Twitter"}),discord:Object(y.jsx)("a",{href:"https://discord.gg/87nUyjUxTU",target:"_blank",rel:"noreferrer",children:"Discord"})}})})]})]})},Je=(n(75),function(e){var t=e.units,n=e.isShowList,i=e.intl,c=e.language;return t.map((function(e){var t=ae(e,{asString:!0,noMagic:n});return n?"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(c)],"\n").concat(t?"- ".concat(t.split(", ").join("\n- "),"\n"):"","\n"):"".concat(e.strength||e.minimum?"".concat(e.strength||e.minimum," "):"").concat(e["name_".concat(c)]," [").concat(se(e)," ").concat(i.formatMessage({id:"app.points"}),"]\n").concat(t?"- ".concat(t.split(", ").join("\n- "),"\n"):"","\n")})).join("")}),Ke=function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(O.a)(),a=Object(h.g)(),s=P().language,o=Object(i.useState)(!1),l=Object(b.a)(o,2),j=l[0],m=l[1],u=Object(i.useState)(!1),p=Object(b.a)(u,2),f=p[0],g=p[1],_=Object(i.useState)(!1),v=Object(b.a)(_,2),N=v[0],M=v[1],k=Object(h.h)().listId,I=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return k===t}))})),S=I?function(e){var t=e.list,n=e.isShowList,i=e.intl,c=e.language,a=le(t),s=de({list:t,type:"lords"}),r=de({list:t,type:"heroes"}),o=de({list:t,type:"characters"}),d=de({list:t,type:"core"}),l=de({list:t,type:"special"}),j=de({list:t,type:"rare"}),m=de({list:t,type:"mercenaries"}),b=de({list:t,type:"allies"}),u=A.find((function(e){return e.id===t.game})),h=u.armies.find((function(e){return e.id===t.army}))["name_".concat(c)];return n?"the-old-world"===t.game?"===\n".concat(t.name,"\n").concat(u.name,", ").concat(h,"\n===\n\n++ ").concat(i.formatMessage({id:"editor.characters"})," ++\n\n").concat(Je({units:t.characters,isShowList:n,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.core"})," ++\n\n").concat(Je({units:t.core,isShowList:n,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.special"})," ++\n\n").concat(Je({units:t.special,isShowList:n,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.rare"})," ++\n\n").concat(Je({units:t.rare,isShowList:n,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.mercenaries"})," ++\n\n").concat(Je({units:t.mercenaries,isShowList:n,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.allies"})," ++\n\n").concat(Je({units:t.allies,isShowList:n,intl:i,language:c}),"\n\n---\n").concat(i.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]'):"===\n  ".concat(t.name,"\n  ").concat(u.name,", ").concat(h,"\n  ===\n  \n  ++ ").concat(i.formatMessage({id:"editor.lords"})," ++\n  \n  ").concat(Je({units:t.lords,isShowList:n,intl:i,language:c}),"\n  ++ ").concat(i.formatMessage({id:"editor.heroes"})," ++\n  \n  ").concat(Je({units:t.heroes,isShowList:n,intl:i,language:c}),"\n  ++ ").concat(i.formatMessage({id:"editor.core"})," ++\n  \n  ").concat(Je({units:t.core,isShowList:n,intl:i,language:c}),"\n  ++ ").concat(i.formatMessage({id:"editor.special"})," ++\n  \n  ").concat(Je({units:t.special,isShowList:n,intl:i,language:c}),"\n  ++ ").concat(i.formatMessage({id:"editor.rare"})," ++\n  \n  ").concat(Je({units:t.rare,isShowList:n,intl:i,language:c}),"\n  \n  ---\n  ").concat(i.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n  \n  [https://old-world-builder.com]'):"the-old-world"===t.game?"===\n".concat(t.name," [").concat(a," ").concat(i.formatMessage({id:"app.points"}),"]\n").concat(u.name,", ").concat(h,"\n===\n\n++ ").concat(i.formatMessage({id:"editor.characters"})," [").concat(o," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.characters,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.core"})," [").concat(d," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.core,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.special"})," [").concat(l," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.special,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.rare"})," [").concat(j," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.rare,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.mercenaries"})," [").concat(m," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.mercenaries,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.allies"})," [").concat(b," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.allies,intl:i,language:c}),"\n\n---\n").concat(i.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]'):"===\n".concat(t.name," [").concat(a," ").concat(i.formatMessage({id:"app.points"}),"]\n").concat(u.name,", ").concat(h,"\n===\n\n++ ").concat(i.formatMessage({id:"editor.lords"})," [").concat(s," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.lords,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.heroes"})," [").concat(r," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.heroes,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.core"})," [").concat(d," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.core,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.special"})," [").concat(l," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.special,intl:i,language:c}),"\n++ ").concat(i.formatMessage({id:"editor.rare"})," [").concat(j," ").concat(i.formatMessage({id:"app.points"}),"] ++\n\n").concat(Je({units:t.rare,intl:i,language:c}),"\n\n---\n").concat(i.formatMessage({id:"export.createdWith"}),' "Old World Builder"\n\n[https://old-world-builder.com]')}({list:I,isShowList:N,intl:c,language:s}):"";return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[a.pathname]),I?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(I.name)})}),t&&Object(y.jsx)(W,{to:"/editor/".concat(k),headline:c.formatMessage({id:"export.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(k),headline:c.formatMessage({id:"export.title"})}),Object(y.jsx)(w,{icon:j?"check":"copy",centered:!0,spaceTop:!0,spaceBottom:!0,onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(S).then((function(){m(!0)}),(function(){g(!0)}))},children:j?c.formatMessage({id:"export.copied"}):c.formatMessage({id:"export.copy"})}),f&&Object(y.jsx)("p",{className:"export__error",children:Object(y.jsx)(x.a,{id:"export.error"})}),Object(y.jsxs)("div",{className:"checkbox export__visible-checkbox",children:[Object(y.jsx)("input",{type:"checkbox",id:"show",onChange:function(){return M(!N)},checked:N,className:"checkbox__input"}),Object(y.jsx)("label",{htmlFor:"show",className:"checkbox__label",children:Object(y.jsx)(x.a,{id:"export.visibleList"})})]}),Object(y.jsx)("p",{className:"export__visible-description",children:Object(y.jsxs)("i",{children:["(",Object(y.jsx)(x.a,{id:"export.visibleListDescription"}),")"]})}),Object(y.jsx)("textarea",{className:"export__text",value:S,readOnly:!0})]})]}):null},Ve=(n(76),function(){var e=Object(h.h)().listId,t=P().language,n=Object(i.useState)(!1),c=Object(b.a)(n,2),a=c[0],s=c[1],o=Object(r.c)((function(t){return t.lists.find((function(t){var n=t.id;return e===n}))}));if(Object(i.useEffect)((function(){o&&(document.title="".concat(o.name," - Old World Builder"),window.onafterprint=function(){document.title="Old World Builder",s(!0)},window.print())}),[o,t]),!o)return null;var d=le(o),l=de({list:o,type:"lords"}),j=de({list:o,type:"heroes"}),m=de({list:o,type:"characters"}),u=de({list:o,type:"core"}),p=de({list:o,type:"special"}),O=de({list:o,type:"rare"}),f=de({list:o,type:"mercenaries"}),g=de({list:o,type:"allies"}),_=A.find((function(e){return e.id===o.game})),v=_.armies.find((function(e){return e.id===o.army}))["name_".concat(t)];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{className:"print-back",to:"/editor/".concat(e),centered:!0,icon:"back",spaceTop:!0,spaceBottom:!0,children:Object(y.jsx)(x.a,{id:"header.back"})}),!a&&Object(y.jsx)("p",{className:"print-info",children:Object(y.jsx)(x.a,{id:"print.printing"})}),Object(y.jsxs)("main",{className:"print",children:[Object(y.jsxs)("h1",{children:[o.name," ",Object(y.jsxs)("span",{className:"print__points",children:["[",d," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsxs)("p",{className:"print__subheader",children:[_.name,", ",v]}),"the-old-world"===o.game?Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.characters"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",m," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.characters.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.lords"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",l," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.lords.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.heroes"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",j," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.heroes.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:["de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.core"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",u," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.core.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.special"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",p," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.special.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.rare"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",O," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.rare.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),"the-old-world"===o.game&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.mercenaries"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",f," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.mercenaries.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]}),Object(y.jsxs)("section",{children:[Object(y.jsxs)("h2",{children:[Object(y.jsx)(x.a,{id:"editor.allies"})," ",Object(y.jsxs)("span",{className:"print__points",children:["[",g," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),Object(y.jsx)("ul",{children:o.allies.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:"print__strength",children:(e.strength||e.minimum)&&"".concat(e.strength||e.minimum," ")}),"de"===t?e.name_de:e.name_en,Object(y.jsxs)("span",{className:"print__points",children:["[",se(e)," ",Object(y.jsx)(x.a,{id:"app.points"}),"]"]})]}),ae(e)]},e.id)}))})]})]})]}),Object(y.jsxs)("footer",{className:"print-footer",children:[Object(y.jsxs)("p",{children:[Object(y.jsx)(x.a,{id:"export.createdWith"})," ",Object(y.jsx)("b",{children:'"Old World Builder"'})]}),Object(y.jsxs)("p",{children:["[",Object(y.jsx)("a",{href:"https://old-world-builder.com",children:Object(y.jsx)("i",{children:"old-world-builder.com"})}),"]"]})]})]})}),Ye=(n(77),function(e){var t=e.isMobile,n=Object(h.g)(),c=Object(O.a)(),a=t?L:i.Fragment,s=Object(h.h)().listId,o=Object(r.b)(),l=Object(i.useState)(""),j=Object(b.a)(l,2),m=j[0],u=j[1],g=Object(i.useState)(2e3),_=Object(b.a)(g,2),v=_[0],N=_[1],M=Object(i.useState)(""),k=Object(b.a)(M,2),I=k[0],S=k[1],E=Object(i.useState)(null),C=Object(b.a)(E,2),P=C[0],B=C[1],T=Object(r.c)((function(e){return e.lists})),D=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return s===t}))}));return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[n.pathname]),Object(i.useEffect)((function(){D&&(u("".concat(c.formatMessage({id:"duplicate.copyOf"})," ").concat(D.name)),N(D.points),S(D.description))}),[D,c]),D?Object(y.jsxs)(y.Fragment,{children:[P&&Object(y.jsx)(h.a,{to:"/editor/".concat(P)}),Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(D.name)})}),t&&Object(y.jsx)(W,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsxs)(a,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsxs)("form",{onSubmit:function(e){var t=F(),n=[].concat(Object(p.a)(T),[Object(f.a)(Object(f.a)({},D),{},{name:m,points:v,description:I,id:t})]);e.preventDefault(),localStorage.setItem("owb.lists",JSON.stringify(n)),o(H(n)),B(t)},className:"duplicate",children:[Object(y.jsx)("label",{htmlFor:"name",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:m,onChange:function(e){u(e.target.value)},autoComplete:"off",required:!0}),Object(y.jsx)("label",{htmlFor:"description",className:"edit__label",children:Object(y.jsx)(x.a,{id:"misc.description"})}),Object(y.jsx)("input",{type:"text",id:"description",className:"input",value:I,onChange:function(e){S(e.target.value)},autoComplete:"off"}),Object(y.jsx)("label",{htmlFor:"points",children:Object(y.jsx)(x.a,{id:"misc.points"})}),Object(y.jsx)(q,{id:"points",className:"input",min:0,value:v,onChange:function(e){N(e.target.value)},required:!0}),Object(y.jsx)(w,{centered:!0,icon:"duplicate",submitButton:!0,children:Object(y.jsx)(x.a,{id:"misc.duplicate"})})]})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(s),headline:c.formatMessage({id:"duplicate.title"})}),Object(y.jsx)(L,{})]})}),Ze=(n(78),function(e){var t=e.isMobile,n=t?L:i.Fragment,c=Object(h.g)(),a=Object(O.a)(),s=P().language,o=Object(h.h)(),l=o.listId,j=o.type,m=o.unitId,b=Object(r.b)(),u=Object(r.c)((function(e){return e.lists.find((function(e){var t=e.id;return l===t}))})),p=u?u[j]:null,f=p&&p.find((function(e){return e.id===m})),g=f?f["de"===s?"name_de":"name_en"]:"";return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[c.pathname]),Object(i.useEffect)((function(){u&&je(u)}),[u]),u?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | ".concat(u.name)})}),t&&Object(y.jsx)(W,{to:"/editor/".concat(l,"/").concat(j,"/").concat(m),headline:a.formatMessage({id:"rename.title"})}),Object(y.jsxs)(n,{children:[!t&&Object(y.jsx)(W,{isSection:!0,to:"/editor/".concat(l,"/").concat(j,"/").concat(m),headline:a.formatMessage({id:"rename.title"})}),Object(y.jsx)("label",{htmlFor:"name",className:"rename__label",children:Object(y.jsx)(x.a,{id:"misc.name"})}),Object(y.jsx)("input",{type:"text",id:"name",className:"input",value:g,onChange:function(e){b(K({listId:l,type:j,unitId:m,name:e.target.value}))},autoComplete:"off",required:!0})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{to:"/editor/".concat(l,"/").concat(j,"/").concat(m),headline:a.formatMessage({id:"rename.title"})}),Object(y.jsx)(L,{})]})}),$e=function(){var e=Object(h.g)();return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)("title",{children:"Old World Builder | 404"})}),Object(y.jsx)(W,{headline:"Old World Builder"}),Object(y.jsxs)(L,{compact:!0,children:[Object(y.jsx)(w,{to:"/",icon:"home",centered:!0,children:Object(y.jsx)(x.a,{id:"misc.startpage"})}),Object(y.jsx)("h2",{children:Object(y.jsx)(x.a,{id:"404.title"})}),Object(y.jsx)("p",{children:Object(y.jsx)(x.a,{id:"404.title"})})]})]})},Qe=(n(79),function(){var e=Object(r.b)(),t=Object(i.useState)(window.matchMedia("(max-width: 1279px)").matches),n=Object(b.a)(t,2),c=n[0],a=n[1];return Object(i.useEffect)((function(){var t=localStorage.getItem("owb.lists");localStorage.setItem("owb.lists",t),e(H(JSON.parse(t)))}),[e]),Object(i.useEffect)((function(){window.matchMedia("(max-width: 1279px)").addEventListener("change",(function(e){return a(e.matches)}))}),[]),Object(y.jsx)(u.a,{children:c?Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/edit",children:Object(y.jsx)(Ue,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/export",children:Object(y.jsx)(Ke,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/duplicate",children:Object(y.jsx)(Ye,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/add/:type",children:Object(y.jsx)(Re,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(y.jsx)(Le,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(y.jsx)(Ze,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(y.jsx)(Le,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId",children:Object(y.jsx)(ze,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/editor/:listId",children:Object(y.jsx)(me,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/new",children:Object(y.jsx)(te,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"/about",children:Object(y.jsx)(Ge,{})}),Object(y.jsx)(h.b,{path:"/help",children:Object(y.jsx)(He,{})}),Object(y.jsx)(h.b,{path:"/print/:listId",children:Object(y.jsx)(Ve,{})}),Object(y.jsx)(h.b,{path:"/",exact:!0,children:Object(y.jsx)(Ee,{isMobile:!0})}),Object(y.jsx)(h.b,{path:"*",children:Object(y.jsx)($e,{})})]}):Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/about",children:Object(y.jsx)(Ge,{})}),Object(y.jsx)(h.b,{path:"/help",children:Object(y.jsx)(He,{})}),Object(y.jsx)(h.b,{path:"/print/:listId",children:Object(y.jsx)(Ve,{})}),Object(y.jsxs)(h.b,{path:"/",children:[Object(y.jsx)(W,{headline:"Old World Builder"}),Object(y.jsxs)(L,{isDesktop:!0,children:[Object(y.jsx)("section",{className:"column",children:Object(y.jsx)(Ee,{})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/new",children:Object(y.jsx)(te,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId",children:Object(y.jsx)(me,{})})]})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/edit",children:Object(y.jsx)(Ue,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/export",children:Object(y.jsx)(Ke,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/duplicate",children:Object(y.jsx)(Ye,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/add/:type",children:Object(y.jsx)(Re,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId",children:Object(y.jsx)(ze,{})})]})}),Object(y.jsx)("section",{className:"column",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic/:command",children:Object(y.jsx)(Le,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/rename",children:Object(y.jsx)(Ze,{})}),Object(y.jsx)(h.b,{path:"/editor/:listId/:type/:unitId/magic",children:Object(y.jsx)(Le,{})})]})})]})]})]})})}),Xe=Object(U.b)({name:"errors",initialState:[],reducers:{setErrors:function(e,t){return t.payload||[]},addError:function(e,t){var n=t.payload;return[].concat(Object(p.a)(e),[n])}}}),et=Xe.actions,tt=(et.setErrors,et.addError,Xe.reducer),nt=Object(U.a)({reducer:{lists:Q,army:Ae,items:Be,errors:tt}}),it=n(45),ct=n(46),at=(localStorage.getItem("lang")||navigator.language||navigator.userLanguage).slice(0,2),st=-1===["en","de"].indexOf(at)?"en":at;localStorage.setItem("lang",st),document.documentElement.setAttribute("lang",st),document.querySelector("meta[name=description]").setAttribute("content",{de:"Armeebauer f\xfcr Warhammer: The Old World und Warhammer Fantasy.",en:"Army builder for Warhammer: The Old World and Warhammer Fantasy Battles."}[st]),S="de"===st?ct:it,s.a.render(Object(y.jsx)(o.a,{locale:at,messages:S,children:Object(y.jsx)(r.a,{store:nt,children:Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(d.b,{children:Object(y.jsx)(Qe,{})})})})}),document.getElementById("root")),l(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");j?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):m(t,e)}))}}()}},[[80,1,2]]]);
//# sourceMappingURL=main.9476c881.chunk.js.map